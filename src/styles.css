@import "tailwindcss";

:root {
  /* font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif; */
  font-family: 'Inter', sans-serif;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  color-scheme: light dark;
  --page-gutter: 24px;
  --left-rail-w: 300px;
  --right-panel-w: 400px;
  --col-gap: 16px;
  --right-rail-w: 72px;
  --split-handle-w: 14px;
  --map-h: clamp(340px, 40vh, 420px);
  --dial-size: clamp(108px, 9vw, 132px);
  --cta-bg: rgba(37, 99, 235, 0.14);
  --cta-border: rgba(37, 99, 235, 0.36);
  --cta-hover-bg: rgba(37, 99, 235, 0.22);
  --cta-text: #1d4ed8;
  --cta-disabled-border: rgba(148, 163, 184, 0.36);
  --cta-disabled-text: rgba(15, 23, 42, 0.45);
  --progress-chip-bg: rgba(37, 99, 235, 0.1);
  --progress-chip-text: #1e3a8a;
  --gantt-header-bg: rgba(248, 250, 252, 0.8);
  --gantt-header-text: #0f172a;
}

[data-theme='light'] {
  --app-bg: linear-gradient(180deg, #ffffff 0%, #f4f7ff 100%);
  --sidebar-bg: rgba(255, 255, 255, 0.98);
  --sidebar-border: rgba(15, 23, 42, 0.08);
  --sidebar-active: linear-gradient(135deg, #2563eb, #38bdf8);
  --surface-1: #ffffff;
  --surface-2: #f9fafb;
  --accent: #2563eb;
  --accent-warm: #fb923c;
  --accent-cool: #0ea5e9;
  --accent-strong: #1d4ed8;
  --text-primary: #0f172a;
  --text-muted: #475569;
  --border-subtle: rgba(148, 163, 184, 0.28);
  --map-overlay: rgba(255, 255, 255, 0.85);
  --shadow-soft: 0 24px 60px rgba(15, 23, 42, 0.18);
  --shadow-strong: 0 40px 90px rgba(37, 99, 235, 0.25);
  --card-glow: rgba(59, 130, 246, 0.18);
  --icon-muted: #cbd5f5;
  --schedule-row-bg: #ffffff;
  --schedule-row-bg-alt: #f6f7fb;
  --schedule-row-border: rgba(15, 23, 42, 0.08);
  --schedule-row-collapsed-bg: rgba(15, 23, 42, 0.08);
  --schedule-row-collapsed-border: rgba(15, 23, 42, 0.18);
  --gantt-row-collapsed-bg: rgba(37, 99, 235, 0.16);
  --gantt-bg: #ffffff;
  --gantt-project-bg: rgba(37, 99, 235, 0.12);
  --gantt-current-period: rgba(255, 153, 82, 0.16);
  --gantt-bar-default-bg: rgba(59, 130, 246, 0.14);
  --gantt-bar-default-bg-selected: rgba(59, 130, 246, 0.25);
  --gantt-bar-default-progress: #2563eb;
  --gantt-bar-default-progress-selected: #1d4ed8;
  --gantt-bar-on-track-progress: #1e64f0;
  --gantt-bar-on-track-progress-selected: #2563eb;
  --gantt-bar-on-track-bg: rgba(30, 100, 240, 0.2);
  --gantt-bar-on-track-bg-selected: rgba(30, 100, 240, 0.3);
  --gantt-bar-monitoring-progress: #ff8a3d;
  --gantt-bar-monitoring-progress-selected: #f97316;
  --gantt-bar-monitoring-bg: rgba(255, 138, 61, 0.22);
  --gantt-bar-monitoring-bg-selected: rgba(255, 138, 61, 0.32);
  --gantt-bar-risk-progress: #ff6b3d;
  --gantt-bar-risk-progress-selected: #fb923c;
  --gantt-bar-risk-bg: rgba(255, 107, 61, 0.2);
  --gantt-bar-risk-bg-selected: rgba(255, 107, 61, 0.32);
  --gantt-bar-placeholder-progress: rgba(100, 116, 139, 0.55);
  --gantt-bar-placeholder-progress-selected: rgba(51, 65, 85, 0.72);
  --gantt-bar-placeholder-bg: rgba(148, 163, 184, 0.14);
  --gantt-bar-placeholder-bg-selected: rgba(148, 163, 184, 0.24);
  --gantt-bar-collapsed-bg: rgba(37, 99, 235, 0.16);
  --gantt-bar-collapsed-bg-selected: rgba(37, 99, 235, 0.26);
  --gantt-link: rgba(100, 116, 139, 0.65);
  --gantt-link-hover: rgba(59, 130, 246, 0.85);
  --gantt-progress-border: rgba(15, 23, 42, 0.12);
  --gantt-label-dark: #0f172a;
  --gantt-label-light: #f8fafc;
  --gantt-label-halo-for-dark: rgba(248, 250, 252, 0.88);
  --gantt-label-halo-for-light: rgba(15, 23, 42, 0.35);
  --gantt-label-tag-bg-dark: rgba(248, 250, 252, 0.92);
  --gantt-label-tag-bg-light: rgba(30, 41, 59, 0.82);
  --gantt-header-bg: rgba(242, 246, 255, 0.92);
  --gantt-header-text: #475569;
  --chip-active-text: #0f172a;
  --status-on-track: #1e64f0;
  --status-on-track-muted: rgba(30, 100, 240, 0.18);
  --status-at-risk: #ff8a3d;
  --status-at-risk-muted: rgba(255, 138, 61, 0.32);
  --status-delayed: #ff6b3d;
  --status-delayed-muted: rgba(255, 107, 61, 0.4);
  --status-completed: #2563eb;
  --status-completed-muted: rgba(37, 99, 235, 0.28);
  --status-critical: #9333ea;
  --status-critical-muted: rgba(233, 213, 255, 0.6);
  --status-on-track-task: #1e64f0;
  --status-at-risk-task: #ff8a3d;
  --status-delayed-task: #ff6b3d;
  --status-completed-task: #2563eb;
  --status-critical-task: #7c3aed;
  --gantt-grid-line: rgba(15, 23, 42, 0.08);
  --gantt-grid-fill: #ffffff;
  --gantt-grid-fill-alt: #f5f7fb;
  --gantt-label: #1f2937;
  --gantt-tooltip-bg: rgba(255, 255, 255, 0.98);
  --gantt-tooltip-text: #0f172a;
  --trend-progress: rgba(37, 99, 235, 0.85);
  --trend-risk: rgba(220, 38, 38, 0.85);
  --badge-critical-bg: rgba(147, 51, 234, 0.15);
  --badge-critical-text: #6b21a8;
  --schedule-card-bg: #ffffff;
  --schedule-card-accent: rgba(59, 130, 246, 0.1);
  --schedule-card-shadow: 0 18px 36px rgba(15, 23, 42, 0.12);
  --schedule-card-border: rgba(15, 23, 42, 0.06);
  --schedule-card-glow: rgba(37, 99, 235, 0.12);
  --gantt-task-progress: rgba(15, 23, 42, 0.08);
  --schedule-label-color: #111827;
}

[data-theme='dark'] {
  --app-bg: #040404;
  --sidebar-bg: rgba(8, 8, 8, 0.95);
  --sidebar-border: rgba(255, 255, 255, 0.06);
  --sidebar-active: linear-gradient(145deg, #2563eb, #7c3aed);
  --surface-1: rgba(10, 10, 10, 0.94);
  --surface-2: rgba(15, 15, 15, 0.98);
  --accent: #3b82f6;
  --accent-warm: #fb923c;
  --accent-cool: #34d399;
  --accent-strong: #2563eb;
  --text-primary: #f5f5f5;
  --text-muted: #a1a1aa;
  --border-subtle: rgba(255, 255, 255, 0.08);
  --map-overlay: rgba(12, 12, 12, 0.92);
  --shadow-soft: 0 30px 80px rgba(0, 0, 0, 0.8);
  --shadow-strong: 0 60px 110px rgba(0, 0, 0, 0.85);
  --card-glow: rgba(59, 130, 246, 0.28);
  --icon-muted: rgba(148, 163, 184, 0.25);
  --schedule-row-bg: rgba(6, 6, 6, 0.98);
  --schedule-row-bg-alt: rgba(12, 12, 12, 0.96);
  --schedule-row-border: rgba(255, 255, 255, 0.06);
  --schedule-row-collapsed-bg: rgba(15, 23, 42, 0.6);
  --schedule-row-collapsed-border: rgba(56, 189, 248, 0.32);
  --gantt-row-collapsed-bg: rgba(15, 23, 42, 0.6);
  --gantt-bg: #050505;
  --gantt-project-bg: rgba(47, 129, 247, 0.16);
  --gantt-current-period: rgba(255, 153, 82, 0.22);
  --gantt-bar-default-bg: rgba(47, 129, 247, 0.35);
  --gantt-bar-default-bg-selected: rgba(47, 129, 247, 0.55);
  --gantt-bar-default-progress: #2f81f7;
  --gantt-bar-default-progress-selected: #1d4ed8;
  --gantt-bar-on-track-progress: #1e64f0;
  --gantt-bar-on-track-progress-selected: #58a3ff;
  --gantt-bar-on-track-bg: rgba(30, 100, 240, 0.36);
  --gantt-bar-on-track-bg-selected: rgba(30, 100, 240, 0.52);
  --gantt-bar-monitoring-progress: #ff8a3d;
  --gantt-bar-monitoring-progress-selected: #ffb066;
  --gantt-bar-monitoring-bg: rgba(255, 138, 61, 0.32);
  --gantt-bar-monitoring-bg-selected: rgba(255, 138, 61, 0.45);
  --gantt-bar-risk-progress: #ff6b3d;
  --gantt-bar-risk-progress-selected: #ff9b6b;
  --gantt-bar-risk-bg: rgba(255, 107, 61, 0.35);
  --gantt-bar-risk-bg-selected: rgba(255, 107, 61, 0.48);
  --gantt-bar-placeholder-progress: rgba(148, 163, 184, 0.65);
  --gantt-bar-placeholder-progress-selected: rgba(226, 232, 240, 0.75);
  --gantt-bar-placeholder-bg: rgba(59, 130, 246, 0.28);
  --gantt-bar-placeholder-bg-selected: rgba(59, 130, 246, 0.42);
  --gantt-bar-collapsed-bg: rgba(59, 130, 246, 0.32);
  --gantt-bar-collapsed-bg-selected: rgba(59, 130, 246, 0.5);
  --gantt-link: #3a3a3a;
  --gantt-link-hover: #2f81f7;
  --gantt-progress-border: rgba(0, 0, 0, 0.9);
  --gantt-label-dark: #e6e6e6;
  --gantt-label-light: #e6e6e6;
  --gantt-label-halo-for-dark: rgba(0, 0, 0, 0.72);
  --gantt-label-halo-for-light: rgba(0, 0, 0, 0.72);
  --gantt-label-tag-bg-dark: rgba(18, 18, 18, 0.82);
  --gantt-label-tag-bg-light: rgba(18, 18, 18, 0.82);
  --cta-bg: rgba(37, 99, 235, 0.3);
  --cta-border: rgba(59, 130, 246, 0.45);
  --cta-hover-bg: rgba(37, 99, 235, 0.45);
  --cta-text: #e0f2fe;
  --cta-disabled-border: rgba(63, 63, 70, 0.65);
  --cta-disabled-text: rgba(161, 161, 170, 0.45);
  --progress-chip-bg: rgba(59, 130, 246, 0.28);
  --progress-chip-text: #f8fafc;
  --chip-active-text: #f8fafc;
  --status-on-track: #1e64f0;
  --status-on-track-muted: rgba(30, 100, 240, 0.28);
  --status-at-risk: #ff8a3d;
  --status-at-risk-muted: rgba(255, 138, 61, 0.25);
  --status-delayed: #ff6b3d;
  --status-delayed-muted: rgba(255, 107, 61, 0.3);
  --status-completed: #58a3ff;
  --status-completed-muted: rgba(88, 163, 255, 0.3);
  --status-critical: #c084fc;
  --status-critical-muted: rgba(192, 132, 252, 0.32);
  --status-on-track-task: #1e64f0;
  --status-at-risk-task: #ff8a3d;
  --status-delayed-task: #ff6b3d;
  --status-completed-task: #58a3ff;
  --status-critical-task: #a855f7;
  --gantt-grid-line: #1e1e1e;
  --gantt-grid-fill: #0d0d0d;
  --gantt-grid-fill-alt: #141414;
  --gantt-label: #e6e6e6;
  --gantt-tooltip-bg: rgba(18, 18, 18, 0.96);
  --gantt-tooltip-text: #e6e6e6;
  --trend-progress: rgba(59, 130, 246, 0.85);
  --trend-risk: rgba(248, 113, 113, 0.88);
  --badge-critical-bg: rgba(192, 132, 252, 0.25);
  --badge-critical-text: #ede9fe;
  --schedule-card-bg: rgba(10, 10, 10, 0.96);
  --schedule-card-accent: rgba(59, 130, 246, 0.22);
  --schedule-card-shadow: 0 36px 80px rgba(0, 0, 0, 0.75);
  --schedule-card-border: rgba(148, 163, 184, 0.12);
  --schedule-card-glow: rgba(37, 99, 235, 0.28);
  --gantt-task-progress: rgba(0, 0, 0, 0.45);
  --schedule-label-color: #fafafa;
  --gantt-header-bg: #121212;
  --gantt-header-text: #b3b3b3;
}

@media (min-width: 1440px) {
  :root {
    --right-panel-w: 420px;
  }
}

@keyframes pulse {
  0% {
    opacity: 0.75;
  }
  50% {
    opacity: 0.4;
  }
  100% {
    opacity: 0.75;
  }
}

html,
body,
#root {
  height: 100%;
  margin: 0;
  background: var(--app-bg);
  color: var(--text-primary);
}

body.rcc-panel-open {
  overflow: hidden;
}

* {
  box-sizing: border-box;
}

button.refresh-cta,
.refresh-cta {
  border: 1px solid var(--cta-border);
  background: var(--cta-bg);
  color: var(--cta-text);
  border-radius: 999px;
  padding: 6px 18px;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: background 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  text-decoration: none;
}

.refresh-cta:hover:not(:disabled) {
  background: var(--cta-hover-bg);
  transform: translateY(-1px);
  box-shadow: 0 16px 28px rgba(37, 99, 235, 0.2);
}

.refresh-cta:disabled {
  cursor: not-allowed;
  background: transparent;
  color: var(--cta-disabled-text);
  border-color: var(--cta-disabled-border);
  box-shadow: none;
  transform: none;
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.3);
  border-radius: 999px;
}

.app-shell {
  display: flex;
  height: 100%;
  width: 100%;
  overflow: hidden;
  background: var(--app-bg);
  color: var(--text-primary);
}

.content-shell {
  flex: 1;
  display: flex;
  overflow:auto;
}

.content-shell > * {
  flex: 1;
  display: flex;
  /* overflow: hidden; */
}

.sidebar {
  width: 60px;
  background: var(--sidebar-bg);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 26px 0;
  gap: 22px;
  border-right: 1px solid var(--sidebar-border);
  position: relative;
  z-index: 10;
}

.sidebar-logo {
  width: 45px;
  height: 45px;
  border-radius: 16px;
  background: linear-gradient(140deg, #fb923c, #f97316);
  display: grid;
  place-items: center;
  font-weight: 700;
  font-size: 1.2rem;
  color: #fff;
  box-shadow: 0 12px 30px rgba(249, 115, 22, 0.35);
}

.sidebar button.nav-btn {
  border: none;
  background: none;
  color: var(--text-muted);
  cursor: pointer;
  width: 45px;
  height: 45px;
  border-radius: 16px;
  display: grid;
  place-items: center;
  transition: transform 0.22s ease, box-shadow 0.22s ease, color 0.22s ease, background 0.22s ease;
}

.sidebar button.nav-btn svg {
  width: 20px;
  height: 20px;
}

.sidebar button.nav-btn:hover {
  color: var(--text-primary);
  transform: translateY(-3px);
}

.sidebar button.nav-btn.active {
  color: #fff;
  background-image: var(--sidebar-active);
  box-shadow: 0 18px 38px rgba(37, 99, 235, 0.32);
}

.sidebar button.nav-btn.theme-nav {
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  color: var(--text-primary);
}

.sidebar button.nav-btn.theme-nav:hover {
  color: #fff;
}

.sidebar button.nav-btn.theme-nav.active {
  border-color: transparent;
}

.sidebar-phase {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 8px;
  border-radius: 12px;
  font-size: 0.68rem;
  font-weight: 700;
  letter-spacing: 0.14em;
  background: rgba(148, 163, 184, 0.22);
  color: inherit;
}

.sidebar-footer {
  margin-top: auto;
  display: grid;
  gap: 14px;
  place-items: center;
}

.theme-toggle {
  width: 52px;
  height: 52px;
  border-radius: 16px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  display: grid;
  place-items: center;
  color: var(--text-primary);
  cursor: pointer;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}

.theme-toggle:hover {
  transform: translateY(-3px);
  box-shadow: 0 14px 34px var(--shadow-soft);
}

.theme-toggle svg {
  width: 22px;
  height: 22px;
}

.main {
  display: grid;
  grid-template-rows: auto minmax(360px, 52vh) minmax(0, 1fr);
  height: 100%;
  width: 100%;
  backdrop-filter: blur(18px);
  position: relative;
}

.header {
  /* display: flex;
  justify-content: space-between;
  align-items: flex-start; */
  padding: 16px 24px;
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.75), rgba(37, 99, 235, 0.35));
  border-bottom: 1px solid rgba(148, 163, 184, 0.16);
  gap: 32px;
  box-shadow: 0 28px 60px rgba(15, 23, 42, 0.35);
  position: sticky;
  top: 0;
  z-index: 8;
}

.header-leading {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.header h1 {
  margin: 0;
  font-size: clamp(1.6rem, 2vw, 1.9rem);
  letter-spacing: 0.04em;
}

.header-title-group {
  display: grid;
  gap: 10px;
  /* color: rgba(248, 250, 252, 0.95); */
}

.header-title-group p {
  margin: 0;
  font-size: 0.94rem;
  color: rgba(226, 232, 240, 0.7);
  max-width: 640px;
}

.header-metrics {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.metric-chip {
  display: inline-flex;
  align-items: baseline;
  gap: 8px;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.45);
  border: 1px solid rgba(148, 163, 184, 0.28);
  font-size: 0.78rem;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: rgba(226, 232, 240, 0.9);
}

.metric-chip strong {
  font-size: 1rem;
  color: rgba(56, 189, 248, 0.95);
}

.metric-chip.subtle strong {
  color: rgba(148, 197, 255, 0.9);
}

.header-controls {
  display: flex;
  align-items: center;
  gap: 16px;
}

.phase-toggle {
  display: inline-flex;
  background: rgba(15, 23, 42, 0.6);
  padding: 8px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.25);
  gap: 8px;
}

.phase-toggle button {
  background: transparent;
  border: none;
  color: rgba(226, 232, 240, 0.6);
  padding: 9px 20px;
  border-radius: 999px;
  cursor: pointer;
  font-weight: 600;
  transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease;
}

.phase-toggle button.active {
  background: rgba(56, 189, 248, 0.25);
  color: #0b1220;
  transform: translateY(-1px);
}

.breadcrumbs {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.78rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(226, 232, 240, 0.82);
}

.breadcrumbs-link {
  background: none;
  border: none;
  padding: 0;
  color: inherit;
  cursor: pointer;
  font-weight: 600;
  transition: color 0.2s ease;
}

.breadcrumbs-link:hover {
  color: #fff;
}

.breadcrumbs-label.current {
  color: #fff;
}

.breadcrumbs-separator {
  opacity: 0.6;
}

[data-theme='light'] .breadcrumbs {
  color: rgba(71, 85, 105, 0.7);
}

[data-theme='light'] .breadcrumbs-link:hover,
[data-theme='light'] .breadcrumbs-label.current {
  color: var(--text-primary);
}

.app-shell.topbar-layout {
  flex-direction: column;
  min-height: 0;
  width: 100%;
}

.app-topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 24px;
  min-height: 64px;
  padding: 0 30px;
  background: radial-gradient(circle at top left, rgba(18, 31, 61, 0.95), rgba(2, 8, 23, 0.95));
  border-bottom: 1px solid rgba(148, 163, 184, 0.16);
}

.app-topbar__section {
  display: flex;
  align-items: center;
  min-width: 0;
}

.app-topbar__section--left {
  flex: 1 1 auto;
}

.app-topbar__section--center {
  flex: 1 1 auto;
  justify-content: center;
  text-align: center;
}

.app-topbar__section--right {
  gap: 10px;
  justify-content: flex-end;
}

.app-topbar__spacer {
  flex: 1 1 auto;
}

.topbar-action-btn {
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.24);
  background: rgba(15, 23, 42, 0.55);
  color: rgba(226, 232, 240, 0.92);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
  position: relative;
}

.topbar-action-btn:hover {
  background: rgba(37, 99, 235, 0.22);
  border-color: rgba(37, 99, 235, 0.45);
  transform: translateY(-1px);
}

.topbar-action-btn svg {
  width: 20px;
  height: 20px;
}

.topbar-action-btn--alert {
  color: rgba(248, 250, 252, 0.92);
}

.topbar-action-btn__badge {
  position: absolute;
  top: 6px;
  right: 8px;
  min-width: 18px;
  height: 18px;
  border-radius: 999px;
  background: #ef4444;
  color: #fff;
  font-size: 0.68rem;
  font-weight: 700;
  display: grid;
  place-items: center;
  padding: 0 4px;
}

[data-theme='light'] .app-topbar {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.96), rgba(226, 242, 255, 0.92));
  border-bottom: 1px solid rgba(148, 163, 184, 0.25);
}

[data-theme='light'] .topbar-action-btn {
  border-color: rgba(148, 163, 184, 0.35);
  background: rgba(248, 250, 252, 0.85);
  color: rgba(15, 23, 42, 0.72);
}

[data-theme='light'] .topbar-action-btn:hover {
  background: rgba(37, 99, 235, 0.18);
  color: rgba(15, 23, 42, 0.92);
  border-color: rgba(37, 99, 235, 0.45);
}

[data-theme='light'] .header {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.86), rgba(226, 242, 255, 0.78));
  color: var(--text-primary);
}

[data-theme='light'] .header-title-group p {
  color: rgba(71, 85, 105, 0.85);
}

[data-theme='light'] .header-kicker {
  color: rgba(37, 99, 235, 0.65);
}

[data-theme='light'] .metric-chip {
  background: rgba(248, 250, 252, 0.65);
  border: 1px solid rgba(148, 163, 184, 0.2);
  color: rgba(15, 23, 42, 0.72);
}

[data-theme='light'] .metric-chip strong {
  color: #2563eb;
}

[data-theme='light'] .phase-toggle {
  background: rgba(248, 250, 252, 0.85);
  border: 1px solid rgba(148, 163, 184, 0.22);
}

[data-theme='light'] .phase-toggle button {
  color: var(--text-muted);
}

.create-btn {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 16px;
  border-radius: 16px;
  font-size: 14px;
  border: none;
  background: linear-gradient(135deg, #38bdf8, #6366f1);
  color: #fff;
  font-weight: 500;
  cursor: pointer;
  box-shadow: 0 18px 38px rgba(99, 102, 241, 0.28);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.create-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 22px 45px rgba(99, 102, 241, 0.38);
}

.create-btn span.icon {
  background: rgba(255, 255, 255, 0.22);
  padding: 6px;
  border-radius: 13px;
  display: grid;
  place-items: center;
}

.map-section {
  position: relative;
  /* padding: 8px 46px 0; */
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.map-wrapper {
  position: relative;
  flex: 1;
  border-radius: 22px;
  overflow: hidden;
  box-shadow: 0 38px 70px rgba(15, 23, 42, 0.25);
  border: 1px solid rgba(148, 163, 184, 0.12);
  background: transparent;
  width: 100%;
}

.map-canvas {
  height: 100%;
  width: 100%;
}

.resize-bar {
  position: relative;
  height: 28px;
  margin: -4px 46px 0;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: row-resize;
  z-index: 6;
}

.resize-bar span {
  width: 120px;
  height: 6px;
  border-radius: 12px;
  background: linear-gradient(135deg, rgba(148, 197, 255, 0.45), rgba(96, 165, 250, 0.55));
  box-shadow: 0 12px 24px rgba(15, 23, 42, 0.25);
  transition: transform 0.2s ease, background 0.2s ease;
}

.resize-bar:hover span,
.resize-bar.dragging span {
  transform: scaleX(1.05) translateY(-1px);
  background: linear-gradient(135deg, rgba(56, 189, 248, 0.6), rgba(96, 165, 250, 0.65));
}

.map-gradient {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(15, 23, 42, 0.05), rgba(15, 23, 42, 0));
  mix-blend-mode: multiply;
  z-index: 1;
}

.map-legend {
  position: absolute;
  left: 45px;
  bottom: 45px;
  background: rgba(15, 23, 42, 0.78);
  border-radius: 18px;
  padding: 14px 18px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  display: grid;
  gap: 8px;
  color: rgba(226, 232, 240, 0.85);
  backdrop-filter: blur(12px);
  box-shadow: 0 20px 40px rgba(2, 6, 23, 0.4);
  z-index: 1002;
}

.map-legend .legend-title {
  font-size: 0.78rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

.legend-scale {
  display: grid;
  grid-template-columns: auto auto;
  gap: 8px 12px;
  align-items: center;
  font-size: 0.8rem;
}

.legend-dot {
  width: 14px;
  height: 14px;
  border-radius: 999px;
  display: inline-block;
}

.legend-dot.low {
  background: #34d399;
}

.legend-dot.medium {
  background: #facc15;
}

.legend-dot.high {
  background: #f87171;
}

[data-theme='light'] .map-legend {
  background: rgba(255, 255, 255, 0.9);
  color: var(--text-primary);
  border: 1px solid rgba(148, 163, 184, 0.18);
}

.map-toolbar {
  position: absolute;
  top: 26px;
  left: 40px;
  display: flex;
  flex-direction: column;
  gap: 14px;
  z-index: 1200;
  max-width: min(420px, 45vw);
}

.map-toolbar-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items: center;
}

.map-layer-buttons {
  display: inline-flex;
  gap: 8px;
  padding: 6px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.55);
  border: 1px solid rgba(148, 163, 184, 0.22);
  box-shadow: 0 18px 34px rgba(15, 23, 42, 0.28);
}

[data-theme='light'] .map-layer-buttons {
  background: rgba(255, 255, 255, 0.92);
  border: 1px solid rgba(203, 213, 225, 0.45);
  box-shadow: 0 20px 32px rgba(148, 163, 184, 0.24);
}

.btn-map-toggle {
  border: none;
  background: transparent;
  color: var(--text-muted);
  padding: 8px 18px;
  border-radius: 999px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
}

.btn-map-toggle:hover {
  background: rgba(59, 130, 246, 0.16);
  color: var(--text-primary);
}

.btn-map-toggle.active {
  background: rgba(56, 189, 248, 0.2);
  color: var(--text-primary);
  box-shadow: 0 10px 20px rgba(56, 189, 248, 0.32);
}

.map-active-card {
  display: flex;
  align-items: center;
  gap: 18px;
  padding: 14px 18px;
  border-radius: 20px;
  background: rgba(15, 23, 42, 0.72);
  border: 1px solid rgba(148, 163, 184, 0.28);
  box-shadow: 0 24px 46px rgba(2, 6, 23, 0.45);
  backdrop-filter: blur(18px);
}

.map-active-card > div {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.map-active-name {
  font-weight: 700;
  font-size: 1.02rem;
  letter-spacing: 0.02em;
  color: #f8fafc;
}

.map-active-phase {
  font-size: 0.76rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(226, 232, 240, 0.72);
}

.map-active-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 10px 14px;
  font-size: 0.82rem;
  color: rgba(226, 232, 240, 0.82);
}

.map-active-meta span {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

[data-theme='light'] .map-active-card {
  background: rgba(255, 255, 255, 0.94);
  border: 1px solid rgba(203, 213, 225, 0.45);
  color: #0f172a;
  box-shadow: 0 28px 48px rgba(148, 163, 184, 0.28);
}

[data-theme='light'] .map-active-name {
  color: #0f172a;
}

[data-theme='light'] .map-active-phase,
[data-theme='light'] .map-active-meta {
  color: rgba(71, 85, 105, 0.78);
}

.map-view-toggle {
  display: inline-flex;
  background: rgba(15, 23, 42, 0.12);
  border-radius: 999px;
  border: 1px solid var(--border-subtle);
  overflow: hidden;
}

[data-theme='dark'] .map-view-toggle {
  background: rgba(12, 20, 38, 0.6);
}

.map-view-toggle button {
  background: transparent;
  border: none;
  color: var(--text-muted);
  padding: 8px 16px;
  cursor: pointer;
  font-weight: 600;
  transition: background 0.2s ease, color 0.2s ease;
}

.map-view-toggle button.active {
  background: rgba(56, 189, 248, 0.2);
  color: var(--text-primary);
}


.map-stats {
  position: absolute;
  top: 24px;
  /* right: calc(46px + 60px); */
  right:16px;
  display: flex;
  flex-direction: column;
  gap: 14px;
  z-index: 1002;
  max-height: calc(100% - 80px);
  overflow: hidden;
}

.map-stats-card {
  background: rgba(255, 255, 255, 0.96);
  border-radius: 24px;
  padding: 18px 22px;
  border: none;
  min-width: 200px;
  box-shadow: 0 28px 58px rgba(15, 23, 42, 0.28);
  flex-shrink: 0;
  color: #0f172a;
}

.map-stats-card span.label {
  display: block;
  font-size: 0.7rem;
  color: rgba(71, 85, 105, 0.72);
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.map-stats-card strong {
  font-size: 1.32rem;
}

.map-stats__collapse {
  align-self: flex-end;
  border: 1px solid rgba(148, 163, 184, 0.35);
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.65);
  color: rgba(248, 250, 252, 0.92);
  padding: 4px 14px;
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  cursor: pointer;
  pointer-events: auto;
}

.map-stats__collapse:hover {
  background: rgba(59, 130, 246, 0.65);
  color: #fff;
}

.map-stat-line {
  display: block;
  font-size: 0.8rem;
  margin-top: 6px;
  color: rgba(51, 65, 85, 0.68);
}

.map-stat-line.subtle {
  color: currentColor;
  opacity: 0.75;
}

.map-stats-card.highlight {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.16), rgba(96, 165, 250, 0.28));
  color: #0f172a;
}

.map-stats--side {
  top: 50%;
  right: 22px;
  transform: translateY(-50%);
  gap: 10px;
  pointer-events: none;
  max-width: 220px;
}

.map-stats--side .map-stats-card {
  min-width: 0;
  padding: 14px 16px;
  background: rgba(12, 20, 38, 0.92);
  color: #f8fafc;
}

.map-stats--side .map-stat-line {
  color: rgba(226, 232, 240, 0.78);
}

.map-stats--side .map-stats__collapse {
  align-self: center;
  pointer-events: auto;
}

.map-stats--collapsed {
  gap: 6px;
}

.map-stats--collapsed .map-stats-card {
  display: none;
}

.map-stats-toggle {
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: space-between;
  padding: 16px 18px;
  margin-top: auto;
  background: rgba(255, 255, 255, 0.96);
  border-radius: 22px;
  box-shadow: 0 18px 38px rgba(15, 23, 42, 0.2);
}

[data-theme='light'] .map-wrapper {
  background: transparent;
  border: 1px solid rgba(203, 213, 225, 0.22);
  box-shadow: 0 20px 40px rgba(148, 163, 184, 0.18);
}

[data-theme='light'] .map-stats-card {
  background: rgba(255, 255, 255, 0.85);
  border: 1px solid rgba(148, 163, 184, 0.26);
  color: var(--text-primary);
}

[data-theme='light'] .map-stats-card span.label {
  color: rgba(71, 85, 105, 0.72);
}

[data-theme='light'] .map-stats-card.highlight {
  background: linear-gradient(135deg, rgba(191, 219, 254, 0.85), rgba(224, 242, 254, 0.9));
  color: var(--text-primary);
}

[data-theme='dark'] .map-stats-card {
  background: rgba(12, 20, 38, 0.85);
  color: #f8fafc;
  box-shadow: 0 24px 52px rgba(2, 6, 23, 0.65);
}

[data-theme='dark'] .map-stats-card span.label {
  color: rgba(148, 163, 184, 0.75);
}

[data-theme='dark'] .map-stat-line {
  color: rgba(203, 213, 225, 0.75);
}

[data-theme='dark'] .map-stats-card.highlight {
  background: linear-gradient(135deg, rgba(14, 165, 233, 0.28), rgba(59, 130, 246, 0.32));
  color: #0b1220;
}

[data-theme='dark'] .map-stats-toggle {
  background: rgba(12, 20, 38, 0.82);
  box-shadow: 0 22px 42px rgba(2, 6, 23, 0.55);
}

.alert-drawer {
  position: absolute;
  right: 15.5rem;
  top: 24px;
  width: 340px;
  max-width: calc(100% - 32px);
  max-height: calc(100% - 32px);
  overflow-y: auto;
  background: var(--surface-2);
  border-radius: 18px;
  border: 1px solid rgba(248, 113, 113, 0.4);
  box-shadow: 0 20px 50px rgba(15, 23, 42, 0.35);
  padding: 16px 20px;
  display: grid;
  z-index: 1000;
  gap: 12px;
}

.alert-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
  color: #fda4af;
}

.alert-header button {
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  color: #fff !important;
  background: transparent !important;
  transition: background 0.2s ease, color 0.2s ease;
}

.alert-header button:hover {
  background: rgba(248, 113, 113, 0.15);
  /* color: #f87171; */
}

.alert-items {
  display: grid;
  gap: 8px;
}

.alert-item {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 10px;
  font-size: 0.9rem;
  color: var(--text-muted);
}


.projects-panel {
  background: radial-gradient(circle at top, rgba(255, 255, 255, 0.88), rgba(226, 232, 240, 0.76));
  backdrop-filter: blur(26px);
  border-top: 1px solid rgba(148, 163, 184, 0.18);
  /* padding: 34px 46px 42px; */
  padding: 16px 24px;
  transition: transform 0.45s cubic-bezier(0.2, 0.8, 0.2, 1);
  box-shadow: 0 -24px 60px rgba(15, 23, 42, 0.12);
  position: relative;
  overflow-y: auto;
}

[data-theme='dark'] .projects-panel {
  background: radial-gradient(circle at top, rgba(12, 23, 45, 0.92), rgba(8, 15, 30, 0.86));
  border-top: 1px solid rgba(30, 41, 59, 0.6);
  box-shadow: 0 -24px 60px rgba(2, 6, 23, 0.45);
}

.projects-panel.collapsed {
  transform: translateY(calc(100% - 72px));
}

.panel-toggle {
  position: sticky;
  top: -10px;
  margin: 0 auto;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 190px;
  border-radius: 999px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-2);
  gap: 10px;
  padding: 8px 16px;
  cursor: pointer;
  color: var(--text-muted);
  font-size: 0.92rem;
  transition: transform 0.25s ease, background 0.2s ease, opacity 0.25s ease;
  box-shadow: 0 12px 24px rgba(15, 23, 42, 0.16);
  z-index: 10;
}

.panel-toggle:hover {
  background: rgba(37, 99, 235, 0.32);
  color: #fff;
}

.panel-toggle.hidden {
  opacity: 0;
  pointer-events: none;
  transform: translateY(-20px);
}

.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 20px;
}

.section-heading {
  display: flex;
  align-items: center;
  gap: 12px;
}

.section-heading h2 {
  margin: 0;
  font-size: 1.14rem;
}

.section-heading .badge {
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: #0f172a;
  background: #38bdf8;
  font-weight: 600;
}

.section-actions button {
  border: none;
  background: rgba(56, 189, 248, 0.15);
  color: var(--text-primary);
  padding: 6px 14px;
  border-radius: 999px;
  font-size: 0.8rem;
  cursor: pointer;
}

.project-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 24px;
}

/* Scrollbar hide utility */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.project-card {
  position: relative;
  border-radius: 24px;
  overflow: hidden;
  background: rgba(15, 23, 42, 0.86);
  border: 1px solid rgba(148, 163, 184, 0.25);
  transition: transform 0.35s ease;
  display: flex;
  flex-direction: column;
  cursor: pointer;
  min-height: 430px;
}

.project-card:hover {
  transform: translateY(-8px);
}

.project-card img {
  width: 100%;
  height: 260px;
  object-fit: cover;
  transition: transform 0.45s ease, filter 0.45s ease;
}

.project-card:hover img {
  transform: scale(1.07);
  filter: saturate(1.2);
}

.project-card .pill-stack {
  position: absolute;
  top: 16px;
  left: 16px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.project-card .pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(10, 20, 40, 0.75);
  font-size: 0.76rem;
  font-weight: 600;
  color: #f8fafc;
  border: 1px solid rgba(148, 163, 184, 0.25);
}

[data-theme='light'] .project-card .pill {
  background: rgba(15, 23, 42, 0.78);
  color: #fff;
}

.project-card .body {
  padding: 22px 22px 24px;
  display: grid;
  gap: 12px;
  color: rgba(241, 245, 249, 0.95);
}

.project-card .body h3 {
  margin: 0;
  font-size: 1.14rem;
  font-weight: 700;
  letter-spacing: 0.02em;
}

.project-card .stats {
  display: flex;
  align-items: center;
  gap: 14px;
  font-size: 0.88rem;
  color: rgba(226, 232, 240, 0.75);
}

.project-card .stats .dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: rgba(248, 250, 252, 0.65);
}

.progress-bar {
  width: 100%;
  height: 8px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.22);
  overflow: hidden;
}

[data-theme='light'] .project-card {
  background: rgba(255, 255, 255, 0.92);
  border: 1px solid rgba(148, 163, 184, 0.18);
}

[data-theme='dark'] .project-card {
  background: rgba(12, 23, 45, 0.78);
  border: 1px solid rgba(71, 85, 105, 0.45);
}

[data-theme='light'] .project-card .body {
  color: var(--text-primary);
}

[data-theme='dark'] .project-card .body {
  color: rgba(241, 245, 249, 0.92);
}

[data-theme='light'] .project-card .stats {
  color: var(--text-muted);
}

.progress-bar span {
  display: block;
  height: 100%;
  background: linear-gradient(135deg, #38bdf8, #22d3ee);
}

.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(12, 20, 38, 0.78);
  backdrop-filter: blur(12px);
  display: grid;
  place-items: center;
  z-index: 9999;
}

.modal {
  background: var(--surface-2);
  border-radius: 26px;
  padding: 32px;
  width: min(540px, 92vw);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-strong);
  display: grid;
  gap: 20px;
}

.modal h3 {
  margin: 0;
  font-size: 1.28rem;
}

.modal form {
  display: grid;
  gap: 16px;
}

.modal label {
  display: grid;
  gap: 6px;
  font-size: 0.9rem;
  color: var(--text-muted);
}

.modal input,
.modal textarea,
.modal select {
  width: 100%;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.32);
  background: rgba(12, 20, 38, 0.06);
  color: var(--text-primary);
  font-size: 0.98rem;
}

[data-theme='dark'] .modal input,
[data-theme='dark'] .modal textarea,
[data-theme='dark'] .modal select {
  background: rgba(15, 23, 42, 0.85);
  color: #fff;
}

.modal textarea {
  min-height: 90px;
  resize: vertical;
}

.modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 14px;
  margin-top: 12px;
}

.modal-actions button {
  padding: 11px 20px;
  border-radius: 14px;
  border: none;
  font-weight: 600;
  cursor: pointer;
}

.modal-actions .secondary {
  background: rgba(71, 85, 105, 0.22);
  color: var(--text-primary);
}

.modal-actions .primary {
  background: linear-gradient(135deg, #34d399, #22d3ee);
  color: #0f172a;
}

.project-marker {
  color: #fff;
  text-align: center;
  font-weight: 600;
  transform: translate(-50%, -100%);
}

.project-marker.theme-light .marker-shell {
  background: rgba(15, 23, 42, 0.88);
}

.project-marker.theme-dark .marker-shell {
  background: rgba(4, 8, 16, 0.92);
}

.project-marker .marker-shell {
  padding: 8px;
  border-radius: 18px;
  border: 2px solid var(--marker-color, #38bdf8);
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  text-align: left;
  gap: 4px;
  min-width: 90px;
  box-shadow: 0 16px 30px rgba(4, 8, 16, 0.35);
}

.project-marker .marker-shell span {
font-size: 11px;
}
.project-marker .marker-shell strong {
  color: var(--marker-color, #38bdf8);
}

.project-marker .marker-weather {
  display: flex;
  flex-direction: column;
  gap: 1px;
  font-size: 0.68rem;
  color: rgba(248, 250, 252, 0.85);
}

.project-marker .marker-weather__temp {
  font-weight: 700;
  letter-spacing: 0.01em;
}

.project-marker .marker-weather__desc {
  font-size: 0.6rem;
  opacity: 0.85;
}

.project-marker .marker-pointer {
  width: 16px;
  height: 16px;
  background: var(--marker-color, #38bdf8);
  clip-path: polygon(50% 100%, 0 0, 100% 0);
  margin: -1px auto 0;
}

.project-marker--active .marker-shell {
  animation: marker-pulse 1.4s ease-in-out infinite;
}

.contract-pin {
  position: relative;
  width: 54px;
  height: 54px;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.contract-pin__glow {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle at center, var(--contract-accent) 0%, rgba(56, 189, 248, 0) 70%);
  opacity: calc(0.35 + (var(--contract-intensity) * 0.35));
  filter: blur(8px);
  transform: scale(calc(1.15 + (var(--contract-intensity) * 0.35)));
}

.contract-pin__core {
  position: absolute;
  inset: 9px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #ffffff 0%, rgba(255, 255, 255, 0.12) 60%, rgba(255, 255, 255, 0) 100%),
    linear-gradient(160deg, rgba(34, 197, 94, 0.92), var(--contract-accent));
  border: 2px solid rgba(15, 23, 42, 0.35);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
  color: #0f172a;
  font-weight: 700;
  font-size: 0.82rem;
  box-shadow: 0 16px 32px rgba(15, 23, 42, 0.35);
  pointer-events: auto;
  cursor: pointer;
  text-align: center;
}

.contract-pin__value {
  position: relative;
  z-index: 1;
}

.contract-pin__weather {
  font-size: 0.6rem;
  font-weight: 600;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1px;
  color: rgba(15, 23, 42, 0.78);
}

.contract-pin__weather .temp {
  font-size: 0.64rem;
  font-weight: 700;
}

.contract-pin__weather .desc {
  font-size: 0.58rem;
  font-weight: 500;
}

.contract-pin__badge {
  position: absolute;
  top: -6px;
  right: -6px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 18px;
  height: 18px;
  border-radius: 999px;
  background: rgba(248, 113, 113, 0.95);
  color: #fff;
  font-size: 0.68rem;
  font-weight: 600;
  box-shadow: 0 10px 20px rgba(248, 113, 113, 0.4);
}

.contract-pin--active .contract-pin__core {
  box-shadow: 0 24px 44px rgba(56, 189, 248, 0.38);
  transform: scale(1.08);
}

.contract-pin-label {
  background: rgba(255, 255, 255, 0.95) !important;
  border-radius: 14px !important;
  border: 1px solid rgba(148, 163, 184, 0.35) !important;
  padding: 6px 12px !important;
  box-shadow: 0 16px 32px rgba(15, 23, 42, 0.18);
  text-align: center;
  color: #0f172a;
  font-size: 0.74rem;
  letter-spacing: 0.03em;
  font-weight: 600;
}

.contract-pin-label strong {
  display: block;
  font-size: 0.82rem;
  margin-bottom: 2px;
}

.contract-pin-label--primary {
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.92), rgba(34, 197, 94, 0.85)) !important;
  color: #f8fafc;
  box-shadow: 0 22px 44px rgba(16, 185, 129, 0.35);
}

.contract-pin-label--primary strong {
  color: #ffffff;
}

@keyframes marker-pulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 16px 30px rgba(56, 189, 248, 0.25);
  }
  50% {
    transform: scale(1.08);
    box-shadow: 0 24px 50px rgba(56, 189, 248, 0.45);
  }
}

.leaflet-control-zoom a,
.leaflet-control-scale-line {
  background: rgba(15, 23, 42, 0.9) !important;
  color: #e2e8f0 !important;
  border: 1px solid rgba(148, 163, 184, 0.25) !important;
  box-shadow: none !important;
}

.leaflet-top.leaflet-right .leaflet-control {
  margin-right: 18px;
  margin-top: 18px;
}

[data-theme='light'] .leaflet-control-zoom a,
[data-theme='light'] .leaflet-control-scale-line {
  background: rgba(255, 255, 255, 0.92) !important;
  color: #0f172a !important;
}

.leaflet-control-attribution {
  display: none !important;
}

/* Landing page */
.landing-wrapper {
  height: 100%;
  flex: 1;
  display: grid;
  grid-template-rows: auto 1fr auto;
  padding: 56px 72px;
  gap: 36px;
}

.landing-hero {
  display: flex;
  flex-direction: column;
  gap: 22px;
  max-width: 720px;
}

.landing-hero h1 {
  margin: 0;
  font-size: clamp(2.6rem, 3.2vw, 3.4rem);
  line-height: 1.08;
}

.landing-hero p {
  margin: 0;
  font-size: 1.08rem;
  color: var(--text-muted);
}

.landing-actions {
  display: flex;
  gap: 18px;
  flex-wrap: wrap;
  margin-top: 18px;
}

.cta-primary,
.cta-secondary {
  padding: 16px 26px;
  border-radius: 16px;
  font-weight: 600;
  border: none;
  cursor: pointer;
}

.cta-primary {
  background: linear-gradient(135deg, #2563eb, #7c3aed);
  color: #fff;
  box-shadow: 0 22px 45px rgba(59, 130, 246, 0.35);
}

.cta-secondary {
  background: var(--surface-2);
  color: var(--text-primary);
  border: 1px solid var(--border-subtle);
}

.landing-showcase {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 22px;
}

.landing-card {
  padding: 22px;
  border-radius: 22px;
  background: var(--surface-1);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-soft);
  display: grid;
  gap: 12px;
}

.landing-footer {
  font-size: 0.9rem;
  color: var(--text-muted);
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 14px;
}

/* Login */
.login-screen {
  display: grid;
  grid-template-columns: minmax(420px, 38%) minmax(0, 1fr);
  min-height: 100vh;
  flex: 1;
  background: radial-gradient(circle at top left, rgba(14, 165, 233, 0.08), transparent 55%),
    radial-gradient(circle at bottom right, rgba(99, 102, 241, 0.08), transparent 45%);
}

.login-panel {
  position: relative;
  display: grid;
  grid-template-rows: auto auto 1fr;
  gap: 32px;
  padding: 60px 72px;
  background: rgba(15, 23, 42, 0.92);
  color: rgba(226, 232, 240, 0.95);
  box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.12);
}

.login-panel-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.login-back {
  background: none;
  border: none;
  color: rgba(226, 232, 240, 0.7);
  font-size: 0.92rem;
  cursor: pointer;
}

.login-headline {
  display: grid;
  gap: 18px;
}

.login-headline .eyebrow {
  font-size: 0.8rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(125, 211, 252, 0.75);
}

.login-headline h1 {
  margin: 0;
  font-size: clamp(2.4rem, 3vw, 3.2rem);
  line-height: 1.1;
}

.login-headline p {
  margin: 0;
  color: rgba(226, 232, 240, 0.72);
  line-height: 1.6;
}

.login-pills {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.login-pills span {
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.22);
  font-size: 0.78rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

.login-form-card {
  backdrop-filter: blur(16px);
  background: rgba(15, 23, 42, 0.75);
  border-radius: 24px;
  padding: 36px 40px;
  box-shadow: 0 34px 72px rgba(7, 12, 25, 0.45);
  border: 1px solid rgba(148, 163, 184, 0.18);
  display: grid;
  gap: 18px;
}

.login-form-card h2 {
  margin: 0;
  font-size: 1.55rem;
}

.login-subcopy {
  margin: 0;
  color: rgba(226, 232, 240, 0.65);
  font-size: 0.9rem;
}

.login-form {
  display: grid;
  gap: 16px;
}

.login-form label {
  display: grid;
  gap: 8px;
  font-size: 0.9rem;
  color: rgba(226, 232, 240, 0.78);
}

.login-form input {
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.32);
  background: rgba(8, 13, 26, 0.8);
  font-size: 1rem;
  color: rgba(226, 232, 240, 0.95);
}

[data-theme='light'] .login-form input {
  background: rgba(255, 255, 255, 0.88);
  color: var(--text-primary);
}

.login-form button {
  margin-top: 6px;
  padding: 14px 18px;
  border-radius: 14px;
  border: none;
  font-weight: 600;
  background: linear-gradient(135deg, #22d3ee, #6366f1);
  color: #0b1220;
  cursor: pointer;
  transition: transform 0.18s ease, box-shadow 0.18s ease;
}

.login-form button:hover {
  transform: translateY(-1px);
  box-shadow: 0 18px 36px rgba(99, 102, 241, 0.35);
}

.login-error {
  color: #f87171;
  font-size: 0.84rem;
}

.login-hint {
  font-size: 0.82rem;
  color: rgba(226, 232, 240, 0.68);
}

/* [data-theme='light'] .login-hint {
  color: rgba(71, 85, 105, 0.72);
} */

.login-credentials {
  color: rgba(226, 232, 240, 0.6);
  font-size: 0.78rem;
}

.login-footnote {
  font-size: 0.8rem;
  color: rgba(226, 232, 240, 0.58);
}

.login-footnote a {
  color: rgba(56, 189, 248, 0.9);
}

.login-showcase {
  position: relative;
  /* overflow: hidden; */
  padding: 48px 60px;
  background: rgba(15, 23, 42, 0.92);
}

.login-hero-image {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: saturate(1.05);
}

.login-image-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(125deg, rgba(10, 18, 35, 0.75), rgba(34, 56, 94, 0.55));
  backdrop-filter: blur(2px);
}

.login-hero-layout {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
  z-index: 1;
  gap: 36px;
}

.login-hero-copy {
  margin-bottom: 35px;
  position: relative;
  max-width: 560px;
  color: #fff;
  display: grid;
  gap: 20px;
}

.login-hero-copy h2 {
  margin: 0;
  font-size: clamp(2.4rem, 3vw, 3.1rem);
  line-height: 1.1;
}

.login-hero-copy p {
  margin: 0;
  color: rgba(226, 232, 240, 0.78);
  line-height: 1.7;
}

.login-hero-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 28px;
  margin-top: auto;
}

.login-hero-card {
  background: rgba(15, 23, 42, 0.7);
  border: 1px solid rgba(148, 163, 184, 0.2);
  border-radius: 18px;
  padding: 18px;
  backdrop-filter: blur(8px);
  display: grid;
  gap: 8px;
  box-shadow: 0 24px 40px rgba(8, 12, 26, 0.32);
}

.login-hero-card .hero-kicker {
  text-transform: uppercase;
  letter-spacing: 0.16em;
  font-size: 0.72rem;
  color: rgba(148, 197, 255, 0.78);
}

.login-hero-card strong {
  font-size: 1.65rem;
  color: #fff;
}

.login-hero-card span:last-child {
  font-size: 0.82rem;
  color: rgba(226, 232, 240, 0.7);
}

@media (max-width: 1080px) {
  .login-screen {
    grid-template-columns: 1fr;
  }

  .login-panel {
    padding: 48px 40px;
  }
  .login-hero-copy{
    max-width: 100%;
  }
  /* .login-showcase {
    min-height: 460px;
    padding: 42px;
  } */
}

@media (max-width: 720px) {
  .login-panel {
    padding: 36px 26px;
  }

  .login-form-card {
    padding: 28px;
  }

  .login-showcase {
    padding: 32px 24px 40px;
  }

  .login-hero-grid {
    grid-template-columns: 1fr;
  }
}

.leaflet-container {
  background: transparent;
  position: relative;
  z-index: 0;
}

@media (max-width: 1200px) {
  .sidebar {
    display: none;
  }

  .header {
    padding: 22px;
  }

  /* .map-section {
    padding: 18px 22px 0;
  } */

  .projects-panel {
    padding: 26px 22px 32px;
  }

  .landing-wrapper {
    padding: 36px 24px;
  }

  .login-wrapper {
    grid-template-columns: 1fr;
  }

  .login-hero {
    display: none;
  }
}

.btn-ghost {
  border: none;
  padding: 8px 12px;
  border-radius: 12px;
  font-weight: 600;
  color: var(--text-primary);
  cursor: pointer;
  background: transparent;
  transition: background 0.2s ease, transform 0.2s ease;
}

.btn-ghost:hover {
  transform: translateY(-1px);
  background: rgba(56, 189, 248, 0.12);
}

.btn-ghost.active {
  background: rgba(56, 189, 248, 0.22);
  color: var(--text-primary);
}

.modal-form select {
  width: 100%;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.32);
  background: rgba(12, 20, 38, 0.06);
  color: var(--text-primary);
  font-size: 0.98rem;
}

[data-theme='dark'] .modal-form select {
  background: rgba(15, 23, 42, 0.85);
  color: #fff;
}

.modal-form select:focus,
.modal-form input:focus,
.modal-form textarea:focus {
  outline: none;
  border-color: rgba(56, 189, 248, 0.6);
  box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.18);
}

.create-btn {
  position: relative;
  overflow: hidden;
}

.create-btn::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at top, rgba(255, 255, 255, 0.25), transparent 65%);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.create-btn:hover::after {
  opacity: 1;
}


.contract-page-wrapper {
  flex: 1;
  display: flex;
  /* overflow: hidden; */
}

.contract-page {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 18px var(--page-gutter) 22px;
  gap: 18px;
  overflow: visible;
  background: transparent;
}

.contract-page.sow-control-center {
  padding-right: calc(var(--page-gutter) + 110px);
  position: relative;
}

.contract-topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  color: var(--text-primary);
}

.contract-topbar .breadcrumbs,
.contract-topbar .breadcrumbs button,
.contract-topbar .breadcrumbs span {
  color: inherit;
}

.contract-top-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.contract-top-actions .theme-toggle {
  width: 44px;
  height: 44px;
  border-radius: 14px;
}

.contract-top-actions .top-icon {
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  display: grid;
  place-items: center;
  color: var(--text-muted);
  cursor: pointer;
  position: relative;
  transition: transform 0.2s ease, box-shadow 0.2s ease, color 0.2s ease;
}

.contract-top-actions .top-icon:hover {
  transform: translateY(-2px);
  color: var(--text-primary);
  box-shadow: 0 16px 34px rgba(15, 23, 42, 0.22);
}

.contract-top-actions .top-icon svg {
  width: 20px;
  height: 20px;
}

.contract-top-actions .top-icon.alert .badge {
  position: absolute;
  top: -6px;
  right: -6px;
  min-width: 18px;
  padding: 2px 6px;
  border-radius: 999px;
  background: #ef4444;
  color: #fff;
  font-size: 0.68rem;
  font-weight: 600;
}

.contract-panel {
  /* flex: 1;
  display: flex;
  flex-direction: column; */
  border-radius: 20px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  box-shadow: var(--shadow-soft);
  overflow: visible;
  width: 100%;
}

.contract-error {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 0.85rem;
  color: #f87171;
}


.contract-body,
.pp-layout {
  /* display: grid; */
  /* grid-template-columns: 300px minmax(0, 1fr) 300px; */
  /* gap: var(--col-gap); */
  padding: 16px var(--page-gutter) 28px;
  box-sizing: border-box;
  overflow: visible;
  /* flex: 1; */
  /* align-items: start; */
  /* height: 100vh; */
}
/* 
.contract-body > *:nth-child(1),
.pp-layout > *:nth-child(1) {
  grid-column: 1;
  width: 100%;
}

.contract-body > *:nth-child(2),
.pp-layout > *:nth-child(2) {
  grid-column: 2;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 16px;
  height: 100%;
  min-height: 0;
  align-self: stretch;
}

.contract-body > *:nth-child(3),
.pp-layout > *:nth-child(3) {
  grid-column: 3;
  width: 100%;
} */

.sow-control-center .pp-layout {
  grid-template-columns: var(--left-rail-w) minmax(0, 1.5fr) var(--right-panel-w);
  gap: 18px;
}

.sow-control-center .contract-topbar {
  background: rgba(6, 8, 18, 0.92);
  border-bottom: 1px solid rgba(255, 255, 255, 0.04);
  box-shadow: 0 16px 32px rgba(0, 0, 0, 0.55);
}

.sow-control-center .breadcrumbs-link,
.sow-control-center .breadcrumbs-label {
  color: rgba(226, 232, 240, 0.78);
}

.sow-control-center .breadcrumbs-label.current {
  color: #fff;
}

.sow-control-center .contract-top-actions .top-icon {
  background: rgba(11, 15, 28, 0.92);
  color: rgba(245, 245, 245, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.sow-layout {
  align-items: stretch;
}

.sow-list-panel {
  max-width: 320px;
  background: rgba(4, 6, 16, 0.96);
  border: 1px solid rgba(255, 255, 255, 0.05);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02), 0 26px 60px rgba(0, 0, 0, 0.55);
  border-radius: 24px;
  padding: 16px 14px;
}

.sow-node {
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.07);
  padding: 12px 14px;
  background: linear-gradient(145deg, rgba(9, 14, 30, 0.9), rgba(5, 7, 18, 0.96));
  display: flex;
  flex-direction: column;
  gap: 8px;
  color: rgba(241, 245, 249, 0.92);
  box-shadow: 0 14px 32px rgba(0, 0, 0, 0.45);
}

.sow-node + .sow-node {
  margin-top: 8px;
}

.sow-node.active {
  border-color: rgba(59, 130, 246, 0.6);
  box-shadow: 0 12px 28px rgba(37, 99, 235, 0.25);
}

.sow-node__header {
  border: none;
  background: none;
  color: inherit;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  font-size: 0.92rem;
}

.sow-node__header strong {
  display: block;
  color: #fff;
}

.sow-node__header span {
  margin-left: 12px;
  color: rgba(148, 163, 184, 0.9);
}

.sow-node__toggle {
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  width: 26px;
  height: 26px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.sow-node__children {
  list-style: none;
  margin: 0;
  padding: 0 4px 0 12px;
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.8rem;
  color: rgba(203, 213, 225, 0.85);
}

.rcc-panel {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.rcc-panel-section {
  background: rgba(15, 23, 42, 0.42);
  border: 1px solid rgba(148, 163, 184, 0.25);
  border-radius: 16px;
  padding: 12px;
}

.rcc-backlink {
  border: none;
  background: rgba(15, 23, 42, 0.35);
  color: rgba(226, 232, 240, 0.9);
  border-radius: 999px;
  padding: 8px 14px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 0.82rem;
  margin-bottom: 6px;
  cursor: pointer;
}

[data-theme='light'] .rcc-backlink {
  background: rgba(226, 232, 240, 0.8);
  color: #0f172a;
}

[data-theme='light'] .rcc-panel-section {
  background: rgba(241, 245, 249, 0.94);
  border-color: rgba(148, 163, 184, 0.4);
}

.rcc-panel-heading {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 4px 2px 10px;
  background: none;
  border: none;
  color: inherit;
  cursor: pointer;
}

.rcc-panel-heading strong {
  font-size: 0.94rem;
}

.rcc-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  font-size: 0.7rem;
  padding: 2px 8px;
  background: rgba(148, 163, 184, 0.25);
  color: rgba(248, 250, 252, 0.9);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

[data-theme='light'] .rcc-chip {
  color: #0f172a;
}

.rcc-caret {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 1px solid rgba(148, 163, 184, 0.4);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  color: rgba(148, 163, 184, 0.9);
  transition: transform 0.2s ease;
}

.rcc-caret::before {
  content: '';
  line-height: 1;
}

.rcc-caret.open {
  transform: rotate(180deg);
}

.rcc-process-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.rcc-process-list li {
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(15, 23, 42, 0.32);
}

[data-theme='light'] .rcc-process-list li {
  background: rgba(248, 250, 252, 0.92);
}

.rcc-process-list li.active {
  border-color: rgba(59, 130, 246, 0.55);
  box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.25);
}

.rcc-process-list button {
  width: 100%;
  border: none;
  background: none;
  color: inherit;
  padding: 10px 12px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  text-align: left;
  cursor: pointer;
}

.rcc-process-meta {
  display: flex;
  justify-content: space-between;
  font-size: 0.88rem;
}

.rcc-process-status {
  display: flex;
  align-items: center;
  gap: 8px;
}

.rcc-status {
  font-size: 0.7rem;
  padding: 2px 10px;
  border-radius: 999px;
  text-transform: capitalize;
  background: rgba(148, 163, 184, 0.2);
  color: rgba(248, 250, 252, 0.8);
}

[data-theme='light'] .rcc-status {
  color: #0f172a;
}

.rcc-status.is-on-track,
.rcc-status.is-in-progress,
.rcc-status.is-live {
  background: rgba(34, 197, 94, 0.15);
  color: #22c55e;
}

.rcc-status.is-monitoring {
  background: rgba(250, 204, 21, 0.15);
  color: #facc15;
}

.rcc-status.is-delayed,
.rcc-status.is-risk {
  background: rgba(239, 68, 68, 0.18);
  color: #ef4444;
}

.rcc-status.is-completed {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
}

.rcc-status.is-pending {
  background: rgba(107, 114, 128, 0.2);
  color: rgba(226, 232, 240, 0.9);
}

[data-theme='light'] .rcc-status.is-pending {
  color: #475569;
}

.rcc-facility-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.rcc-facility-card {
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.25);
  background: rgba(15, 23, 42, 0.26);
  padding: 8px 0;
}

[data-theme='light'] .rcc-facility-card {
  background: rgba(248, 250, 252, 0.85);
}

.rcc-facility-header {
  width: 100%;
  border: none;
  background: none;
  color: inherit;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 16px;
  cursor: pointer;
}

.rcc-facility-header strong {
  display: block;
  font-size: 0.9rem;
}

.rcc-facility-card ul {
  list-style: none;
  margin: 0;
  padding: 0 16px 8px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.rcc-facility-card li {
  display: flex;
  justify-content: space-between;
  font-size: 0.82rem;
  padding: 6px 0;
  border-bottom: 1px dashed rgba(148, 163, 184, 0.2);
}

.rcc-facility-card li:last-child {
  border-bottom: none;
}

.sow-center-column {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.sow-map-shell {
  border-radius: 28px;
  border: 1px solid rgba(59, 130, 246, 0.25);
  overflow: hidden;
  min-height: 420px;
  background: radial-gradient(circle at 15% 15%, rgba(30, 46, 88, 0.8), rgba(3, 6, 14, 0.95));
  position: relative;
  box-shadow: 0 48px 100px rgba(0, 0, 0, 0.6);
}

.sow-map-tabs {
  display: inline-flex;
  gap: 6px;
  padding: 8px 4px 0;
}

.sow-map-tabs button {
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.35);
  padding: 4px 16px;
  font-size: 0.78rem;
  background: rgba(15, 23, 42, 0.2);
  color: rgba(226, 232, 240, 0.9);
  cursor: pointer;
}

.sow-map-tabs button.active {
  border-color: rgba(59, 130, 246, 0.75);
  color: #fff;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.75), rgba(236, 72, 153, 0.65));
  box-shadow: 0 8px 20px rgba(37, 99, 235, 0.35);
}

.sow-process-panel {
  border-radius: 24px;
  background: rgba(15, 23, 42, 0.6);
  border: 1px solid rgba(148, 163, 184, 0.3);
  padding: 18px;
  color: rgba(226, 232, 240, 0.9);
  min-height: 420px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow: hidden;
}

[data-theme='light'] .sow-process-panel {
  background: #fff;
  border-color: rgba(148, 163, 184, 0.35);
  color: #0f172a;
}

[data-theme='light'] .sow-process-panel {
  background: #fff;
  border-color: rgba(148, 163, 184, 0.35);
  color: #0f172a;
}

.rcc-process-view {
  display: flex;
  flex-direction: column;
  gap: 16px;
  height: 100%;
  overflow-y: auto;
  padding-right: 8px;
}

.rcc-process-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
}

.rcc-process-subhead {
  display: block;
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.7);
}

.rcc-process-actions {
  display: flex;
  gap: 12px;
  align-items: center;
}

.rcc-pill-button {
  border: 0;
  border-radius: 999px;
  padding: 8px 16px;
  font-weight: 600;
  background: rgba(59, 130, 246, 0.2);
  color: #dbeafe;
  cursor: pointer;
  transition: background 0.2s ease;
}

.rcc-pill-button:hover:not(:disabled) {
  background: rgba(59, 130, 246, 0.35);
}

.rcc-pill-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.rcc-live-indicator {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 0.78rem;
  background: rgba(34, 197, 94, 0.16);
  color: #bbf7d0;
}

.rcc-live-indicator span {
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background: #34d399;
  animation: rccPulse 1.4s infinite;
}

.rcc-live-indicator.is-paused {
  background: rgba(248, 113, 113, 0.15);
  color: #fecaca;
}

.rcc-live-indicator.is-paused span {
  background: #f87171;
  animation: none;
}

@keyframes rccPulse {
  0% {
    opacity: 0.5;
    transform: scale(0.85);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0.5;
    transform: scale(0.85);
  }
}

.rcc-sim-status {
  font-size: 0.85rem;
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(2, 6, 23, 0.4);
  color: rgba(226, 232, 240, 0.75);
}

.rcc-sim-status.error {
  border-color: rgba(248, 113, 113, 0.35);
  background: rgba(248, 113, 113, 0.08);
  color: #fecaca;
}

.rcc-sim-status.muted {
  border-style: dashed;
  color: rgba(226, 232, 240, 0.65);
}

.rcc-link-button {
  border: 0;
  background: none;
  color: #60a5fa;
  font-weight: 600;
  cursor: pointer;
  padding: 6px 10px;
  border-radius: 999px;
}

.rcc-link-button:hover {
  background: rgba(59, 130, 246, 0.15);
}

.rcc-primary-button {
  border: 0;
  border-radius: 999px;
  padding: 8px 18px;
  font-weight: 600;
  background: linear-gradient(120deg, #4ade80, #22d3ee);
  color: #02111d;
  cursor: pointer;
  box-shadow: 0 12px 30px rgba(8, 145, 178, 0.35);
}

.rcc-process-placeholder {
  border: 1px dashed rgba(148, 163, 184, 0.5);
  border-radius: 18px;
  padding: 32px;
  text-align: center;
  color: rgba(226, 232, 240, 0.7);
  flex: 1;
}

.rcc-process-placeholder.error {
  border-color: rgba(248, 113, 113, 0.7);
  color: #fecaca;
}

.rcc-process-intro {
  font-size: 0.9rem;
  color: rgba(226, 232, 240, 0.75);
  margin: 0;
}

.rcc-stage-timeline {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 12px;
}

.rcc-stage-timeline__item {
  border-radius: 18px;
  background: rgba(2, 6, 23, 0.45);
  border: 1px solid rgba(255, 255, 255, 0.05);
  padding: 12px 14px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.rcc-stage-timeline__item.has-alert {
  border-color: rgba(248, 113, 113, 0.45);
}

.rcc-stage-timeline__meta {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  align-items: center;
  margin-top: 4px;
}

.rcc-stage-timeline__step {
  width: 26px;
  height: 26px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  background: rgba(59, 130, 246, 0.25);
  border: 1px solid rgba(59, 130, 246, 0.55);
  color: #e0f2fe;
}

.rcc-stage-timeline__item strong {
  font-size: 0.95rem;
}

.rcc-stage-timeline__item p {
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.65);
  margin: 0;
}

.rcc-stage-timeline__status {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(94, 234, 212, 0.85);
}

.rcc-stage-timeline__status.is-risk {
  color: #fecaca;
}

.rcc-status-chip {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 10px;
  border-radius: 999px;
  font-size: 0.74rem;
  background: rgba(15, 23, 42, 0.5);
  color: rgba(226, 232, 240, 0.85);
  text-transform: none;
}

.rcc-status-chip.is-ok {
  background: rgba(34, 197, 94, 0.18);
  color: #bbf7d0;
}

.rcc-status-chip.is-warning {
  background: rgba(250, 204, 21, 0.15);
  color: #fde68a;
}

.rcc-status-chip.is-alarm {
  background: rgba(248, 113, 113, 0.15);
  color: #fecaca;
}

.rcc-stage-updated {
  font-size: 0.74rem;
  color: rgba(148, 163, 184, 0.85);
}

.rcc-process-legend {
  display: inline-flex;
  gap: 18px;
  align-items: center;
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.7);
}

.rcc-process-legend span {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.rcc-process-legend i {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  display: inline-block;
  background: rgba(94, 234, 212, 0.85);
}

.rcc-process-legend i.is-warning {
  background: rgba(250, 204, 21, 0.95);
}

.rcc-process-legend i.is-alarm {
  background: rgba(248, 113, 113, 0.9);
}

.rcc-stage-row {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
}

.rcc-stage-card {
  border-radius: 20px;
  padding: 16px;
  background: rgba(15, 23, 42, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.08);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.rcc-stage-card header {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: flex-start;
}

.rcc-stage-card header p {
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.6);
  margin-top: 4px;
}

.rcc-stage-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  align-items: center;
  margin-top: 6px;
}

.rcc-stage-health {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 4px;
}

.rcc-stage-rules {
  font-size: 0.75rem;
  color: rgba(226, 232, 240, 0.65);
}

.rcc-stage-badge {
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 0.75rem;
  border: 1px solid rgba(226, 232, 240, 0.3);
}

.rcc-stage-badge.has-alarms {
  border-color: rgba(248, 113, 113, 0.6);
  color: #fecaca;
}

.rcc-operation-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.rcc-operation-card {
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  padding: 14px;
  background: rgba(2, 6, 23, 0.35);
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.rcc-operation-card.is-pulsing {
  animation: rccCardPulse 1.2s ease;
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
}

.rcc-operation-card.is-warning {
  border-color: rgba(250, 204, 21, 0.5);
}

.rcc-operation-card.is-alarm {
  border-color: rgba(248, 113, 113, 0.7);
  box-shadow: 0 0 0 1px rgba(248, 113, 113, 0.2);
}

@keyframes rccCardPulse {
  0% {
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.2);
  }
  50% {
    box-shadow: 0 0 18px 2px rgba(59, 130, 246, 0.35);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.2);
  }
}

.rcc-operation-head {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: center;
}

.rcc-operation-head strong {
  display: block;
  font-size: 1rem;
}

.rcc-operation-head span {
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.6);
}

.rcc-operation-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
  margin-top: 4px;
  font-size: 0.75rem;
  color: rgba(226, 232, 240, 0.65);
}

.rcc-operation-last-update {
  color: rgba(148, 163, 184, 0.85);
}

.rcc-operation-actions {
  display: flex;
  gap: 8px;
  align-items: center;
}

.rcc-chip {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 0.72rem;
  border: 1px solid rgba(226, 232, 240, 0.3);
}

.rcc-chip.is-high {
  border-color: rgba(248, 113, 113, 0.8);
  color: #fecaca;
}

.rcc-chip.is-medium {
  border-color: rgba(250, 204, 21, 0.8);
  color: #fde68a;
}

.rcc-chip.is-low {
  border-color: rgba(52, 211, 153, 0.6);
  color: #bbf7d0;
}

.rcc-operation-status {
  font-size: 0.85rem;
  color: rgba(248, 250, 252, 0.85);
}

.rcc-input-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.rcc-input-list li {
  display: flex;
  gap: 10px;
}

.rcc-input-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  margin-top: 7px;
  flex-shrink: 0;
  background: rgba(148, 163, 184, 0.5);
}

.rcc-input-dot.is-ok {
  background: #4ade80;
}

.rcc-input-dot.is-warning {
  background: #facc15;
}

.rcc-input-dot.is-alarm {
  background: #f87171;
}

.rcc-input-meta {
  display: flex;
  gap: 8px;
  font-size: 0.8rem;
  color: rgba(226, 232, 240, 0.7);
}

.rcc-input-status {
  font-size: 0.78rem;
  color: rgba(248, 250, 252, 0.7);
}

.rcc-threshold {
  font-size: 0.75rem;
  color: rgba(203, 213, 225, 0.65);
}

.rcc-child-ops {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.rcc-child-chip {
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  font-size: 0.75rem;
  padding: 2px 10px;
  display: inline-flex;
  gap: 6px;
  align-items: center;
  color: rgba(226, 232, 240, 0.8);
}

.rcc-rule-detail {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.45);
  padding: 14px;
  background: rgba(2, 6, 23, 0.45);
}

.rcc-rule-message {
  font-size: 0.9rem;
  color: rgba(226, 232, 240, 0.85);
  margin: 6px 0;
}

.rcc-rule-detail-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.rcc-rule-detail dl {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 10px;
  margin: 12px 0 0;
}

.rcc-rule-detail dt {
  font-size: 0.75rem;
  color: rgba(226, 232, 240, 0.6);
}

.rcc-rule-detail dd {
  margin: 0;
  font-size: 0.9rem;
}

.rcc-visualization-panel {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 0;
  width: 100%;
  height: 100%;
  min-height: 0;
  padding-bottom: 32px;
  margin-bottom: 32px;
  box-sizing: border-box;
  overflow: visible;
}

.rcc-visualization-panel > * + * {
  margin-top: 16px;
}

.rcc-visualization-panel > .rcc-visualization-canvas {
  margin-top: 0;
}

.rcc-visualization-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
}

.rcc-visualization-header span {
  display: block;
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.7);
}

.rcc-sync-toast {
  align-self: flex-start;
  padding: 0.35rem 0.85rem;
  border-radius: 999px;
  font-size: 0.85rem;
  color: #34d399;
  background: rgba(16, 185, 129, 0.15);
  border: 1px solid rgba(52, 211, 153, 0.4);
}

.rcc-sync-toast.is-error {
  color: #f87171;
  background: rgba(248, 113, 113, 0.12);
  border-color: rgba(248, 113, 113, 0.35);
}

.rcc-sync-summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 0.35rem 0.6rem;
  border-radius: 16px;
  border: 1px solid rgba(94, 234, 212, 0.2);
  background: rgba(15, 118, 110, 0.08);
}

.rcc-sync-summary span {
  display: block;
  font-size: 0.75rem;
  color: rgba(94, 234, 212, 0.85);
}

.rcc-sync-summary strong {
  display: block;
  font-size: 1rem;
  color: #ecfeff;
}

.rcc-sync-counts {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items: center;
  font-size: 0.8rem;
}

.rcc-sync-counts span {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: rgba(226, 232, 240, 0.8);
}

.rcc-sync-counts i {
  width: 10px;
  height: 10px;
  border-radius: 50%;
}

.rcc-sync-counts strong {
  color: #f8fafc;
  font-weight: 600;
}

.rcc-sync-metric-summary {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.9);
}

.rcc-sync-metric-summary div {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.rcc-sync-metric-summary em {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.55);
  border: 1px solid rgba(148, 163, 184, 0.3);
  font-style: normal;
}

.rcc-sync-metric-summary i {
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

.rcc-resize-handle {
  margin: -4px auto 12px;
  width: 120px;
  height: 12px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.35);
  background: rgba(15, 23, 42, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: row-resize;
}

.rcc-resize-handle::after {
  content: '';
  width: 60%;
  height: 3px;
  border-radius: 999px;
  background: rgba(226, 232, 240, 0.6);
}

.rcc-resize-handle.is-dragging {
  border-color: rgba(94, 234, 212, 0.8);
  box-shadow: 0 0 16px rgba(94, 234, 212, 0.35);
}

.rcc-resize-overlay {
  position: fixed;
  inset: 0;
  cursor: row-resize;
  background: transparent;
  z-index: 1200;
}

.rcc-risk-callouts {
  border: 1px solid rgba(239, 68, 68, 0.35);
  border-radius: 18px;
  padding: 12px 16px;
  background: rgba(68, 18, 33, 0.35);
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.rcc-risk-callouts header {
  font-size: 0.82rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #fecdd3;
}

.rcc-risk-callouts ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.rcc-risk-callouts li {
  border-radius: 12px;
  padding: 8px 10px;
  background: rgba(15, 23, 42, 0.6);
  border: 1px solid rgba(148, 163, 184, 0.25);
}

.rcc-risk-callouts li > div {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
}

.rcc-risk-callouts li span {
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.95);
}

.rcc-risk-callouts li em {
  font-style: normal;
  font-size: 0.78rem;
  padding: 2px 10px;
  border-radius: 999px;
  text-transform: capitalize;
  border: 1px solid rgba(239, 68, 68, 0.5);
  color: #fecdd3;
}

.rcc-risk-callouts li em.status-at-risk {
  border-color: rgba(246, 179, 68, 0.6);
  color: #fde68a;
}

.rcc-risk-callouts li em.status-rule-violated {
  border-color: rgba(59, 130, 246, 0.6);
  color: #bae6fd;
}

.rcc-risk-callouts li p {
  margin: 6px 0 0;
  font-size: 0.8rem;
  color: rgba(248, 250, 252, 0.85);
}

.rcc-visualization-canvas {
  position: relative;
  border-radius: 20px;
  overflow-x: hidden;
  overflow-y: auto;
  border: 1px solid rgba(148, 163, 184, 0.35);
  min-height: 380px;
  height: auto;
  padding-bottom: 140px;
}

.rcc-zoom-controls {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  z-index: 15;
}

.rcc-zoom-controls button {
  width: 38px;
  height: 38px;
  border-radius: 10px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  background: rgba(15, 23, 42, 0.7);
  color: #e0f2fe;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease;
}

.rcc-zoom-controls button:hover {
  background: rgba(59, 130, 246, 0.4);
  color: #fff;
}

.rcc-visualization-canvas.is-syncing {
  border-color: rgba(34, 197, 94, 0.65);
  box-shadow: 0 0 30px rgba(45, 212, 191, 0.2);
}

.rcc-visualization-canvas.is-syncing::after {
  content: '';
  position: absolute;
  inset: 6px;
  border-radius: 16px;
  border: 2px solid rgba(45, 212, 191, 0.65);
  opacity: 0;
  animation: rcc-sync-pulse 1.4s ease-out forwards;
  pointer-events: none;
}

@keyframes rcc-sync-pulse {
  0% {
    opacity: 0.9;
    transform: scale(0.98);
  }
  100% {
    opacity: 0;
    transform: scale(1.05);
  }
}

.rcc-visualization-canvas canvas {
  height: 100% !important;
  width: 100% !important;
}

.rcc-tooltip-spacer {
  height: 140px;
  flex-shrink: 0;
  pointer-events: none;
}

.rcc-tooltip-threshold {
  margin-top: 8px;
  padding: 6px 10px;
  border-radius: 10px;
  font-size: 0.78rem;
  background: rgba(34, 197, 94, 0.12);
  border: 1px solid rgba(34, 197, 94, 0.35);
  color: #bbf7d0;
}

.rcc-tooltip-threshold.is-alarm {
  background: rgba(248, 113, 113, 0.15);
  border-color: rgba(248, 113, 113, 0.4);
  color: #fecaca;
}

.drei-html-container {
  overflow: visible !important;
  pointer-events: none !important;
}


.rcc-visualization-pad {
  width: 2px;
  height: 2px;
}

.rcc-visualization-legend {
  display: flex;
  gap: 16px;
  align-items: center;
  flex-wrap: wrap;
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.8);
}

.rcc-visualization-legend i {
  display: inline-block;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  margin-right: 6px;
}

.rcc-visualization-legend .legend-note {
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.7);
}

.rcc-visualization-stats {
  display: flex;
  flex-direction: column;
  gap: 16px;
  border: 1px solid rgba(148, 163, 184, 0.35);
  border-radius: 20px;
  padding: 16px;
  background: rgba(15, 23, 42, 0.45);
  position: relative;
}

.rcc-stat-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 12px;
}

.rcc-stat-card {
  border-radius: 16px;
  padding: 12px;
  background: rgba(2, 6, 23, 0.55);
  border: 1px solid rgba(148, 163, 184, 0.25);
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.rcc-stat-card span {
  font-size: 0.8rem;
  color: rgba(148, 163, 184, 0.85);
}

.rcc-stat-card strong {
  font-size: 1.45rem;
  color: #f8fafc;
}

.rcc-status-breakdown {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
}

.rcc-status-breakdown > div {
  flex: 1;
  min-width: 140px;
  border-radius: 14px;
  padding: 10px 12px;
  border: 1px dashed rgba(94, 234, 212, 0.35);
  background: rgba(15, 118, 110, 0.15);
  color: #f8fafc;
}

.rcc-status-breakdown span {
  display: block;
  font-size: 0.85rem;
  color: rgba(94, 234, 212, 0.75);
}

.rcc-status-breakdown strong {
  font-size: 1.3rem;
  color: #fff;
}

.rcc-status-toggle-panel {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.rcc-status-toggle-panel header {
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.8);
}

.rcc-status-toggle-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
}

.rcc-status-toggle {
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.35);
  background: rgba(2, 6, 23, 0.45);
  padding: 10px 12px;
  display: flex;
  align-items: center;
  gap: 10px;
  color: rgba(226, 232, 240, 0.85);
  cursor: pointer;
  transition: border-color 0.2s, background 0.2s;
}

.rcc-status-toggle.active {
  border-color: rgba(94, 234, 212, 0.65);
  background: rgba(13, 148, 136, 0.2);
  color: #f8fafc;
}

.rcc-status-toggle i {
  width: 12px;
  height: 12px;
  border-radius: 3px;
  display: inline-block;
}

.rcc-status-toggle span {
  flex: 1;
  text-align: left;
  font-size: 0.85rem;
}

.rcc-status-toggle strong {
  font-size: 1rem;
  color: currentColor;
}

.rcc-status-reset {
  align-self: flex-start;
  border-radius: 999px;
  border: 1px solid rgba(226, 232, 240, 0.35);
  background: transparent;
  color: rgba(226, 232, 240, 0.85);
  padding: 4px 12px;
  font-size: 0.8rem;
  cursor: pointer;
}

.rcc-metrics-wrapper {
  margin-top: 18px;
  border-radius: 20px;
  border: 1px solid rgba(148, 163, 184, 0.35);
  padding: 16px;
  background: rgba(2, 6, 23, 0.65);
  display: flex;
  flex-direction: column;
  gap: 16px;
  max-height: 420px;
  overflow-y: auto;
  scrollbar-width: thin;
}

.rcc-metric-quick-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 10px;
}

.rcc-metric-chip {
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.3);
  background: rgba(15, 23, 42, 0.9);
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.rcc-metric-chip span {
  font-size: 0.75rem;
  color: rgba(226, 232, 240, 0.7);
  text-transform: uppercase;
}

.rcc-metric-chip strong,
.rcc-metric-card strong {
  font-size: 1.2rem;
  color: #fff;
}

.rcc-metric-chip small {
  font-size: 0.7rem;
  color: rgba(248, 250, 252, 0.7);
}

.rcc-metric-chip.is-warning,
.rcc-metric-card.is-warning {
  border-color: rgba(250, 204, 21, 0.45);
  background: rgba(120, 53, 15, 0.25);
}

.rcc-metric-chip.is-alarm,
.rcc-metric-card.is-alarm {
  border-color: rgba(239, 68, 68, 0.6);
  background: rgba(127, 29, 29, 0.28);
}

.rcc-metric-groups {
  display: grid;
  gap: 16px;
}

.rcc-metric-groups section header {
  font-size: 0.78rem;
  letter-spacing: 0.08em;
  color: rgba(94, 234, 212, 0.85);
  text-transform: uppercase;
}

.rcc-metric-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 12px;
}

.rcc-metric-card {
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.25);
  background: rgba(15, 23, 42, 0.85);
  display: flex;
  flex-direction: column;
  gap: 8px;
  color: #f8fafc;
}

.rcc-metric-card-main {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
}

.rcc-metric-card-main span {
  font-size: 0.8rem;
  color: #f8fafc;
  display: block;
  flex: 1;
}

.rcc-metric-card-main strong {
  font-size: 1.15rem;
  color: #fff;
  flex-shrink: 0;
  text-align: right;
}

.metric-meta {
  font-size: 0.72rem;
  color: rgba(148, 163, 184, 0.85);
  margin: 0;
}

.rcc-tooltip-3d-permanent {
  background: rgba(15, 23, 42, 0.97);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(99, 102, 241, 0.4);
  border-radius: 14px;
  padding: 14px 18px;
  min-width: 230px;
  color: white;
  font-family: system-ui, -apple-system, sans-serif;
  font-size: 13px;
  line-height: 1.45;
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.5);
  pointer-events: none;
  animation: fadeInTooltipFixed 0.16s ease-out;
}

.rcc-tooltip-3d-permanent strong {
  display: block;
  font-size: 14.5px;
  font-weight: 700;
  color: #93c5fd;
  text-align: center;
  margin-bottom: 4px;
}

.rcc-tooltip-3d-permanent span {
  display: block;
  font-size: 11.5px;
  color: #94a3b8;
  text-align: center;
  margin-bottom: 10px;
}

.rcc-tooltip-3d-permanent dl {
  margin: 0;
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 5px 12px;
}

.rcc-tooltip-3d-permanent dt {
  color: #cbd5e1;
  font-weight: 500;
}

.rcc-tooltip-3d-permanent dd {
  color: #f8fafc;
  font-weight: 600;
  text-align: right;
  font-variant-numeric: tabular-nums;
}

@keyframes fadeInTooltipFixed {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.94);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.rcc-metric-refresh-note {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
  padding: 8px 12px;
  border-radius: 12px;
  background: rgba(15, 23, 42, 0.65);
  border: 1px solid rgba(94, 234, 212, 0.25);
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.85);
}

.rcc-metric-refresh-note button {
  border: 1px solid rgba(94, 234, 212, 0.6);
  background: transparent;
  color: #5eead4;
  border-radius: 999px;
  padding: 4px 12px;
  font-size: 0.8rem;
  cursor: pointer;
}

.rcc-metric-refresh-note button:hover {
  background: rgba(45, 212, 191, 0.12);
}

.rcc-column-label,
.rcc-lift-label,
.rcc-elevation-label,
.rcc-bank-label {
  font-size: 0.72rem;
  letter-spacing: 0.02em;
  padding: 2px 6px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.8);
  border: 1px solid rgba(148, 163, 184, 0.35);
  color: rgba(226, 232, 240, 0.9);
  backdrop-filter: blur(2px);
}

.rcc-elevation-label {
  display: inline-flex;
  justify-content: flex-start;
  min-width: 140px;
  text-align: left;
  margin-bottom: 12px;
}

.rcc-lift-label {
  margin-bottom: 6px;
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 120px;
  text-align: left;
}

.rcc-lift-label span {
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.65rem;
  color: rgba(148, 163, 184, 0.9);
}

.rcc-lift-label strong {
  font-size: 0.7rem;
  color: rgba(165, 243, 252, 0.9);
  font-weight: 600;
}

.rcc-bank-label {
  background: rgba(14, 165, 233, 0.15);
  border-color: rgba(14, 165, 233, 0.4);
}

.sow-map-shell .rcc-panel-launcher {
  position: absolute;
  top: 72px;
  right: 28px;
  z-index: 1100;
}

.rcc-panel-launcher button {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.45);
  background: rgba(15, 23, 42, 0.85);
  color: rgba(226, 232, 240, 0.9);
  padding: 6px 14px;
  cursor: pointer;
  box-shadow: 0 18px 30px rgba(2, 6, 23, 0.45);
  backdrop-filter: blur(8px);
}

.rcc-panel-launcher button svg {
  width: 18px;
  height: 18px;
}

.rcc-panel-launcher button:hover {
  background: rgba(59, 130, 246, 0.85);
  border-color: rgba(59, 130, 246, 0.9);
}

.rcc-panel-overlay {
  position: fixed;
  inset: 0;
  background: rgba(2, 6, 23, 0.92);
  display: flex;
  align-items: stretch;
  justify-content: center;
  z-index: 2100;
  padding: 0;
}

.rcc-panel-shell {
  width: 100%;
  max-width: none;
  height: 100vh;
  background: rgba(4, 9, 18, 0.96);
  border: none;
  border-radius: 0;
  padding: 28px 32px 36px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.rcc-panel-shell header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.rcc-panel-shell header span {
  display: block;
  color: rgba(203, 213, 225, 0.8);
  font-size: 0.85rem;
}

.rcc-panel-tabs {
  display: inline-flex;
  gap: 8px;
  align-items: center;
}

.rcc-panel-tabs button {
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.35);
  background: transparent;
  color: rgba(226, 232, 240, 0.88);
  padding: 6px 14px;
  cursor: pointer;
}

.rcc-panel-tabs button.active {
  background: linear-gradient(120deg, rgba(59, 130, 246, 0.35), rgba(236, 72, 153, 0.35));
  border-color: rgba(59, 130, 246, 0.85);
}

.rcc-panel-tabs button.rule-engine-btn {
  background: rgba(59, 130, 246, 0.15);
  border-color: rgba(59, 130, 246, 0.6);
}

.rcc-panel-tabs button.close {
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.35);
  width: 32px;
  height: 32px;
  padding: 0;
}

.rcc-panel-body {
  flex: 1;
  overflow-y: auto;
  border-radius: 20px;
  border: 1px solid rgba(148, 163, 184, 0.25);
  padding: 20px;
  background: rgba(8, 15, 32, 0.88);
  position: relative;
}

.rcc-rule-modal {
  position: fixed;
  inset: 0;
  background: rgba(2, 6, 23, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  padding: 24px;
}

.rcc-rule-modal__panel {
  width: min(960px, 100%);
  max-height: 90vh;
  overflow-y: auto;
  background: rgba(15, 23, 42, 0.95);
  border: 1px solid rgba(148, 163, 184, 0.4);
  border-radius: 24px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.rcc-rule-modal__panel header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.rcc-rule-modal__body {
  display: grid;
  gap: 16px;
}

.rcc-rule-modal__body article {
  border: 1px solid rgba(148, 163, 184, 0.35);
  border-radius: 18px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.rcc-rule-modal__body textarea,
.rcc-rule-modal__body input {
  width: 100%;
  border-radius: 12px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  background: rgba(2, 6, 23, 0.35);
  color: #e2e8f0;
  padding: 8px 10px;
  resize: vertical;
}

.rcc-rule-modal__body label span {
  display: block;
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.6);
  margin-bottom: 4px;
}

.rcc-rule-modal__body footer {
  display: flex;
  justify-content: flex-end;
}

.rcc-rule-modal__body footer button {
  border-radius: 999px;
  border: 0;
  background: linear-gradient(120deg, #f97316, #ec4899);
  color: #fff;
  padding: 8px 18px;
  cursor: pointer;
}

.rcc-rule-modal__status {
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.8);
}

.rcc-rule-modal__status.error {
  color: #fecaca;
}

.rcc-rule-modal__status.success {
  color: #bbf7d0;
}

.switch {
  position: relative;
  display: inline-block;
  width: 34px;
  height: 18px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.switch span {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(148, 163, 184, 0.4);
  border-radius: 999px;
  transition: 0.2s;
}

.switch span::before {
  position: absolute;
  content: '';
  height: 14px;
  width: 14px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  border-radius: 50%;
  transition: 0.2s;
}

.switch input:checked + span {
  background-color: #4ade80;
}

.switch input:checked + span:before {
  transform: translateX(16px);
}

.sow-map {
  height: 100%;
  width: 100%;
}

.sow-map-shell .map-wrapper {
  height: 100%;
}

.sow-map-canvas {
  height: 100%;
  width: 100%;
}

.sow-map-shell .contract-leaflet {
  border-radius: 24px;
  overflow: hidden;
}

.sow-map-shell .map-stats-card {
  background: rgba(2, 6, 18, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.05);
  color: rgba(241, 245, 249, 0.88);
}

.sow-map-shell .map-stats-card strong {
  color: #fff;
}

.sow-map-shell .map-toolbar {
  justify-content: space-between;
}

.map-toolbar-toggles {
  display: flex;
  gap: 8px;
  align-items: center;
}

.map-toolbar-toggles .btn-ghost {
  border-color: rgba(255, 255, 255, 0.15);
}

.sow-wip-card {
  border-radius: 24px;
  border: 1px solid rgba(59, 130, 246, 0.2);
  background: rgba(8, 13, 30, 0.92);
  padding: 12px;
  box-shadow: 0 32px 60px rgba(0, 0, 0, 0.55);
  max-height: 420px;
  overflow-y: auto;
}

.sow-right-panel {
  display: flex;
  flex-direction: column;
  gap: 16px;
  max-height: calc(100vh - 140px);
  overflow-y: auto;
  padding-right: 8px;
}

.sow-right-panel::-webkit-scrollbar,
.sow-wip-card::-webkit-scrollbar {
  width: 6px;
}

.sow-right-panel::-webkit-scrollbar-thumb,
.sow-wip-card::-webkit-scrollbar-thumb {
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.35);
}

.sow-card {
  border-radius: 24px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: linear-gradient(160deg, rgba(5, 8, 18, 0.96), rgba(10, 16, 32, 0.9));
  padding: 18px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  color: rgba(241, 245, 249, 0.9);
  box-shadow: 0 32px 60px rgba(0, 0, 0, 0.5);
}

.sow-card header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
}

.sow-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.sow-card__header > div {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.sow-card__eyebrow {
  text-transform: uppercase;
  font-size: 0.7rem;
  letter-spacing: 0.18em;
  color: rgba(148, 163, 184, 0.7);
}

.sow-card__header h3 {
  margin: 0;
  font-size: 1.08rem;
  color: #fff;
}

.sow-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.15);
  color: rgba(241, 245, 249, 0.9);
  font-size: 0.78rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

.sow-chip--glow {
  background: linear-gradient(120deg, rgba(59, 130, 246, 0.4), rgba(14, 165, 233, 0.35));
  box-shadow: 0 8px 22px rgba(14, 165, 233, 0.3);
}

.sow-chip--muted {
  background: rgba(59, 130, 246, 0.16);
  color: rgba(191, 219, 254, 0.9);
}

.sow-stat-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
}

.sow-stat-grid span {
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.65);
}

.sow-stat-grid strong {
  font-size: 1.1rem;
  color: #fff;
}

.sow-card--progress header {
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
}

.sow-progress-content {
  display: flex;
  gap: 18px;
  align-items: center;
  flex-wrap: wrap;
}

.sow-progress-radial {
  position: relative;
  width: 140px;
  height: 140px;
  border-radius: 50%;
  background: conic-gradient(var(--progress-color, #38bdf8) var(--progress-angle, 0deg), rgba(255, 255, 255, 0.08) var(--progress-angle, 0deg));
  box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.4);
}

.sow-progress-radial__inner {
  position: absolute;
  inset: 18px;
  border-radius: 50%;
  background: rgba(6, 12, 25, 0.85);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
}

.sow-progress-radial__inner strong {
  font-size: 1.4rem;
}

.sow-progress-radial__inner small {
  font-size: 0.78rem;
  letter-spacing: 0.04em;
  color: rgba(226, 232, 240, 0.7);
}

.sow-progress-meta {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
  font-size: 0.88rem;
}

.sow-progress-meta strong {
  font-size: 1rem;
}

.sow-progress-meta .positive {
  color: #22c55e;
}

.sow-progress-meta .negative {
  color: #f87171;
}

.sow-card--productivity header {
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
}

.sow-card--productivity header span {
  color: rgba(226, 232, 240, 0.68);
  font-size: 0.82rem;
}

.sow-physical-summary {
  border: 1px solid rgba(59, 130, 246, 0.3);
  border-radius: 18px;
  padding: 12px 14px;
  background: rgba(10, 16, 32, 0.8);
  margin-bottom: 12px;
}

.sow-physical-summary__label {
  text-transform: uppercase;
  font-size: 0.72rem;
  letter-spacing: 0.12em;
  color: rgba(226, 232, 240, 0.62);
}

.sow-physical-summary__grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
  margin-top: 10px;
}

.sow-physical-summary__grid div span {
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.64);
}

.sow-physical-summary__grid div strong {
  font-size: 1.25rem;
  color: #fff;
}

.sow-card-empty {
  border-radius: 16px;
  border: 1px dashed rgba(148, 163, 184, 0.3);
  padding: 14px;
  font-size: 0.86rem;
  color: rgba(226, 232, 240, 0.68);
}

.sow-productivity-grid {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.sow-productivity-item {
  border-radius: 18px;
  border: 1px solid rgba(59, 130, 246, 0.18);
  background: rgba(13, 20, 38, 0.72);
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.sow-productivity-item__header {
  display: flex;
  justify-content: space-between;
  font-size: 0.9rem;
  color: rgba(226, 232, 240, 0.82);
}

.sow-productivity-item__header strong {
  font-size: 1rem;
  color: #fff;
}

.sow-productivity-bar {
  position: relative;
  height: 8px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.6);
  overflow: hidden;
}

.sow-productivity-bar__planned {
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.15);
}

.sow-productivity-bar__actual {
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, #38bdf8, #22d3ee);
}

.sow-productivity-meta {
  display: flex;
  justify-content: space-between;
  font-size: 0.8rem;
  color: rgba(226, 232, 240, 0.68);
}

.sow-productivity-meta .positive {
  color: #22c55e;
}

.sow-productivity-meta .negative {
  color: #f87171;
}

.sow-accordion-group {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 12px;
}

.sow-accordion {
  border: 1px solid rgba(148, 163, 184, 0.18);
  border-radius: 18px;
  background: rgba(4, 6, 16, 0.85);
  overflow: hidden;
}

.sow-accordion__header {
  width: 100%;
  border: none;
  background: none;
  color: inherit;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  font-weight: 600;
  gap: 12px;
  cursor: pointer;
}

.sow-accordion__header strong {
  font-size: 0.92rem;
}

.sow-accordion__chevron {
  width: 16px;
  height: 16px;
  border: 2px solid rgba(226, 232, 240, 0.5);
  border-left: 0;
  border-top: 0;
  transform: rotate(45deg);
  transition: transform 0.2s ease;
}

.sow-accordion.open .sow-accordion__chevron,
.sow-accordion--spi.open .sow-accordion__chevron {
  transform: rotate(225deg);
}

.sow-accordion__content {
  padding: 0 16px 16px;
  display: grid;
  gap: 10px;
}

.sow-task-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 10px;
}

.sow-task-header {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  font-size: 0.9rem;
}

.sow-status-badge {
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 0.72rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  background: rgba(59, 130, 246, 0.2);
  color: rgba(191, 219, 254, 0.85);
}

.sow-status-badge--in-progress {
  background: rgba(59, 130, 246, 0.2);
  color: rgba(191, 219, 254, 0.95);
}

.sow-status-badge--delayed {
  background: rgba(248, 113, 113, 0.18);
  color: #f87171;
}

.sow-status-badge--completed {
  background: rgba(34, 197, 94, 0.2);
  color: #4ade80;
}

.sow-status-badge--active {
  background: rgba(148, 163, 184, 0.18);
  color: rgba(226, 232, 240, 0.8);
}

.sow-milestone-card p {
  margin: 0 0 8px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.sow-milestone-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 8px;
}

.sow-milestone {
  display: flex;
  justify-content: space-between;
  font-size: 0.86rem;
  padding: 6px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.sow-milestone:last-child {
  border-bottom: none;
}

.sow-milestone--completed strong {
  color: #34d399;
}

.sow-milestone--in-progress strong {
  color: #60a5fa;
}

.sow-construction-grid {
  display: grid;
  gap: 12px;
}

.sow-construction-card {
  border: 1px solid rgba(148, 163, 184, 0.14);
  border-radius: 16px;
  padding: 12px;
  background: rgba(5, 8, 18, 0.9);
}

.sow-construction-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.9rem;
  margin-bottom: 10px;
}

.sow-progress-vertical {
  display: flex;
  gap: 16px;
}

.sow-progress-vertical__track {
  position: relative;
  width: 40px;
  height: 160px;
  border-radius: 12px;
  background: rgba(148, 163, 184, 0.12);
  overflow: hidden;
}

.sow-progress-vertical__planned,
.sow-progress-vertical__actual {
  position: absolute;
  inset-inline: 6px;
  border-radius: 999px;
}

.sow-progress-vertical__planned {
  bottom: 8px;
  width: 12px;
  background: rgba(226, 232, 240, 0.22);
}

.sow-progress-vertical__actual {
  bottom: 8px;
  width: 12px;
  background: linear-gradient(180deg, #f97316, #fbbf24);
}

.sow-progress-vertical__stats {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 6px;
  font-size: 0.8rem;
  color: rgba(226, 232, 240, 0.75);
}

.sow-progress-vertical__stats strong {
  font-size: 0.95rem;
  color: #fff;
}

.sow-construction-progress__bar {
  position: relative;
  height: 10px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.16);
  overflow: hidden;
  margin-bottom: 6px;
}

.sow-construction-progress__bar .planned {
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.12);
}

.sow-construction-progress__bar .actual {
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, #38bdf8, #14b8a6);
}

.sow-construction-progress__stats {
  display: flex;
  justify-content: space-between;
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.72);
}

.sow-pin {
  position: relative;
  font-family: inherit;
}

.sow-pin__halo {
  position: absolute;
  inset: -18px;
  border-radius: 999px;
  background: radial-gradient(circle, var(--sow-accent, #38bdf8) 0%, transparent 70%);
  opacity: 0.25;
  filter: blur(4px);
}

.sow-pin__core {
  position: relative;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(2, 6, 23, 0.88);
  border: 1px solid rgba(255, 255, 255, 0.15);
  color: #fff;
  display: flex;
  align-items: center;
  gap: 10px;
  min-width: 140px;
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.45);
}

.sow-pin--active .sow-pin__core {
  border-color: var(--sow-accent, #38bdf8);
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.55), 0 0 20px rgba(59, 130, 246, 0.5);
}

.sow-pin__value {
  font-weight: 700;
  font-size: 1.1rem;
  color: var(--sow-accent, #38bdf8);
}

.sow-pin__label {
  font-size: 0.82rem;
  max-width: 140px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sow-quality-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 12px;
}

.sow-quality-tile {
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  background: rgba(12, 21, 40, 0.85);
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.sow-quality-label {
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: rgba(226, 232, 240, 0.64);
}

.sow-quality-value {
  font-size: 1.35rem;
  font-weight: 600;
}

.sow-quality-meta {
  font-size: 0.8rem;
  color: rgba(226, 232, 240, 0.64);
}

.sow-quality-count {
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.8);
}

.sow-quality-breakdown {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
  text-align: center;
}

.sow-quality-breakdown div span {
  font-size: 0.75rem;
  color: rgba(226, 232, 240, 0.6);
}

.sow-quality-breakdown div strong {
  font-size: 1rem;
  color: #fff;
}

.sow-card--spi {
  gap: 16px;
}

.sow-spi-content {
  display: flex;
  gap: 18px;
  align-items: center;
  flex-wrap: wrap;
}

.sow-spi-gauge {
  position: relative;
  width: 140px;
  height: 140px;
  border-radius: 50%;
}

.sow-spi-gauge::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: conic-gradient(
    var(--spi-color, #22c55e) var(--spi-progress, 0deg),
    rgba(255, 255, 255, 0.08) var(--spi-progress, 0deg)
  );
  transform: rotate(-90deg);
}

.sow-spi-gauge__inner {
  position: absolute;
  inset: 20px;
  border-radius: 50%;
  background: rgba(5, 10, 22, 0.9);
  box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.35);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
}

.sow-spi-gauge__inner strong {
  font-size: 1.4rem;
}

.sow-spi-gauge__inner small {
  font-size: 0.75rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: rgba(226, 232, 240, 0.68);
}

.sow-spi-meta {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.sow-spi-meta li {
  display: flex;
  justify-content: space-between;
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.7);
}

.sow-spi-meta strong {
  font-size: 0.95rem;
  color: #fff;
}

.sow-spi-initiatives {
  list-style: none;
  margin: 0;
  padding: 0 16px 16px;
  display: grid;
  gap: 12px;
}

.sow-spi-initiative__header {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  font-size: 0.9rem;
}

.sow-spi-initiative__meta {
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.6);
  margin-top: 4px;
}

.sow-spi-initiative__notes {
  list-style: disc;
  margin: 8px 0 0 20px;
  padding: 0;
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.7);
}

.sow-progress-bar {
  position: relative;
  height: 12px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.8);
  overflow: hidden;
}

.sow-progress-bar__planned {
  position: absolute;
  inset: 0;
  background: rgba(59, 130, 246, 0.35);
}

.sow-progress-bar__actual {
  position: absolute;
  inset: 0;
  background: rgba(37, 99, 235, 0.9);
}

.sow-progress-meta {
  display: flex;
  justify-content: space-between;
  font-size: 0.85rem;
  color: rgba(148, 163, 184, 0.9);
}

.sow-quality-stats {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  gap: 10px;
}

.sow-quality-stats li {
  flex: 1;
  background: rgba(15, 23, 42, 0.75);
  border-radius: 16px;
  padding: 10px 12px;
  text-align: center;
}

.sow-spi-meter__track {
  height: 10px;
  border-radius: 999px;
  background: rgba(39, 62, 117, 0.8);
  overflow: hidden;
}

.sow-spi-meter__value {
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(34, 197, 94, 0.9), rgba(250, 204, 21, 0.85));
}

.sow-spi-meter__meta {
  display: flex;
  justify-content: space-between;
  font-size: 0.8rem;
  color: rgba(148, 163, 184, 0.85);
}

.sow-marker__core {
  background: rgba(3, 7, 18, 0.92);
  border: 1px solid rgba(148, 163, 184, 0.35);
  border-radius: 16px;
  padding: 6px 10px;
  display: grid;
  gap: 2px;
  color: #e2e8f0;
  box-shadow: 0 10px 26px rgba(2, 6, 23, 0.5);
}

.sow-marker__core span {
  color: var(--marker-color);
  font-weight: 600;
  font-size: 0.85rem;
}

.sow-marker.is-active .sow-marker__core {
  border-color: rgba(59, 130, 246, 0.8);
  box-shadow: 0 15px 32px rgba(37, 99, 235, 0.35);
}

.contract-list {
  background: var(--surface-2);
  border-radius: 22px;
  border: 1px solid var(--border-subtle);
  padding: 18px;
  overflow-y: auto;
  /* width: 100%; */
  /* max-width: var(--left-rail-w); */
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.sow-control-center .contract-list {
  background: rgba(5, 7, 18, 0.96);
  border: 1px solid rgba(255, 255, 255, 0.05);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02), 0 24px 60px rgba(0, 0, 0, 0.55);
}

.contract-list-scroll {
  flex: 1;
  overflow-y: auto;
  display: grid;
  gap: 12px;
}

.contract-filter {
  display: grid;
  gap: 6px;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.sow-control-center .contract-filter {
  color: rgba(226, 232, 240, 0.72);
}

.contract-filter__control {
  position: relative;
  border-radius: 18px;
  border: 1px solid rgba(59, 130, 246, 0.35);
  background: linear-gradient(135deg, rgba(18, 28, 51, 0.95), rgba(7, 10, 20, 0.92));
  box-shadow:
    0 14px 30px rgba(2, 6, 23, 0.55),
    inset 0 0 0 1px rgba(148, 163, 184, 0.12);
}

.contract-filter select {
  width: 100%;
  appearance: none;
  border: none;
  background: transparent;
  color: var(--text-primary);
  font-size: 0.95rem;
  font-weight: 600;
  padding: 12px 44px 12px 16px;
  border-radius: 18px;
  cursor: pointer;
}

.contract-filter select:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
}

.contract-filter select option {
  background: #0d1426;
  color: #e2e8f0;
}

.contract-filter__chevron {
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  color: rgba(226, 232, 240, 0.8);
  pointer-events: none;
  display: inline-flex;
}

.contract-filter__chevron svg {
  width: 16px;
  height: 16px;
}

[data-theme='light'] .contract-filter__control {
  background: linear-gradient(135deg, rgba(247, 249, 255, 0.98), rgba(229, 238, 255, 0.94));
  border-color: rgba(59, 130, 246, 0.25);
  box-shadow:
    0 18px 34px rgba(15, 23, 42, 0.14),
    inset 0 0 0 1px rgba(148, 163, 184, 0.1);
}

[data-theme='light'] .contract-filter select {
  color: #0f172a;
}

[data-theme='light'] .contract-filter__chevron {
  color: rgba(71, 85, 105, 0.9);
}

.contract-phase + .contract-phase {
  margin-top: 18px;
}

.contract-phase-title {
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
  color: var(--text-muted);
  margin-bottom: 10px;
}

.contract-phase ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 10px;
}

.contract-phase li {
  border: 1px solid transparent;
  border-radius: 14px;
  padding: 10px 12px;
  background: rgba(148, 163, 184, 0.08);
  cursor: pointer;
  transition: border 0.2s ease, background 0.2s ease;
}

.contract-phase li.active {
  border-color: rgba(56, 189, 248, 0.8);
  background: rgba(56, 189, 248, 0.15);
}

.contract-row {
  display: flex;
  align-items: center;
  gap: 8px;
}

.contract-row__body {
  flex: 1;
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: center;
  gap: 10px;
  padding: 0;
  border: none;
  background: none;
  color: inherit;
  font: inherit;
  cursor: pointer;
  text-align: left;
}

.contract-row__body:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

.contract-row__info {
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0;
}

.contract-stage-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 10px;
  border-radius: 999px;
  font-size: 0.68rem;
  font-weight: 600;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  background: rgba(148, 163, 184, 0.16);
  color: var(--text-muted);
  width: fit-content;
}

.contract-stage-badge::before {
  content: '';
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: currentColor;
}

.contract-stage-badge--construction {
  background: rgba(37, 99, 235, 0.16);
  color: #1d4ed8;
}

.contract-stage-badge--bidding {
  background: rgba(191, 90, 12, 0.16);
  color: #c2410c;
}

.contract-stage-badge--pre-pq {
  background: rgba(217, 119, 6, 0.16);
  color: #b45309;
}

.contract-stage-badge--pq {
  background: rgba(124, 58, 237, 0.16);
  color: #7c3aed;
}

.contract-progress {
  font-weight: 600;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.contract-toggle {
  border: none;
  background: rgba(148, 163, 184, 0.18);
  color: var(--text-muted);
  width: 28px;
  height: 28px;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1rem;
  display: grid;
  place-items: center;
  transition: background 0.2s ease, color 0.2s ease;
}

.contract-toggle:hover {
  background: var(--accent);
  color: #fff;
}

.contract-toggle:focus-visible {
  outline: 2px solid var(--accent, #38bdf8);
  outline-offset: 2px;
}

.sow-list--scroll {
  margin-top: 12px;
  max-height: 240px;
  overflow-y: auto;
  padding-right: 4px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.sow-list--scroll::-webkit-scrollbar {
  width: 6px;
}

.sow-list--scroll::-webkit-scrollbar-track {
  background: transparent;
}

.sow-list--scroll::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.35);
  border-radius: 999px;
}
.contract-name {
  font-weight: 600;
  font-size: 0.95rem;
}

.contract-meta {
  display: flex;
  justify-content: space-between;
  font-size: 0.75rem;
  color: var(--text-muted);
}


.contract-map-shell,
.pp-mapWrap {
  position: relative;
  border-radius: 24px;
  border: 1px solid var(--border-subtle);
  overflow: hidden;
  background: var(--surface-1);
  display: flex;
  flex-direction: column;
  min-width: 0;
  width: 100%;
  height: 100%;
  min-height: 0;
}

.contract-leaflet {
  width: 100%;
  height: 100%;
}

.map-wip-split {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  min-height: 0;
  padding-bottom: 16px;
}

.map-wip-split--v2 {
  padding-bottom: 0;
  gap: 8px;
}

.map-wip-pane {
  display: flex;
  flex-direction: column;
  flex: 0 0 auto;
  min-height: 0;
  width: 100%;
  height: 100%;
}

.map-wip-pane--map {
  position: relative;
  overflow: hidden;
  z-index: 1;
}

.map-wip-pane--wip {
  border-radius: 24px;
  overflow: visible;
  display: flex;
  flex-direction: column;
  background: transparent;
  border: none;
  box-shadow: none;
  z-index: 2;
}

.contract-map-card,
.contract-wip-card {
  height: 100%;
  display: flex;
  flex-direction: column;
  border-radius: 24px;
  background: var(--surface-1);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-soft);
  overflow: hidden;
}

.contract-map-card {
  position: relative;
  z-index: 1;
}

.contract-map-card .contract-map-shell {
  flex: 1;
}

.contract-wip-card {
  padding: 16px 18px;
  position: relative;
  z-index: 2;
}

.contract-wip-card .wip-stage-board,
.contract-wip-card .contract-wip-board {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.ccc-center-column {
  display: flex;
  flex-direction: column;
  gap: 16px;
  min-height: 0;
}

.ccc-map-section {
  position: relative;
  min-height: var(--ccc-map-min, 360px);
  border-radius: 24px;
  overflow: visible;
}

.ccc-map-section .contract-map-card {
  height: 100%;
}

.ccc-resize-bar {
  height: 22px;
  margin: -4px 0 0;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: row-resize;
}

.ccc-resize-bar span {
  width: 96px;
  height: 5px;
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(148, 197, 255, 0.45), rgba(96, 165, 250, 0.6));
  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.2);
  transition: transform 0.2s ease, background 0.2s ease;
}

.ccc-resize-bar:hover span,
.ccc-resize-bar.dragging span {
  transform: scaleX(1.05) translateY(-1px);
  background: linear-gradient(135deg, rgba(56, 189, 248, 0.62), rgba(99, 102, 241, 0.58));
}

.ccc-wip-section {
  flex: 1;
  min-height: 320px;
  display: flex;
  flex-direction: column;
  gap: 0;
}

.map-wip-split--v2 .map-wip-pane--map {
  min-height: 0;
}

.map-wip-split--v2 .map-wip-pane--wip {
  min-height: 0;
}

.map-wip-pane__scroll {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 16px;
  /* overflow-y: auto;
  overflow-x: hidden; */
  /* padding: 16px; */
  padding-bottom: 20px;
  /* min-height: 0; */
  height: 100%;
}

.map-wip-pane__scroll > * {
  flex-shrink: 0;
}

.map-wip-pane--wip .pp-wip {
  overflow: visible;
}

.map-wip-pane--wip .wip-track,
.map-wip-pane--wip .wip-card,
.map-wip-pane--wip .wip-dial {
  overflow: visible;
}

.map-wip-split__handle {
  height: 14px;
  width: min(240px, 45%);
  margin: 0 auto;
  border: none;
  background: none;
  cursor: row-resize;
  touch-action: none;
  border-radius: 999px;
  display: grid;
  place-items: center;
  position: relative;
  z-index: 25;
}

.map-wip-split__handle span {
  display: block;
  width: 60px;
  height: 6px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(148, 163, 184, 0.55), rgba(148, 163, 184, 0.24));
  transition: background 0.2s ease, transform 0.2s ease;
}

.map-wip-split__handle:hover span,
.map-wip-split__handle:focus-visible span,
.map-wip-split.dragging .map-wip-split__handle span {
  background: linear-gradient(180deg, rgba(56, 189, 248, 0.55), rgba(37, 99, 235, 0.38));
}

.map-wip-split__handle:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 4px;
}

.map-wip-split__gutter {
  height: 12px;
  width: min(220px, 40%);
  cursor: row-resize;
  margin: 8px auto;
  border-radius: 9999px;
  background: linear-gradient(180deg, rgba(148, 163, 184, 0.22), rgba(148, 163, 184, 0.08));
  position: relative;
  z-index: 20;
  transition: background 0.2s ease, box-shadow 0.2s ease, opacity 0.25s ease, transform 0.25s ease;
  touch-action: none;
  display: grid;
  place-items: center;
}

.map-wip-split__gutter.hidden {
  opacity: 0;
  pointer-events: none;
  transform: translateY(-10px);
}

.map-wip-split__gutter span {
  display: block;
  width: 56px;
  height: 4px;
  border-radius: 9999px;
  background: rgba(148, 163, 184, 0.5);
}

.map-wip-split__gutter:hover,
.map-wip-split.dragging .map-wip-split__gutter {
  background: linear-gradient(180deg, rgba(56, 189, 248, 0.35), rgba(59, 130, 246, 0.25));
  box-shadow: 0 12px 28px rgba(15, 23, 42, 0.28);
}

[data-theme='light'] .map-wip-split__gutter {
  background: linear-gradient(180deg, rgba(100, 116, 139, 0.18), rgba(148, 163, 184, 0.08));
}

[data-theme='light'] .map-wip-split__gutter span {
  background: rgba(71, 85, 105, 0.36);
}

.map-wip-split--v2 .map-wip-split__gutter {
  display: none;
}

.map-wip-split.dragging .map-wip-split__gutter span {
  background: rgba(15, 23, 42, 0.65);
}

.pp-wip-status,
.pp-wip-empty {
  display: grid;
  place-items: center;
  min-height: 180px;
  border-radius: 20px;
  border: 1px dashed rgba(148, 163, 184, 0.35);
  background: rgba(148, 163, 184, 0.08);
  color: var(--text-muted);
  font-size: 0.9rem;
  letter-spacing: 0.02em;
  text-align: center;
}

[data-theme='light'] .pp-wip-status,
[data-theme='light'] .pp-wip-empty {
  background: rgba(148, 197, 255, 0.12);
  border-color: rgba(148, 197, 255, 0.4);
}

.contract-utility-dock {
  position: absolute;
  top: 40px;
  right: 18px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 12px 10px;
  border-radius: 20px;
  background: rgba(15, 23, 42, 0.82);
  border: 1px solid rgba(148, 163, 184, 0.22);
  box-shadow: 0 24px 50px rgba(2, 6, 23, 0.4);
  z-index: 1200;
  backdrop-filter: blur(18px);
}

[data-theme='light'] .contract-utility-dock {
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(203, 213, 225, 0.35);
  box-shadow: 0 22px 42px rgba(148, 163, 184, 0.25);
}


.contract-utility-floating {
  position: fixed;
  right: 32px;
  top: 80px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 18px;
  padding: 6px;
  /* width: 78px; */
  border-radius:20px;
  background: var(--sidebar-bg);
  border: 1px solid var(--sidebar-border);
  box-shadow: 0 20px 42px rgba(2, 6, 23, 0.28);
  z-index: 20;
}

[data-theme='light'] .contract-utility-floating {
  box-shadow: 0 22px 46px rgba(148, 163, 184, 0.24);
}

.contract-utility-floating::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.05);
  pointer-events: none;
}

.sow-utility-dock {
  right: var(--page-gutter);
  top: 120px;
  background: rgba(5, 8, 18, 0.96);
  border: 1px solid rgba(255, 255, 255, 0.06);
  box-shadow:
    0 30px 60px rgba(0, 0, 0, 0.55),
    inset 0 0 0 1px rgba(255, 255, 255, 0.04);
  backdrop-filter: blur(24px);
}

[data-theme='light'] .sow-utility-dock {
  background: rgba(255, 255, 255, 0.95);
  border-color: rgba(15, 23, 42, 0.08);
  box-shadow: 0 22px 45px rgba(148, 163, 184, 0.35);
}

.atom-utility-dock {
  z-index: 60;
}

@media (max-width: 1200px) {
  .atom-utility-dock {
    display: none;
  }
}

.utility-dock-btn {
  width: 44px;
  height: 44px;
  border: none;
  border-radius: 16px;
  display: grid;
  place-items: center;
  background: none;
  color: var(--text-muted);
  cursor: pointer;
  transition: transform 0.22s ease, box-shadow 0.22s ease, background 0.22s ease, color 0.22s ease;
}

.utility-dock-btn span svg,
.utility-dock-btn svg {
  width: 24px;
  height: 24px;
}

.utility-dock-btn:hover {
  color: var(--text-primary);
  transform: translateY(-3px);
}

.utility-dock-btn.active {
  color: #fff;
  background-image: var(--sidebar-active);
  box-shadow: 0 18px 38px rgba(37, 99, 235, 0.32);
}

[data-theme='light'] .utility-dock-btn {
  color: rgba(71, 85, 105, 0.78);
}

[data-theme='light'] .utility-dock-btn:hover {
  color: #2563eb;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.contract-insights {
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 18px;
  min-height: 0;
}

.contract-map-shell .map-toolbar {
  top: 20px;
  left: 24px;
  z-index: 1200;
}

.contract-map-shell .map-stats {
  top: 20px;
  right: 24px;
  z-index: 1200;
}

.contract-map-shell .map-stats-card {
  min-width: 210px;
}

.contract-map-shell .map-stats-card strong {
  font-size: 1.08rem;
}

.contract-toggle-card {
  display: flex;
  gap: 10px;
  padding: 10px 12px;
  align-items: center;
  min-width: 220px;
}

.contract-wip-board,
.pp-wip {
  position: relative;
  flex: 1 1 0;
  border-radius: 24px;
  padding: 16px;
  background: linear-gradient(135deg, rgba(56, 189, 248, 0.16), rgba(99, 102, 241, 0.14));
  border: 1px solid rgba(148, 163, 184, 0.18);
  box-shadow: 0 32px 60px rgba(15, 23, 42, 0.32);
  overflow: auto;
  display: flex;
  flex-direction: column;
  gap: 16px;
  width: 100%;
  margin-top: 0;
  min-height: var(--contract-map-wip-min, 320px);
  height: 100%;
}

.contract-wip-board::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.28), transparent 60%);
  opacity: 0.7;
  pointer-events: none;
}

[data-theme='light'] .contract-wip-board::before {
  background: radial-gradient(circle at top left, rgba(148, 197, 255, 0.2), transparent 60%);
  opacity: 0.9;
}

.wip-header {
  position: relative;
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 16px;
}

.wip-header h4 {
  margin: 0;
  font-size: 1.05rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.wip-header span {
  font-size: 0.82rem;
  color: rgba(226, 232, 240, 0.85);
}

.wip-summary {
  position: relative;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 16px;
  padding-bottom: 16px;
}

.wip-summary-chip {
  display: grid;
  gap: 6px;
  justify-items: stretch;
  align-content: flex-start;
  text-align: left;
  padding: 12px 14px;
  border-radius: 18px;
  background: rgba(15, 23, 42, 0.6);
  border: 1px solid rgba(148, 163, 184, 0.18);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
  color: rgba(226, 232, 240, 0.92);
  cursor: pointer;
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease, background 0.25s ease;
  font: inherit;
}

.wip-summary-chip::before {
  content: '';
  width: 46px;
  height: 4px;
  border-radius: 999px;
  background: var(--chip-accent, #38bdf8);
  display: block;
}

.wip-summary-label {
  font-size: 0.92rem;
  font-weight: 600;
  letter-spacing: 0.02em;
}

.wip-summary-count {
  font-size: 1.35rem;
  font-weight: 700;
}

.wip-summary-sub {
  font-size: 0.72rem;
  letter-spacing: 0.02em;
  opacity: 0.7;
}

.wip-summary-chip.active {
  transform: translateY(-2px);
  border-color: rgba(255, 255, 255, 0.36);
  background: rgba(15, 23, 42, 0.75);
  box-shadow: 0 24px 40px rgba(15, 23, 42, 0.4);
}

.wip-summary-chip:focus-visible {
  outline: 2px solid var(--accent, rgba(56, 189, 248, 0.9));
  outline-offset: 2px;
}

.wip-track {
  position: relative;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
  width: 100%;
  padding-bottom: 4px;
}


.wip-card {
  position: relative;
  display: grid;
  justify-items: center;
  gap: 16px;
  padding: 22px 26px;
  border-radius: 26px;
  min-width: 160px;
  background: rgba(15, 23, 42, 0.78);
  border: 1px solid rgba(148, 163, 184, 0.24);
  box-shadow: 0 28px 54px rgba(2, 6, 23, 0.5);
  overflow: hidden;
}

.wip-card::after {
  content: '';
  position: absolute;
  inset: 60% 18px -18px;
  background: linear-gradient(180deg, rgba(15, 23, 42, 0) 0%, rgba(15, 23, 42, 0.75) 60%);
  pointer-events: none;
}

.wip-card.tone-ahead {
  border-color: rgba(34, 197, 94, 0.45);
  box-shadow: 0 32px 58px rgba(34, 197, 94, 0.22);
}

.wip-card.tone-steady {
  border-color: rgba(249, 115, 22, 0.35);
  box-shadow: 0 32px 58px rgba(249, 115, 22, 0.18);
}

.wip-card.tone-lagging {
  border-color: rgba(239, 68, 68, 0.4);
  box-shadow: 0 32px 58px rgba(239, 68, 68, 0.22);
}

.wip-card::before {
  content: '';
  position: absolute;
  inset: -28% -12% auto;
  height: 68%;
  background: radial-gradient(circle at top, rgba(59, 130, 246, 0.28), transparent 65%);
  opacity: 0.7;
  pointer-events: none;
}

.wip-dial {
  width: var(--dial-size);
  height: var(--dial-size);
  position: relative;
  z-index: 1;
}

.wip-dial-halo {
  filter: blur(0.6px);
}

.wip-dial-track,
.wip-dial-progress {
  fill: none;
  stroke-width: 10;
  transform-origin: 60px 60px;
  transform: rotate(-90deg);
  stroke-linecap: round;
}

.wip-dial-track {
  stroke: rgba(226, 232, 240, 0.28);
}

.wip-dial-progress {
  stroke: #2563eb;
  transition: stroke-dashoffset 0.6s ease;
}

.wip-dial-text {
  font-size: 1.18rem;
  font-weight: 700;
  text-anchor: middle;
  dominant-baseline: middle;
  fill: #f8fafc;
}

.wip-details {
  display: grid;
  justify-items: center;
  gap: 6px;
  text-align: center;
  position: relative;
  z-index: 1;
}

.wip-details strong {
  font-size: 0.8rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.wip-details span {
  font-size: 0.7rem;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: rgba(226, 232, 240, 0.75);
}

.wip-status-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.7);
  border: 1px solid rgba(148, 163, 184, 0.24);
  font-size: 0.7rem;
  letter-spacing: 0.08em;
  color: var(--chip-accent, rgba(226, 232, 240, 0.85));
  text-transform: uppercase;
}

.wip-stage-board {
  display: grid;
  gap: 18px;
}

.wip-stage-board__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.wip-stage-board__header h3 {
  margin: 0;
  font-size: 1rem;
}

.wip-stage-board__header p {
  margin: 4px 0 0;
  font-size: 0.82rem;
  color: var(--text-muted);
}

.wip-stage-board__project {
  display: grid;
  justify-items: center;
  gap: 6px;
}

.wip-stage-tabs {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
}

.wip-stage-tab {
  border: 1px solid rgba(148, 163, 184, 0.24);
  border-radius: 16px;
  background: rgba(15, 23, 42, 0.78);
  color: inherit;
  padding: 12px 14px;
  display: grid;
  gap: 4px;
  justify-items: center;
  cursor: pointer;
  transition: border-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
}

.wip-stage-tab span {
  font-size: 0.78rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.wip-stage-tab strong {
  font-size: 1.1rem;
}

.wip-stage-tab small {
  font-size: 0.7rem;
  color: rgba(226, 232, 240, 0.8);
}

.wip-stage-tab.active {
  border-color: rgba(59, 130, 246, 0.6);
  box-shadow: 0 20px 44px rgba(37, 99, 235, 0.35);
  transform: translateY(-2px);
}

[data-theme='light'] .wip-stage-tab {
  background: rgba(255, 255, 255, 0.95);
  border: 1px solid rgba(203, 213, 225, 0.45);
}

.wip-stage-dials {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 16px;
  min-height: 160px;
}

.wip-stage-dial {
  display: grid;
  gap: 10px;
  justify-items: center;
  border-radius: 18px;
  padding: 16px 18px 18px;
  background: rgba(15, 23, 42, 0.82);
  border: 1px solid rgba(148, 163, 184, 0.24);
  box-shadow: 0 18px 38px rgba(2, 6, 23, 0.45);
}

.wip-stage-dial__gauge {
  width: 108px;
  aspect-ratio: 1;
  position: relative;
  border-radius: 50%;
  background:
    conic-gradient(var(--dial-color, var(--accent)) var(--dial-progress, 0%), rgba(148, 163, 184, 0.26) var(--dial-progress, 0%)),
    radial-gradient(circle at 50% 50%, rgba(15, 23, 42, 0.18), rgba(15, 23, 42, 0));
  display: grid;
  place-items: center;
}

.wip-stage-dial__gauge::after {
  content: '';
  position: absolute;
  inset: 10px;
  border-radius: 50%;
  background: var(--surface-1, rgba(15, 23, 42, 0.92));
  box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.22);
}

.wip-stage-dial__value {
  position: relative;
  font-size: 1.15rem;
  font-weight: 600;
  letter-spacing: 0.04em;
}

.wip-stage-dial__meta {
  text-align: center;
  font-size: 0.78rem;
}

.wip-stage-empty {
  padding: 24px;
  border-radius: 16px;
  border: 1px dashed rgba(148, 163, 184, 0.32);
  color: var(--text-muted);
  text-align: center;
}

[data-theme='light'] .wip-stage-dial {
  background: rgba(255, 255, 255, 0.96);
  border: 1px solid rgba(203, 213, 225, 0.4);
}

[data-theme='light'] .wip-stage-dial__gauge::after {
  background: rgba(255, 255, 255, 0.94);
  box-shadow: inset 0 0 0 1px rgba(203, 213, 225, 0.45);
}

.sow-item.active .sow-header {
  border-left: 3px solid var(--accent);
  padding-left: 9px;
}

.sow-item .sow-header {
  cursor: pointer;
}

.sow-item {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(15, 23, 42, 0.7);
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.2), 0 10px 20px rgba(2, 6, 23, 0.35);
}

.sow-item__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-radius: 14px;
  background: rgba(59, 130, 246, 0.08);
  border: 1px solid rgba(59, 130, 246, 0.2);
  padding: 10px 12px;
  font-size: 0.9rem;
  gap: 12px;
  color: var(--text-primary);
}

.sow-item__header span:last-child {
  font-weight: 600;
  color: var(--text-muted);
}

.sow-item__processes {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.sow-item__processes li {
  border-radius: 14px;
  border: 1px solid rgba(59, 130, 246, 0.15);
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.35), rgba(14, 165, 233, 0.25));
  padding: 10px 12px;
  color: #f8fafc;
  font-size: 0.88rem;
  display: flex;
  justify-content: space-between;
  gap: 8px;
  align-items: center;
  white-space: normal;
  line-height: 1.3;
  box-shadow: inset 0 0 0 1px rgba(14, 165, 233, 0.25);
}

.sow-item__processes li span:last-child {
  font-weight: 600;
}

.sow-item__processes li.active {
  border-color: rgba(96, 165, 250, 0.9);
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.65), rgba(14, 165, 233, 0.5));
  box-shadow: 0 10px 26px rgba(14, 165, 233, 0.25);
}

.sow-clauses li {
  cursor: pointer;
}

.sow-clauses li.active {
  border-left: 3px solid var(--accent);
  padding-left: 9px;
}

.wip-empty-state {
  border-radius: 20px;
  border: 1px dashed rgba(148, 163, 184, 0.35);
  padding: 28px;
  text-align: center;
  color: rgba(226, 232, 240, 0.75);
  font-size: 0.88rem;
  background: rgba(15, 23, 42, 0.55);
}

.wip-legend {
  margin-top: 24px;
  display: flex;
  flex-wrap: wrap;
  gap: 12px 18px;
  justify-content: center;
  border-top: 1px solid rgba(148, 163, 184, 0.18);
  padding-top: 18px;
}

.wip-legend-chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(226, 232, 240, 0.75);
}

.wip-legend-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #38bdf8;
  display: inline-block;
}

[data-theme='light'] .contract-wip-board {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(226, 242, 255, 0.68));
  border: 1px solid rgba(203, 213, 225, 0.35);
  color: #0f172a;
}

[data-theme='light'] .wip-header span {
  color: rgba(71, 85, 105, 0.75);
}

[data-theme='light'] .wip-summary-chip {
  background: rgba(248, 250, 252, 0.9);
  border: 1px solid rgba(203, 213, 225, 0.5);
  color: #0f172a;
}

[data-theme='light'] .wip-card {
  background: rgba(255, 255, 255, 0.95);
  border: 1px solid rgba(203, 213, 225, 0.45);
  box-shadow: 0 28px 50px rgba(148, 163, 184, 0.32);
}

[data-theme='light'] .wip-card::after {
  /* background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(203, 213, 225, 0.4) 65%); */
  background: none;
}

[data-theme='light'] .wip-card.tone-ahead {
  border-color: rgba(34, 197, 94, 0.4);
  box-shadow: 0 28px 48px rgba(34, 197, 94, 0.18);
}

[data-theme='light'] .wip-card.tone-steady {
  border-color: rgba(249, 115, 22, 0.3);
  box-shadow: 0 28px 48px rgba(249, 115, 22, 0.15);
}

[data-theme='light'] .wip-card.tone-lagging {
  border-color: rgba(239, 68, 68, 0.35);
  box-shadow: 0 28px 48px rgba(239, 68, 68, 0.18);
}

[data-theme='light'] .wip-details span,
[data-theme='light'] .wip-legend-chip {
  color: rgba(71, 85, 105, 0.72);
}

[data-theme='light'] .wip-dial-track {
  stroke: rgba(203, 213, 225, 0.7);
}

[data-theme='light'] .wip-dial-text {
  fill: #fff;
}

[data-theme='light'] .wip-legend-dot {
  opacity: 0.85;
}

[data-theme='light'] .wip-status-chip {
  background: rgba(248, 250, 252, 0.85);
  border: 1px solid rgba(203, 213, 225, 0.5);
  color: rgba(71, 85, 105, 0.75);
}

[data-theme='dark'] .wip-dial-text {
  fill: #f8fafc;
}

.contract-insights {
  display: none;
}


.project-productivity {
  width: min(var(--right-panel-w), 100%);
  max-width: var(--right-panel-w);
  /* max-height: calc(100vh - var(--page-gutter) * 2); */
  /* overflow-y: auto; */
  background: linear-gradient(155deg, rgba(255, 255, 255, 0.92), rgba(240, 249, 255, 0.78));
  border: 1px solid rgba(148, 163, 184, 0.28);
  border-radius: 28px;
  box-shadow: 0 28px 60px rgba(15, 23, 42, 0.22);
  /* padding: 26px  10px 26px 32px; */
  display: grid;
  gap: 18px;
  position: sticky;
  top: 16px;
  margin-inline: 0;
}
.project-productivity-scroll{
  max-height: calc(100vh - 60px);
}
[data-theme='dark'] .project-productivity {
  background: radial-gradient(circle at 20% -10%, rgba(59, 130, 246, 0.2), rgba(15, 23, 42, 0.92));
  border: 1px solid rgba(59, 130, 246, 0.26);
  box-shadow: 0 38px 70px rgba(2, 6, 23, 0.5);
}

@media (min-width: 1440px) {
  :root {
    --right-panel-w: 560px;
    --col-gap: 24px;
  }
  
  .contract-body,
  .pp-layout {
    grid-template-columns: 320px minmax(0, 1fr) 320px;
  }
}

@media (max-width: 1280px) {
  .contract-body {
    grid-template-columns: 280px minmax(0, 1fr) 280px;
  }

  .project-productivity {
    position: fixed;
    right: calc(var(--page-gutter) + var(--right-rail-w));
    top: var(--page-gutter);
    width: min(92vw, 300px);
    max-height: calc(100vh - var(--page-gutter) * 2);
    overflow-y: auto;
    z-index: 30;
  }
}

@media (max-width: 1180px) {
  .contract-body {
    grid-template-columns: minmax(0, 1fr);
    padding-inline: var(--page-gutter);
  }

  .project-productivity {
    position: static;
    width: 100%;
    max-width: none;
    margin-top: 24px;
  }
}

.productivity-heading {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.productivity-heading h3 {
  margin: 0;
  font-size: 1.15rem;
  font-weight: 700;
}

.productivity-heading span {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.productivity-skeleton {
  display: grid;
  gap: 12px;
}

.skeleton {
  border-radius: 18px;
  background: rgba(148, 163, 184, 0.2);
  height: 80px;
  animation: pulse 1.4s ease infinite;
}

.skeleton--header {
  height: 120px;
}

.productivity-filters {
  display: grid;
  gap: 16px;
}

.filter-column {
  display: grid;
  gap: 6px;
  font-size: 0.78rem;
  color: var(--text-muted);
}

.filter-column select {
  border-radius: 12px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-2);
  padding: 10px 12px;
  color: var(--text-primary);
  appearance: none;
}

.filter-column select option {
  background: var(--surface-2);
  color: var(--text-primary);
}

[data-theme='dark'] .filter-column select {
  background: rgba(17, 29, 53, 0.92);
  border-color: rgba(59, 130, 246, 0.35);
  color: #f8fafc;
}

[data-theme='dark'] .filter-column select option {
  background: rgba(17, 29, 53, 0.95);
  color: #f8fafc;
}

.workstream-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.workstream-chip {
  border: 1px solid rgba(148, 163, 184, 0.24);
  border-radius: 999px;
  padding: 6px 12px;
  font-size: 0.75rem;
  background: transparent;
  color: var(--text-muted);
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease, border 0.2s ease;
}

.workstream-chip.active {
  background-image: var(--sidebar-active);
  border-color: transparent;
  color: #fff;
}

.productivity-kpi {
  background: var(--surface-2);
  border-radius: 18px;
  border: 1px solid var(--border-subtle);
  padding: 16px 18px;
  display: grid;
  gap: 12px;
}

.productivity-kpi__title {
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-muted);
  font-size: 0.75rem;
}

.productivity-kpi__grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

.productivity-kpi__metric {
  background: rgba(148, 163, 184, 0.18);
  border-radius: 16px;
  padding: 12px;
  display: grid;
  gap: 4px;
  justify-items: center;
  color: var(--text-primary);
}

.productivity-kpi__metric.highlight {
  background-image: var(--sidebar-active);
  color: #fff;
  box-shadow: 0 18px 32px rgba(37, 99, 235, 0.3);
}

.productivity-kpi__metric.muted {
  background: rgba(148, 163, 184, 0.12);
}

.productivity-kpi__metric.delta {
  align-items: center;
  background: rgba(148, 163, 184, 0.1);
}

.productivity-kpi__metric.delta.positive {
  color: #0f766e;
  background: rgba(45, 212, 191, 0.18);
}

.productivity-kpi__metric.delta.negative {
  color: #b91c1c;
  background: rgba(248, 113, 113, 0.18);
}

.productivity-kpi__metric.delta small {
  font-size: 0.65rem;
  opacity: 0.9;
}

.productivity-kpi__metric span {
  font-size: 14px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
  width: 100%;
  display: block;
  text-align: center;
}
.productivity-kpi__metric strong {
  /* font-size: 1.25rem; */
  font-size: 1rem;
}

.productivity-section {
  background: #ffffff;
  border: 1px solid rgba(148, 163, 184, 0.2);
  border-radius: 12px;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  min-height: 48px;
  /* overflow: hidden; */
}

.productivity-section:hover {
  border-color: rgba(148, 163, 184, 0.3);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

.productivity-section.open {
  border-color: rgba(59, 130, 246, 0.3);
  box-shadow: 0 2px 12px rgba(59, 130, 246, 0.08);
}

[data-theme='dark'] .productivity-section {
  background: var(--surface-2);
  border-color: var(--border-subtle);
}

.productivity-section__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 16px;
  border-bottom: 1px solid transparent;
  font-weight: 600;
  color: var(--text-primary);
  cursor: pointer;
  min-height: 48px;
  transition: background-color 0.2s ease;
}

.productivity-section__header:hover {
  background-color: rgba(148, 163, 184, 0.04);
}

.productivity-section.open .productivity-section__header {
  border-bottom-color: rgba(148, 163, 184, 0.12);
  background-color: rgba(59, 130, 246, 0.04);
}

.productivity-section__title {
  flex: 1;
  font-size: 0.9rem;
  line-height: 1.4;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--text-primary);
}

.productivity-section__toggle {
  border: none;
  background: none;
  color: var(--text-muted);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 6px;
  transition: background 0.2s ease, color 0.2s ease;
  flex-shrink: 0;
  padding: 0;
}

.productivity-section__toggle:hover {
  background: rgba(148, 163, 184, 0.12);
  color: var(--text-primary);
}

.chevron {
  width: 8px;
  height: 8px;
  border-right: 2px solid currentColor;
  border-bottom: 2px solid currentColor;
  transform: rotate(-45deg);
  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.chevron--open {
  transform: rotate(45deg);
}

.productivity-section__body {
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Accordion Component Styles - Theme variables handled here */
.productivity-accordion {
  background: #ffffff;
  border: 1px solid rgba(148, 163, 184, 0.2);
  border-radius: 12px;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

[data-theme='dark'] .productivity-accordion {
  background: var(--surface-2);
  border-color: var(--border-subtle);
}

.productivity-accordion:hover {
  border-color: rgba(148, 163, 184, 0.3);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

.productivity-accordion.open {
  border-color: rgba(59, 130, 246, 0.3);
  box-shadow: 0 2px 12px rgba(59, 130, 246, 0.08);
}

[data-theme='dark'] .productivity-accordion.open {
  border-color: rgba(59, 130, 246, 0.4);
}

.productivity-accordion__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px 16px;
  font-weight: 600;
  color: var(--text-primary);
  cursor: pointer;
  min-height: 48px;
  transition: background-color 0.2s ease, border-color 0.2s ease;
  border-bottom: 1px solid transparent;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.productivity-accordion__header:hover {
  background-color: rgba(148, 163, 184, 0.04);
}

[data-theme='dark'] .productivity-accordion__header:hover {
  background-color: rgba(30, 41, 59, 0.3);
}

.productivity-accordion.open .productivity-accordion__header {
  border-bottom-color: rgba(148, 163, 184, 0.12);
  background-color: rgba(59, 130, 246, 0.04);
}

[data-theme='dark'] .productivity-accordion.open .productivity-accordion__header {
  background-color: rgba(59, 130, 246, 0.1);
  border-bottom-color: rgba(51, 65, 85, 0.5);
}

.productivity-accordion__title {
  flex: 1 1 auto;
  min-width: 0;
  font-size: 0.9rem;
  line-height: 1.4;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--text-primary);
}

.productivity-accordion__toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  min-width: 28px;
  border-radius: 8px;
  transition: background 0.2s ease;
  flex-shrink: 0;
  flex-grow: 0;
}

.productivity-accordion__toggle:hover {
  background: rgba(148, 163, 184, 0.12);
}

[data-theme='dark'] .productivity-accordion__toggle:hover {
  background: rgba(51, 65, 85, 0.5);
}

.productivity-accordion__icon {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-muted);
  line-height: 1;
  transition: color 0.2s ease;
  display: inline-block;
  width: auto;
  height: auto;
}

.productivity-accordion__header:hover .productivity-accordion__icon {
  color: var(--text-primary);
}

.productivity-accordion__content {
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.productivity-accordion__content > * {
  min-width: 0;
  max-width: 100%;
  width: 100%;
  box-sizing: border-box;
  overflow-wrap: break-word;
  word-wrap: break-word;
}

.component-progress-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.component-progress-item {
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.component-progress-item__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.atom-manager {
  display: flex;
  height: 100vh;
  width: 100%;
  background: var(--app-bg);
  color: var(--text-primary);
}

.atom-stage {
  flex: 1;
  display: grid;
  grid-template-columns: var(--left-rail-w) minmax(0, 1fr);
  gap: var(--col-gap);
  padding: 12px var(--page-gutter) 24px;
  box-sizing: border-box;
  overflow: hidden;
  align-items: stretch;
  min-height: 0;
}

.atom-stage--docked {
  padding-right: calc(var(--page-gutter) + 110px);
}

.atom-stage--full-schedule {
  padding-right: calc(var(--page-gutter) + 60px);
  padding-left: calc(var(--page-gutter) + 12px);
}

.atom-stage--full-schedule .atom-schedule-stack {
  grid-column: 2 / span 1;
  display: flex;
  flex-direction: column;
  gap: 32px;
}

.atom-stage--full-schedule .atom-schedule-stack > * {
  width: 100%;
}

@media (max-width: 1280px) {
  .atom-stage--full-schedule {
    padding-right: var(--page-gutter);
    padding-left: var(--page-gutter);
  }
}

@media (max-width: 1200px) {
  .atom-stage--docked {
    padding-right: var(--page-gutter);
  }
}

.atom-stage.atom-stage--single {
  grid-template-columns: var(--left-rail-w) minmax(0, 1fr);
  padding-top: 10px;
}

.atom-center {
  display: grid;
  grid-template-columns: minmax(0, 1.05fr) var(--split-handle-w) minmax(0, 0.95fr);
  gap: var(--col-gap);
  align-items: stretch;
  min-width: 0;
  min-height: 0;
}

.atom-stage > *,
.atom-center > * {
  min-height: 0;
}

.atom-detail-layout {
  border-radius: 24px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 4px 18px 20px;
  display: grid;
  gap: 2px;
  overflow-y: auto;
  min-height: 0;
}

.atom-filter-row--detail {
  margin-bottom: 0;
  align-self: flex-start;
  width: fit-content;
  background: rgba(9, 14, 32, 0.82);
  box-shadow: 0 12px 24px rgba(15, 23, 42, 0.25);
  padding: 2px 10px;
  gap: 6px;
  align-items: center;
}

.atom-filter-row--detail > div {
  gap: 6px;
}

.atom-manager__body--detail {
  display: grid;
  gap: 24px;
  padding: 26px 36px;
}

.atom-manager__body--detail .atom-detail {
  max-width: 1120px;
  margin: 0 auto;
  width: 100%;
}

.atom-manager__body--detail .atom-detail--empty {
  text-align: center;
}


.atom-center__handle {
  display: grid;
  place-items: center;
  cursor: col-resize;
  position: relative;
  border-radius: 999px;
  transition: background 0.2s ease;
}

.atom-center__handle span {
  width: 3px;
  height: 46px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.5);
  transition: background 0.2s ease, height 0.2s ease;
}

.atom-center__handle:hover span,
.atom-center__handle.is-active span,
.atom-center__handle:focus-visible span {
  background: var(--accent);
  height: 58px;
}

.atom-center__handle:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 4px;
}

.atom-left {
  position: relative;
  border-radius: 24px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: linear-gradient(180deg, rgba(30, 64, 175, 0.28) 0%, rgba(15, 23, 42, 0.9) 42%, var(--surface-2) 100%);
  display: flex;
  flex-direction: column;
  padding: 24px 20px;
  overflow: hidden;
  min-height: 0;
  max-width: var(--left-rail-w);
  box-shadow: 0 28px 58px rgba(2, 6, 23, 0.38);
  backdrop-filter: blur(24px);
}

.atom-left::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.14);
}

.atom-left > * {
  position: relative;
  z-index: 1;
}

.atom-left__header h2 {
  margin: 0;
  font-size: 1.05rem;
}

.atom-left__header p {
  margin: 4px 0 0;
  font-size: 0.8rem;
  color: var(--text-muted);
}

.atom-nav__scroll {
  flex: 1;
  overflow-y: auto;
  margin-top: 18px;
  padding-right: 6px;
}

.atom-nav__list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 4px;
}

.atom-nav__item {
  border-radius: 14px;
  transition: background 0.2s ease, border-color 0.2s ease;
}

.atom-nav__item--category {
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(148, 163, 184, 0.08);
}

.atom-nav__item.is-active.atom-nav__item--category {
  border-color: rgba(59, 130, 246, 0.45);
  background: rgba(59, 130, 246, 0.18);
  box-shadow: 0 8px 20px rgba(59, 130, 246, 0.16);
}

.atom-nav__row {
  display: flex;
  align-items: center;
  gap: 8px;
}

.atom-nav__toggle {
  width: 26px;
  height: 26px;
  border-radius: 8px;
  border: 1px solid transparent;
  background: rgba(148, 163, 184, 0.18);
  color: var(--text-muted);
  display: grid;
  place-items: center;
  font-size: 0.85rem;
  cursor: pointer;
  transition: background 0.2s ease, border-color 0.2s ease;
}

.atom-nav__toggle:hover {
  border-color: rgba(59, 130, 246, 0.45);
  color: var(--text-primary);
}

.atom-nav__toggle--placeholder {
  visibility: hidden;
  width: 26px;
  height: 26px;
  display: inline-flex;
}

.atom-nav__button {
  flex: 1;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 10px;
  border: none;
  background: none;
  color: inherit;
  font: inherit;
  cursor: pointer;
  text-align: left;
}

.atom-nav__button:hover .atom-nav__label {
  color: var(--accent);
}

.atom-nav__label {
  font-weight: 600;
  transition: color 0.2s ease;
}

.atom-nav__count {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.atom-nav__item.is-active .atom-nav__label {
  color: var(--accent);
}

.atom-main {
  display: flex;
  flex-direction: column;
  gap: 18px;
  overflow-y: auto;
  border-radius: 24px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-2);
  padding: 20px 24px 32px;
  min-height: 0;
}

.atom-main--expanded {
  width: 100%;
}

.deployments-layout .atom-left {
  min-width: 280px;
}

.atom-main__header {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.atom-main__filters {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}

.atom-scope-bar {
  display: flex;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
  flex: 1 1 auto;
}

.atom-scope-bar label {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 0.82rem;
  letter-spacing: 0.02em;
  text-transform: none;
  color: var(--text-muted);
  font-weight: 600;
}

.atom-scope-bar select {
  min-width: 180px;
  border-radius: 10px;
  border: 1px solid var(--border-subtle);
  padding: 6px 10px;
  background: var(--surface-1);
  color: var(--text-primary);
}

.atom-scope-bar select:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.atom-scope-bar--vertical {
  flex-direction: column;
  align-items: stretch;
  gap: 16px;
}

.atom-scope-bar--vertical label {
  align-items: flex-start;
}

.atom-scope-bar--vertical select {
  width: 100%;
}

.atom-scope-divider {
  width: 1px;
  height: 28px;
  background: rgba(148, 163, 184, 0.2);
}

.atom-actions {
  position: relative;
  flex: 0 0 auto;
}

.atom-create-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  border-radius: 999px;
  border: 1px solid rgba(59, 130, 246, 0.4);
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.16), rgba(37, 99, 235, 0.18));
  color: var(--accent);
  font-weight: 600;
  cursor: pointer;
  transition: box-shadow 0.2s ease, transform 0.2s ease;
}

.atom-create-btn:hover {
  box-shadow: 0 12px 30px rgba(37, 99, 235, 0.28);
  transform: translateY(-1px);
}

.atom-create-menu {
  position: absolute;
  right: 0;
  top: calc(100% + 8px);
  min-width: 220px;
  background: var(--surface-2);
  border: 1px solid rgba(148, 163, 184, 0.25);
  border-radius: 14px;
  box-shadow: 0 20px 45px rgba(15, 23, 42, 0.25);
  padding: 6px;
  display: grid;
  gap: 4px;
  z-index: 30;
}

.atom-create-menu li {
  list-style: none;
}

.atom-create-menu button {
  width: 100%;
  border: none;
  background: none;
  text-align: left;
  padding: 10px 12px;
  border-radius: 10px;
  font-size: 0.88rem;
  color: var(--text-primary);
  cursor: pointer;
  transition: background 0.2s ease;
}

.atom-create-menu button:hover {
  background: rgba(59, 130, 246, 0.12);
}

.atom-filter-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  flex-wrap: wrap;
  font-size: 0.86rem;
  border: 1px solid var(--border-subtle);
  border-radius: 20px;
  padding: 14px 18px;
  background: rgba(15, 23, 42, 0.55);
}

.atom-filter-row > span {
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--text-muted);
  font-size: 0.7rem;
}

.atom-filter-row > div {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.atom-filter-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  border: 1px solid rgba(148, 163, 184, 0.24);
  background: linear-gradient(145deg, rgba(59, 130, 246, 0.12) 0%, rgba(59, 130, 246, 0.04) 100%);
  padding: 10px 28px;
  min-width: 128px;
  border-radius: 999px;
  font: inherit;
  font-weight: 600;
  letter-spacing: 0.01em;
  color: var(--text-primary);
  cursor: pointer;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06), 0 10px 26px rgba(9, 15, 32, 0.2);
  transition:
    transform 0.2s ease,
    box-shadow 0.25s ease,
    background 0.25s ease,
    border-color 0.25s ease,
    color 0.25s ease;
}

.atom-filter-chip:hover {
  transform: translateY(-1px);
  border-color: rgba(59, 130, 246, 0.4);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.12), 0 18px 32px rgba(9, 15, 32, 0.28);
  background: linear-gradient(145deg, rgba(59, 130, 246, 0.22) 0%, rgba(59, 130, 246, 0.08) 100%);
}

.atom-filter-chip:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

.atom-filter-chip.active {
  background: linear-gradient(145deg, var(--accent) 0%, var(--accent-strong) 100%);
  border-color: transparent;
  color: var(--chip-active-text);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.18), 0 20px 38px rgba(6, 16, 35, 0.32);
}

.atom-group-chip {
  border: 1px solid rgba(148, 163, 184, 0.2);
  border-radius: 999px;
  padding: 6px 14px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 0.82rem;
  background: rgba(15, 23, 42, 0.6);
  color: rgba(226, 232, 240, 0.9);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, background 0.2s ease;
}

.atom-group-chip:hover {
  transform: translateY(-1px);
  border-color: rgba(148, 163, 184, 0.32);
}

.atom-group-chip.is-active {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.9), rgba(30, 64, 175, 0.9));
  border-color: transparent;
  color: #f8fafc;
  box-shadow: 0 18px 40px rgba(46, 160, 255, 0.25);
}

.atom-group-chip__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: currentColor;
  opacity: 0.85;
}

.atom-group-chip__icon svg {
  display: block;
}

.atom-group-chip.is-active .atom-group-chip__icon {
  opacity: 1;
}

.atom-cards {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 28px;
  align-items: stretch;
}

@media (max-width: 1600px) {
  .atom-cards {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 1080px) {
  .atom-cards {
    grid-template-columns: 1fr;
  }
}

.atom-card {
  position: relative;
  border-radius: 22px;
  border: 1px solid rgba(148, 163, 184, 0.28);
  background: linear-gradient(165deg, rgba(148, 163, 184, 0.18) 0%, rgba(30, 64, 175, 0.12) 45%, rgba(15, 23, 42, 0.6) 100%);
  padding: 28px 32px;
  display: grid;
  grid-template-rows: auto auto auto 1fr auto;
  gap: 18px;
  text-align: left;
  cursor: pointer;
  font: inherit;
  color: inherit;
  outline: none;
  box-shadow: 0 28px 70px rgba(15, 23, 42, 0.28);
  transition: border-color 0.25s ease, box-shadow 0.25s ease, transform 0.25s ease;
  min-height: 380px;
  overflow: hidden;
}

.atom-card::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at top right, rgba(59, 130, 246, 0.25), transparent 60%);
  opacity: 0.7;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.atom-card > * {
  position: relative;
  z-index: 1;
}

.atom-card:hover {
  border-color: rgba(148, 163, 184, 0.45);
  box-shadow: 0 34px 90px rgba(15, 23, 42, 0.32);
  transform: translateY(-4px);
}

.atom-card:hover::before,
.atom-card.is-active::before {
  opacity: 1;
}

.atom-card.is-active {
  border-color: rgba(148, 163, 184, 0.6);
  background: linear-gradient(160deg, rgba(148, 163, 184, 0.24) 0%, rgba(96, 165, 250, 0.2) 40%, rgba(15, 23, 42, 0.7) 100%);
}

.atom-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 20px;
}

.atom-card__title {
  display: grid;
  gap: 4px;
}

/* Atom financial view ------------------------------------------------------ */

.atom-financial-layout {
  position: relative;
  display: grid;
  grid-template-columns: 84px minmax(0, 1fr);
  min-height: 100vh;
  background: radial-gradient(circle at 20% -10%, rgba(59, 130, 246, 0.45), transparent 60%),
    radial-gradient(circle at 85% 0%, rgba(99, 102, 241, 0.35), transparent 55%),
    linear-gradient(180deg, #050915 0%, #0e1527 45%, #0b101f 100%);
  color: var(--text-primary);
}

.atom-financial-layout::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 35% 15%, rgba(37, 99, 235, 0.08), transparent 45%),
    radial-gradient(circle at 75% 25%, rgba(59, 130, 246, 0.08), transparent 55%);
  mix-blend-mode: screen;
}

.atom-financial-main {
  position: relative;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  padding-right: 128px;
  padding-bottom: 48px;
  z-index: 1;
}

.atom-financial-content {
  flex: 1;
  padding: clamp(20px, 4vw, 32px);
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.atom-search-field {
  display: flex;
  align-items: center;
  gap: 8px;
}

.atom-search-field input {
  min-width: 220px;
  padding: 8px 14px;
  border-radius: 12px;
  border: 1px solid rgba(96, 165, 250, 0.25);
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.92), rgba(37, 99, 235, 0.12));
  color: rgba(226, 232, 240, 0.85);
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

.atom-search-field input:focus {
  outline: none;
  border-color: rgba(147, 197, 253, 0.75);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.28);
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.28), rgba(15, 23, 42, 0.9));
}

.atom-search-clear {
  border: none;
  background: transparent;
  color: rgba(203, 213, 225, 0.6);
  cursor: pointer;
  padding: 6px;
  border-radius: 50%;
  transition: background 0.2s ease, color 0.2s ease;
}

.atom-search-clear:hover {
  background: rgba(59, 130, 246, 0.18);
  color: #f8fafc;
}

.atom-financial-controls {
  display: flex;
  flex-direction: column;
  gap: 18px;
  padding: 22px 24px;
  border-radius: 22px;
  background: linear-gradient(140deg, rgba(15, 23, 42, 0.72), rgba(37, 99, 235, 0.08));
  border: 1px solid rgba(59, 130, 246, 0.22);
  box-shadow: 0 24px 48px rgba(8, 11, 22, 0.55), inset 0 1px 0 rgba(148, 163, 184, 0.08);
  backdrop-filter: blur(16px);
}

.atom-financial-control-row {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
}

.atom-financial-control-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: 0;
}

.atom-financial-control-group > label {
  font-size: 0.78rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(203, 213, 225, 0.72);
}

.atom-financial-control-group select,
.atom-financial-control-group input[type='date'] {
  border: 1px solid rgba(96, 165, 250, 0.3);
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.92), rgba(59, 130, 246, 0.15));
  color: rgba(226, 232, 240, 0.9);
  border-radius: 12px;
  padding: 9px 14px;
  font-size: 0.9rem;
  box-shadow: inset 0 1px 0 rgba(148, 163, 184, 0.12);
}

.atom-financial-range-row {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
}

.atom-financial-range-custom {
  display: flex;
  align-items: center;
  gap: 10px;
}

.atom-financial-chips {
  display: inline-flex;
  gap: 10px;
  flex-wrap: wrap;
}

.atom-financial-chip {
  border: 1px solid rgba(79, 70, 229, 0.32);
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.7));
  border-radius: 999px;
  padding: 6px 16px;
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.7);
  box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.65);
  transition: transform 0.18s ease, box-shadow 0.18s ease, color 0.18s ease, background 0.18s ease;
}

.atom-financial-chip.is-active {
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.35), rgba(59, 130, 246, 0.15));
  border-color: rgba(96, 165, 250, 0.55);
  color: #f8fafc;
  box-shadow: 0 10px 20px rgba(37, 99, 235, 0.35);
  transform: translateY(-1px);
}

.atom-financial-reset {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  border: 1px solid rgba(96, 165, 250, 0.22);
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(37, 99, 235, 0.08));
  color: rgba(226, 232, 240, 0.75);
  padding: 8px 14px;
  font-size: 0.85rem;
  cursor: pointer;
}

.atom-financial-reset:hover {
  color: #f8fafc;
  border-color: rgba(96, 165, 250, 0.45);
  box-shadow: 0 8px 16px rgba(37, 99, 235, 0.28);
}

.atom-financial-updated {
  font-size: 0.8rem;
  color: rgba(224, 231, 255, 0.65);
}

.atom-financial-scope-tabs {
  display: inline-flex;
  gap: 10px;
  flex-wrap: wrap;
}

.atom-financial-scope-tab {
  border-radius: 16px;
  border: 1px solid rgba(96, 165, 250, 0.24);
  background: linear-gradient(160deg, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.78));
  padding: 12px 20px;
  display: inline-flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.65);
  transition: transform 0.2s ease, box-shadow 0.2s ease, border 0.2s ease, color 0.2s ease;
}

.atom-financial-scope-tab strong {
  font-size: 1rem;
  color: #f1f5f9;
}

.atom-financial-scope-tab.is-active {
  border-color: rgba(96, 165, 250, 0.65);
  background: linear-gradient(150deg, rgba(37, 99, 235, 0.42), rgba(59, 130, 246, 0.18));
  color: #f8fafc;
  box-shadow: 0 16px 32px rgba(37, 99, 235, 0.32);
  transform: translateY(-2px);
}

.atom-financial-loading,
.atom-financial-error,
.atom-financial-empty {
  padding: clamp(20px, 4vw, 36px);
  border-radius: 20px;
  border: 1px dashed rgba(96, 165, 250, 0.35);
  background: linear-gradient(140deg, rgba(15, 23, 42, 0.88), rgba(37, 99, 235, 0.15));
  text-align: center;
  font-size: 0.95rem;
  color: rgba(226, 232, 240, 0.7);
  box-shadow: inset 0 1px 0 rgba(148, 163, 184, 0.08);
}

.atom-financial-grid {
  display: grid;
  gap: 24px;
}

.atom-financial-panel {
  border-radius: 22px;
  background: linear-gradient(150deg, rgba(15, 23, 42, 0.92), rgba(15, 23, 42, 0.75));
  border: 1px solid rgba(96, 165, 250, 0.16);
  box-shadow: 0 28px 55px rgba(8, 11, 22, 0.65), inset 0 1px 0 rgba(148, 163, 184, 0.06);
  padding: clamp(22px, 3.5vw, 30px);
  backdrop-filter: blur(12px);
}

.atom-financial-panel--primary {
  display: flex;
  flex-direction: column;
  gap: 28px;
}

.atom-financial-kpi-grid {
  display: grid;
  gap: 18px;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
}

.atom-financial-kpi-card {
  display: grid;
  gap: 6px;
  padding: 18px 20px;
  border-radius: 18px;
  background: linear-gradient(160deg, rgba(37, 99, 235, 0.25), rgba(15, 23, 42, 0.85));
  border: 1px solid rgba(129, 140, 248, 0.4);
  box-shadow: 0 22px 44px rgba(37, 99, 235, 0.25);
}

.atom-financial-kpi-card span {
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.75);
}

.atom-financial-kpi-card strong {
  font-size: 1.4rem;
  font-weight: 600;
  color: #f8fafc;
}

.atom-financial-kpi-card small {
  font-size: 0.75rem;
  color: rgba(226, 232, 240, 0.65);
}

.atom-financial-subsection {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.atom-financial-subsection h3 {
  margin: 0;
  font-size: 1.05rem;
  font-weight: 600;
  color: #f8fafc;
}

.atom-financial-subsection__header span {
  font-size: 0.82rem;
  color: rgba(203, 213, 225, 0.7);
}

.atom-financial-basis-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
}

.atom-financial-basis-card {
  border: 1px solid rgba(96, 165, 250, 0.22);
  border-radius: 16px;
  padding: 16px 18px;
  background: linear-gradient(155deg, rgba(59, 130, 246, 0.22), rgba(15, 23, 42, 0.85));
  box-shadow: inset 0 1px 0 rgba(226, 232, 240, 0.04);
  display: grid;
  gap: 8px;
}

.atom-financial-basis-card > span {
  font-size: 0.8rem;
  color: rgba(224, 231, 255, 0.7);
}

.atom-financial-basis-card > strong {
  font-size: 1.1rem;
  font-weight: 600;
  color: #f8fafc;
}

.atom-financial-basis-meta {
  display: grid;
  gap: 2px;
  font-size: 0.75rem;
  color: rgba(203, 213, 225, 0.7);
}

.atom-financial-group-table-wrapper {
  overflow: auto;
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: var(--surface-2);
}

.atom-financial-group-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.atom-financial-group-table th,
.atom-financial-group-table td {
  padding: 12px 16px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.16);
  text-align: left;
}

.atom-financial-group-name {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.atom-financial-card {
  border-radius: 20px;
  border: 1px solid rgba(96, 165, 250, 0.2);
  background: linear-gradient(150deg, rgba(15, 23, 42, 0.95), rgba(37, 99, 235, 0.14));
  padding: 20px 22px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  box-shadow: 0 24px 46px rgba(8, 11, 22, 0.55);
  backdrop-filter: blur(10px);
}

.atom-financial-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.atom-financial-card__header h3 {
  margin: 0;
  font-size: 1rem;
  color: #f8fafc;
}

.atom-financial-card__header .atom-search-field {
  margin-left: auto;
  flex: 0 1 280px;
}

.atom-financial-card__header .atom-search-field input {
  width: 100%;
}

.atom-financial-trend-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

.atom-financial-table-wrapper {
  border-radius: 18px;
  border: 1px solid rgba(96, 165, 250, 0.2);
  overflow: hidden;
  background: linear-gradient(160deg, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.78));
  box-shadow: inset 0 1px 0 rgba(148, 163, 184, 0.07);
}

.atom-financial-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.atom-financial-table thead tr {
  background: linear-gradient(160deg, rgba(37, 99, 235, 0.24), rgba(15, 23, 42, 0.92));
}

.atom-financial-table th,
.atom-financial-table td {
  padding: 14px 18px;
  border-bottom: 1px solid rgba(71, 85, 105, 0.35);
  vertical-align: top;
}

.atom-financial-table th {
  font-weight: 600;
  color: #f8fafc;
}

.atom-financial-table td {
  color: rgba(226, 232, 240, 0.82);
}

.atom-financial-table tbody tr:nth-child(even) {
  background: rgba(15, 23, 42, 0.55);
}

.atom-financial-table tbody tr:hover {
  background: linear-gradient(120deg, rgba(37, 99, 235, 0.25), rgba(15, 23, 42, 0.7));
}

.atom-financial-cell {
  display: grid;
  gap: 4px;
}

.atom-financial-cell strong {
  color: #f8fafc;
}

.atom-financial-cell span {
  color: rgba(203, 213, 225, 0.75);
}

.atom-financial-cell--status {
  gap: 6px;
}

.atom-financial-tags {
  display: inline-flex;
  flex-wrap: wrap;
  gap: 6px;
}

.atom-financial-tag {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.32), rgba(59, 130, 246, 0.18));
  color: #f8fafc;
  font-size: 0.72rem;
  font-weight: 600;
}

.atom-financial-tag.status-standby {
  background: rgba(250, 204, 21, 0.2);
  color: rgba(217, 119, 6, 0.95);
}

.atom-financial-tag.status-non_billable,
.atom-financial-tag.status-non-billable {
  background: rgba(148, 163, 184, 0.24);
  color: rgba(15, 23, 42, 0.85);
}

.atom-financial-note {
  font-size: 0.75rem;
  color: rgba(203, 213, 225, 0.7);
}

.atom-financial-formula {
  font-size: 0.75rem;
  color: rgba(148, 163, 184, 0.75);
  font-family: 'Menlo', 'Roboto Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
}

.atom-financial-row.is-overlap {
  background: linear-gradient(125deg, rgba(248, 113, 113, 0.32), rgba(15, 23, 42, 0.65));
}

.atom-financial-pagination {
  display: flex;
  align-items: center;
  gap: 14px;
  font-size: 0.82rem;
  color: rgba(203, 213, 225, 0.7);
}

.atom-financial-pagination select {
  margin-left: 8px;
  border: 1px solid rgba(96, 165, 250, 0.3);
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.85), rgba(37, 99, 235, 0.18));
  color: rgba(226, 232, 240, 0.85);
  border-radius: 10px;
  padding: 6px 10px;
}

.atom-financial-pagination__controls {
  display: inline-flex;
  gap: 8px;
  align-items: center;
}

.atom-financial-pagination__controls button {
  border: 1px solid rgba(96, 165, 250, 0.25);
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.85), rgba(37, 99, 235, 0.14));
  color: rgba(226, 232, 240, 0.85);
  border-radius: 8px;
  padding: 4px 12px;
  font-size: 0.82rem;
  transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
}

.atom-financial-pagination__controls button:hover:not(:disabled) {
  border-color: rgba(129, 140, 248, 0.55);
  box-shadow: 0 12px 22px rgba(37, 99, 235, 0.3);
  transform: translateY(-1px);
}

.atom-financial-reconciliation {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  border: 1px solid rgba(148, 163, 184, 0.2);
  border-radius: 14px;
  padding: 14px 16px;
  background: var(--surface-2);
}

.atom-financial-reconciliation > div {
  display: grid;
  gap: 4px;
}

.atom-financial-reconciliation > div span {
  font-size: 0.78rem;
  color: var(--text-muted);
}

.atom-financial-reconciliation > div strong {
  font-size: 1.1rem;
  font-weight: 600;
}

.atom-financial-reconciliation > div small {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.atom-financial-reconciliation__messages {
  margin: 0;
  padding-left: 18px;
  color: var(--text-muted);
  font-size: 0.78rem;
}

@media (max-width: 1200px) {
  .atom-financial-main {
    padding-right: 0;
  }

  .atom-search-field input {
    min-width: 160px;
  }
}

.atom-financial-flags {
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 0.78rem;
  color: rgba(252, 211, 77, 0.92);
}

.atom-financial-card__header span {
  font-size: 0.8rem;
  color: rgba(203, 213, 225, 0.7);
}

.atom-financial-top-meta {
  display: inline-flex;
  gap: 12px;
  align-items: baseline;
  font-size: 0.85rem;
  padding: 8px 16px;
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.85), rgba(37, 99, 235, 0.18));
  border: 1px solid rgba(96, 165, 250, 0.25);
  box-shadow: 0 18px 35px rgba(8, 11, 22, 0.45);
}

.atom-financial-top-meta__title {
  font-weight: 600;
  color: #f8fafc;
}

.atom-financial-top-meta__range {
  color: rgba(203, 213, 225, 0.65);
  font-size: 0.78rem;
}

.atom-financial-top-meta__atom {
  border-radius: 999px;
  background: linear-gradient(145deg, rgba(37, 99, 235, 0.4), rgba(79, 70, 229, 0.35));
  color: #f8fafc;
  padding: 4px 12px;
  font-size: 0.78rem;
  box-shadow: 0 12px 22px rgba(37, 99, 235, 0.35);
}

.atom-card__label {
  font-size: 1.24rem;
  font-weight: 600;
  letter-spacing: -0.01em;
  color: var(--text-primary);
}

.atom-card__total {
  font-size: 0.78rem;
  color: var(--text-muted);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.atom-card__util {
  display: grid;
  gap: 2px;
  justify-items: end;
  text-align: right;
}

.atom-card__util span {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.atom-card__util strong {
  font-size: 1.05rem;
}

.atom-card__metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 16px;
}

.atom-card__metric {
  display: grid;
  gap: 6px;
}

.atom-card__metrics span {
  font-size: 0.76rem;
  color: var(--text-muted);
}

.atom-card__metrics strong {
  font-size: 1.42rem;
  display: inline-flex;
}

.atom-card__metric-value {
  display: flex;
  align-items: baseline;
  gap: 8px;
}

.atom-card__metrics em {
  font-size: 0.74rem;
  color: var(--text-muted);
  display: inline-flex;
  font-style: normal;
}

.atom-card__bar {
  display: flex;
  height: 10px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.22);
  overflow: hidden;
}

.atom-card__bar-engaged {
  background: var(--accent);
}

.atom-card__bar-idle {
  background: rgba(249, 115, 22, 0.65);
}

.atom-card__financials {
  margin-top: 8px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
}

.atom-card__financials span {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.atom-card__financials strong {
  font-size: 1.05rem;
}

.atom-card footer {
  display: grid;
  gap: 8px;
  font-size: 0.78rem;
  color: var(--text-muted);
}

.atom-card__trend-chart {
  width: 100%;
  height: 60px;
}

.atom-card__trend-placeholder {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.atom-detail {
  border: 1px solid var(--border-subtle);
  border-radius: 20px;
  background: var(--surface-1);
  padding: 8px 14px 14px;
  display: grid;
  gap: 4px;
}

.atom-detail__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
  flex-wrap: wrap;
}

.atom-detail__header h3 {
  margin: 0;
  font-size: 1.55rem;
  letter-spacing: -0.01em;
  font-weight: 600;
}

.atom-detail__header span {
  display: block;
  margin: 0;
  font-size: 0.92rem;
  color: rgba(226, 232, 240, 0.75);
}

.atom-detail__meta {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  font-size: 0.82rem;
  color: rgba(148, 163, 184, 0.75);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-top: 4px;
}

.atom-detail__header h3,
.atom-detail__header span {
  margin-block-start: 0;
}

.atom-detail__tabs {
  display: flex;
  gap: 10px;
  margin-top: 4px;
  padding-bottom: 2px;
  margin-bottom: 4px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.18);
}

.atom-detail__tab {
  border: 1px solid rgba(148, 163, 184, 0.16);
  background: rgba(15, 23, 42, 0.6);
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 0.78rem;
  font-weight: 500;
  line-height: 1.1;
  cursor: pointer;
  color: rgba(226, 232, 240, 0.82);
  transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease, border-color 0.2s ease;
}

.atom-detail__tab.is-active {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.9), rgba(30, 64, 175, 0.9));
  color: #f8fafc;
  border-color: transparent;
  box-shadow: 0 10px 24px rgba(46, 160, 255, 0.2);
}

.atom-detail__info {
  display: flex;
  flex-wrap: wrap;
  gap: 24px;
  align-items: stretch;
}

.atom-detail__info figure {
  margin: 0;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 20px 42px rgba(15, 23, 42, 0.45);
  flex: 1 1 clamp(280px, 32vw, 380px);
  min-height: 240px;
  aspect-ratio: 4 / 3;
  max-width: min(100%, 420px);
}

.atom-detail__info img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
}

.atom-detail__info-body {
  display: grid;
  gap: 16px;
  flex: 1 1 320px;
  min-width: min(100%, 320px);
}

.atom-detail__description {
  margin: 0;
  font-size: 1rem;
  line-height: 1.7;
  color: rgba(226, 232, 240, 0.82);
}

.atom-info-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.96rem;
  background: rgba(15, 23, 42, 0.52);
  border-radius: 16px;
  overflow: hidden;
}

.atom-info-table th,
.atom-info-table td {
  padding: 12px 16px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.18);
}

.atom-info-table th {
  width: 150px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.72rem;
  color: rgba(148, 163, 184, 0.75);
  background: rgba(30, 41, 59, 0.8);
}

.atom-info-table tr:last-child th,
.atom-info-table tr:last-child td {
  border-bottom: none;
}

.atom-detail__panel {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(10, 15, 32, 0.82);
  padding: 14px 16px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 10px;
  min-height: 0;
}

.atom-detail__panel > * {
  min-width: 0;
}

.atom-detail__panel--info {
  gap: 14px;
}

.atom-detail__info {
  margin-top: 4px;
}

.atom-detail > :first-child {
  margin-top: 0 !important;
}

.atom-detail__panel--table {
  overflow-x: auto;
}

.atom-detail-layout--experience {
  gap: 2px;
}

.atom-detail--experience {
  background: transparent;
  border: none;
  padding: 0;
  gap: 10px;
}

.atom-experience-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 16px;
  flex-wrap: wrap;
  padding: 10px 14px;
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.16);
  background: rgba(10, 15, 32, 0.72);
}

.atom-experience-header h3 {
  margin: 0;
  font-size: 1.6rem;
  font-weight: 600;
  letter-spacing: -0.01em;
}

.atom-experience-header > div:first-of-type span {
  display: block;
  margin-top: 4px;
  color: rgba(226, 232, 240, 0.72);
  font-size: 0.95rem;
}

.atom-experience-panel {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.16);
  background: rgba(9, 14, 32, 0.78);
  padding: 18px 20px 20px;
  display: grid;
  gap: 20px;
}

.atom-experience-placeholder {
  margin: 0;
  color: rgba(148, 163, 184, 0.78);
  font-size: 0.9rem;
}

.atom-experience-error {
  margin: 0;
  color: #fca5a5;
  font-size: 0.9rem;
}

.atom-experience-hero {
  display: flex;
  flex-wrap: wrap;
  gap: 24px;
  align-items: stretch;
}

.atom-experience-hero figure {
  margin: 0;
  border-radius: 22px;
  overflow: hidden;
  min-height: 220px;
  box-shadow: 0 22px 44px rgba(15, 23, 42, 0.35);
  flex: 1 1 clamp(280px, 32vw, 420px);
  max-width: min(100%, 460px);
}

.atom-experience-hero img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.atom-experience-hero__body {
  display: grid;
  gap: 12px;
  flex: 1 1 320px;
  min-width: min(100%, 320px);
}

.atom-experience-hero__body > span {
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.75rem;
  color: rgba(148, 163, 184, 0.75);
}

.atom-experience-hero__body h3 {
  margin: 0;
  font-size: 1.8rem;
  font-weight: 600;
  letter-spacing: -0.01em;
}

.atom-experience-hero__body p {
  margin: 0;
  color: rgba(226, 232, 240, 0.78);
  font-size: 0.98rem;
  line-height: 1.6;
}

.atom-experience-identity {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 12px;
}

.atom-experience-identity div {
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.14);
  background: rgba(15, 23, 42, 0.65);
  display: grid;
  gap: 4px;
}

.atom-experience-identity span {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.7);
}

.atom-experience-identity strong {
  font-size: 1rem;
  color: rgba(226, 232, 240, 0.92);
  font-weight: 600;
}

.atom-experience-attributes h4 {
  margin: 0 0 12px;
  font-size: 1rem;
  letter-spacing: 0.02em;
  text-transform: uppercase;
  color: rgba(148, 163, 184, 0.78);
}

.atom-experience-attributes__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 14px;
}

.atom-experience-attributes__grid article {
  background: rgba(15, 23, 42, 0.6);
  border: 1px solid rgba(148, 163, 184, 0.16);
  border-radius: 14px;
  padding: 12px 14px;
  display: grid;
  gap: 6px;
}

.atom-experience-attributes__grid span {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.7);
}

.atom-experience-attributes__grid strong {
  font-size: 0.95rem;
  color: rgba(226, 232, 240, 0.88);
  letter-spacing: 0.01em;
}

.atom-experience-tiles {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 14px;
}

.atom-experience-tile {
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(15, 23, 42, 0.62);
  padding: 12px 14px;
  display: grid;
  gap: 6px;
}

.atom-experience-tile header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.7);
}

.atom-experience-tile header small[data-direction='up'] {
  color: #4ade80;
}

.atom-experience-tile header small[data-direction='down'] {
  color: #f97316;
}

.atom-experience-tile strong {
  font-size: 1.5rem;
  font-weight: 600;
}

.atom-experience-tile p {
  margin: 0;
  font-size: 0.8rem;
  color: rgba(148, 163, 184, 0.75);
}

.atom-experience-tile--good {
  border-color: rgba(74, 222, 128, 0.35);
  background: rgba(22, 101, 52, 0.25);
}

.atom-experience-tile--warning {
  border-color: rgba(251, 191, 36, 0.35);
  background: rgba(146, 64, 14, 0.25);
}

.atom-experience-tile--critical {
  border-color: rgba(248, 113, 113, 0.35);
  background: rgba(153, 27, 27, 0.25);
}

.atom-experience-sparkline {
  width: 100%;
  height: 64px;
  color: rgba(96, 165, 250, 0.9);
}

.atom-experience-sparkline svg {
  width: 100%;
  height: 100%;
  display: block;
}

.atom-experience-trend {
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.16);
  background: rgba(15, 23, 42, 0.6);
  padding: 14px 16px;
  display: grid;
  gap: 8px;
}

.atom-experience-trend header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.82rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.atom-experience-table header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.82rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.7);
}

.atom-experience-metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
}

.atom-experience-metric {
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.16);
  background: rgba(15, 23, 42, 0.62);
  padding: 14px;
  display: grid;
  gap: 10px;
}

.atom-experience-metric header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.atom-experience-metric header small[data-direction='up'] {
  color: #4ade80;
}

.atom-experience-metric header small[data-direction='down'] {
  color: #f97316;
}

.atom-experience-metric strong {
  font-size: 1.45rem;
  font-weight: 600;
  letter-spacing: -0.01em;
}

.atom-experience-trends {
  display: grid;
  gap: 12px;
}

.atom-experience-trends__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 14px;
}

.atom-experience-trend-card {
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.16);
  background: rgba(15, 23, 42, 0.62);
  padding: 14px;
  display: grid;
  gap: 8px;
}

.atom-experience-trend-card header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.7);
}

.atom-experience-trend-card header strong {
  font-size: 1.1rem;
  font-weight: 600;
  color: rgba(226, 232, 240, 0.92);
}

.atom-experience-callouts {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
}

.atom-experience-callouts h5 {
  margin: 0 0 8px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.78rem;
  color: rgba(148, 163, 184, 0.75);
}

.atom-experience-callouts ul {
  margin: 0;
  padding-left: 18px;
  display: grid;
  gap: 6px;
  font-size: 0.9rem;
  color: rgba(226, 232, 240, 0.82);
}

.atom-experience-callouts li {
  line-height: 1.5;
}

.mobilization-board {
  display: grid;
  gap: 24px;
}

.mobilization-board__filters {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.mobilization-board__filters button {
  padding: 6px 14px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.25);
  background: rgba(30, 41, 59, 0.6);
  color: rgba(226, 232, 240, 0.82);
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.mobilization-board__filters button.is-active {
  background: rgba(249, 115, 22, 0.18);
  border-color: rgba(249, 115, 22, 0.85);
  color: #f97316;
}

.mobilization-board__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 18px;
}

.mobilization-node-card {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(15, 23, 42, 0.72);
  padding: 18px 20px;
  display: grid;
  gap: 16px;
}

.mobilization-node-card--warning {
  border-color: rgba(249, 115, 22, 0.7);
  background: rgba(82, 35, 12, 0.55);
}

.mobilization-node-card--good {
  border-color: rgba(63, 211, 153, 0.6);
  background: rgba(16, 92, 63, 0.45);
}

.mobilization-node-card header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
}

.mobilization-node-card header h4 {
  margin: 0;
  font-size: 1.05rem;
}

.mobilization-node-card header span {
  display: block;
  margin-top: 4px;
  font-size: 0.78rem;
  color: rgba(148, 163, 184, 0.75);
}

.mobilization-node-card__status {
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(30, 41, 59, 0.85);
  border: 1px solid rgba(148, 163, 184, 0.22);
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(226, 232, 240, 0.88);
}

.mobilization-node-card__values {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 14px;
}

.mobilization-node-card__values span {
  display: block;
  margin-bottom: 6px;
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.mobilization-node-card__values strong {
  font-size: 1.3rem;
  letter-spacing: -0.01em;
}

.mobilization-node-card__io {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 14px;
}

.mobilization-node-card__io > div > span {
  display: block;
  margin-bottom: 6px;
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.mobilization-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  margin: 0 8px 6px 0;
  border-radius: 999px;
  background: rgba(30, 41, 59, 0.8);
  border: 1px solid rgba(148, 163, 184, 0.25);
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.82);
}

.mobilization-node-card__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.mobilization-node-card__actions button {
  padding: 8px 16px;
  border-radius: 10px;
  border: 1px solid rgba(249, 115, 22, 0.85);
  background: rgba(249, 115, 22, 0.16);
  color: #f97316;
  font-size: 0.82rem;
  cursor: pointer;
}

.mobilization-board__trend {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(15, 23, 42, 0.68);
  padding: 18px 20px 16px;
  display: grid;
  gap: 12px;
}

.mobilization-board__trend header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 16px;
}

.mobilization-board__trend header h4 {
  margin: 0;
  font-size: 1rem;
}

.mobilization-board__trend header span {
  font-size: 0.78rem;
  color: rgba(148, 163, 184, 0.72);
}

.mobilization-board__history {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(15, 23, 42, 0.68);
  padding: 18px 20px;
  display: grid;
  gap: 12px;
}

.mobilization-board__history header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
}

.mobilization-board__history header h4 {
  margin: 0;
  font-size: 1rem;
}

.mobilization-board__history header span {
  font-size: 0.78rem;
  color: rgba(148, 163, 184, 0.72);
}

.mobilization-board__history table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.mobilization-board__history th,
.mobilization-board__history td {
  padding: 10px 12px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.18);
  text-align: left;
}

.mobilization-board__history th {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.mobilization-tag {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 0.72rem;
  letter-spacing: 0.05em;
  background: rgba(30, 41, 59, 0.85);
  border: 1px solid rgba(148, 163, 184, 0.25);
  text-transform: uppercase;
}

.mobilization-tag--active {
  color: #4ade80;
  border-color: rgba(74, 222, 128, 0.6);
}

.mobilization-tag--completed {
  color: rgba(148, 163, 184, 0.82);
}

.mobilization-tag--engaged {
  color: #fbbf24;
  border-color: rgba(251, 191, 36, 0.5);
}

.execution-dashboard {
  display: grid;
  gap: 24px;
}

.execution-hero {
  display: grid;
  grid-template-columns: minmax(0, 1.1fr) minmax(300px, 0.9fr);
  gap: 24px;
  align-items: stretch;
}

.execution-hero__artwork {
  position: relative;
  border-radius: 20px;
  overflow: hidden;
  background: linear-gradient(145deg, rgba(10, 14, 32, 0.85), rgba(30, 41, 59, 0.75));
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 260px;
}

.execution-hero__artwork figure {
  margin: 0;
  width: 100%;
  height: 100%;
}

.execution-hero__artwork img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.execution-hero__placeholder {
  display: grid;
  place-items: center;
  width: 100%;
  height: 100%;
  color: rgba(148, 163, 184, 0.75);
  font-size: 1.1rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.execution-status-tag {
  position: absolute;
  top: 16px;
  left: 16px;
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(34, 197, 94, 0.2);
  border: 1px solid rgba(34, 197, 94, 0.6);
  color: #4ade80;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.execution-hero__snapshot {
  display: grid;
  gap: 16px;
}

.execution-map {
  position: relative;
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(9, 14, 32, 0.84);
  padding: 48px 16px 16px;
  display: grid;
  gap: 12px;
}

.execution-map__modes,
.execution-map__layers {
  display: inline-flex;
  gap: 10px;
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  position: absolute;
  top: 14px;
  z-index: 3;
}

.execution-map__modes {
  left: 18px;
}

.execution-map__layers {
  right: 18px;
}

.execution-map__modes span,
.execution-map__layers span {
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(17, 24, 39, 0.8);
  color: rgba(226, 232, 240, 0.78);
}

.execution-map__modes span.is-active {
  background: rgba(59, 130, 246, 0.2);
  border-color: rgba(59, 130, 246, 0.6);
  color: #60a5fa;
}

.execution-map__layers {
  gap: 8px;
}

.execution-map__viewport {
  position: relative;
  height: 180px;
  border-radius: 14px;
  overflow: hidden;
  background: radial-gradient(circle at 40% 40%, rgba(59, 130, 246, 0.15), rgba(15, 23, 42, 0.85));
}

.execution-map__leaflet {
  width: 100%;
  height: 100%;
}

.execution-map__placeholder {
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at 45% 45%, rgba(59, 130, 246, 0.2), rgba(15, 23, 42, 0.85));
}

.execution-map__callout {
  position: absolute;
  bottom: 14px;
  left: 14px;
  padding: 12px 16px;
  border-radius: 14px;
  background: rgba(15, 23, 42, 0.82);
  border: 1px solid rgba(148, 163, 184, 0.35);
  color: rgba(226, 232, 240, 0.9);
  font-size: 0.82rem;
  display: grid;
  gap: 4px;
  max-width: 220px;
}

.execution-map__callout h5 {
  margin: 0;
  font-size: 0.92rem;
}

.execution-map__tooltip {
  background: rgba(255, 255, 255, 0.9) !important;
  border-radius: 999px !important;
  color: #0f172a !important;
  padding: 4px 10px !important;
  box-shadow: 0 6px 14px rgba(15, 23, 42, 0.35);
}

.execution-map__tooltip strong {
  display: block;
  font-size: 0.85rem;
  margin-bottom: 2px;
}

.execution-map__tooltip span {
  font-size: 0.7rem;
  text-transform: uppercase;
}

.execution-map footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.85);
}

.execution-map footer strong {
  display: block;
  font-size: 0.92rem;
}

.execution-map footer button {
  padding: 6px 12px;
  border-radius: 10px;
  border: 1px solid rgba(148, 163, 184, 0.25);
  background: rgba(15, 23, 42, 0.6);
  color: rgba(226, 232, 240, 0.82);
  font-size: 0.78rem;
}

.execution-specs {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(15, 23, 42, 0.68);
  padding: 16px 18px;
}

.execution-specs dl {
  margin: 0;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px 18px;
  font-size: 0.85rem;
}

.execution-specs dt {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.execution-specs dd {
  margin: 4px 0 0;
  color: rgba(226, 232, 240, 0.9);
  font-weight: 500;
}

.execution-alerts {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 18px;
}

.execution-alert,
.execution-rul,
.execution-ai {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(15, 23, 42, 0.68);
  padding: 18px;
  display: grid;
  gap: 10px;
}

.execution-alert h4,
.execution-rul h4,
.execution-ai h4 {
  margin: 0;
  font-size: 0.95rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.78);
}

.execution-alert p {
  margin: 0;
  font-size: 0.9rem;
  color: rgba(248, 250, 252, 0.9);
}

.execution-rul ul,
.execution-ai ul {
  margin: 0;
  padding-left: 18px;
  display: grid;
  gap: 6px;
  font-size: 0.88rem;
  color: rgba(226, 232, 240, 0.85);
}

.execution-rul li {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.execution-rul li strong {
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(34, 197, 94, 0.18);
  color: #4ade80;
  font-size: 0.76rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.execution-ai ul {
  list-style: none;
}

.execution-ai li::before {
  content: '';
  margin-right: 8px;
  color: rgba(249, 115, 22, 0.85);
}

.execution-metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
  gap: 16px;
}

.execution-metric-card {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(15, 23, 42, 0.68);
  padding: 18px;
  display: grid;
  gap: 8px;
}

.execution-metric-card span {
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.execution-metric-card strong {
  font-size: 1.8rem;
  font-weight: 600;
  letter-spacing: -0.01em;
}

.execution-metric-card small {
  font-size: 0.78rem;
  color: rgba(148, 163, 184, 0.75);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.execution-mcs {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 18px;
}

.execution-mcs__grade,
.execution-mcs__monitoring {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(15, 23, 42, 0.68);
  padding: 18px;
  display: grid;
  gap: 12px;
}

.execution-mcs__grade header,
.execution-mcs__monitoring header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 16px;
}

.execution-mcs__grade header h4,
.execution-mcs__monitoring header h4 {
  margin: 0;
  font-size: 0.95rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.75);
}

.execution-mcs__grade > strong {
  font-size: 2rem;
  color: rgba(248, 250, 252, 0.92);
}

.execution-mcs__chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.execution-mcs__chips span {
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(30, 41, 59, 0.8);
  border: 1px solid rgba(148, 163, 184, 0.2);
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.85);
}

.execution-mcs__monitoring > div {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.9rem;
  color: rgba(226, 232, 240, 0.85);
}

.execution-mcs__monitoring strong {
  font-weight: 600;
}

.execution-mcs__safe {
  color: #4ade80;
}

.execution-highlights {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(15, 23, 42, 0.68);
  padding: 18px 20px;
}

.execution-highlights h4 {
  margin: 0 0 10px;
  font-size: 0.95rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.78);
}

.execution-highlights ul {
  margin: 0;
  padding-left: 18px;
  display: grid;
  gap: 6px;
  font-size: 0.9rem;
  color: rgba(226, 232, 240, 0.85);
}

@media (max-width: 1024px) {
  .execution-hero {
    grid-template-columns: minmax(0, 1fr);
  }
}

.atom-experience-tile--warning,
.atom-experience-tile--critical {
  color: rgba(248, 250, 252, 0.92);
}

.atom-experience-placeholder code {
  display: inline-block;
  padding: 2px 6px;
  background: rgba(15, 23, 42, 0.65);
  border-radius: 6px;
  font-size: 0.8rem;
  color: rgba(226, 232, 240, 0.78);
}

@media (max-width: 1024px) {
  .atom-experience-hero {
    flex-direction: column;
  }

  .atom-experience-hero figure,
  .atom-experience-hero__body {
    flex: none;
    width: 100%;
  }
}

.atom-detail__manifest {
  /* overflow-x: auto; */
}

.atom-detail__manifest table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9rem;
  background: rgba(15, 23, 42, 0.6);
  border-radius: 18px;
  overflow: hidden;
}

.atom-detail__manifest th,
.atom-detail__manifest td {
  padding: 12px 16px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.14);
  text-align: left;
}

.atom-detail__manifest th {
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.75rem;
  color: rgba(148, 163, 184, 0.78);
  background: rgba(30, 41, 59, 0.8);
}

.atom-detail__manifest tr:hover td {
  background: rgba(37, 99, 235, 0.12);
}

.atom-manifest__pagination {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 16px;
  gap: 12px;
}

.atom-manifest__pagination button {
  border-radius: 12px;
  border: 1px solid rgba(148, 163, 184, 0.3);
  background: rgba(15, 23, 42, 0.65);
  padding: 8px 14px;
  color: rgba(226, 232, 240, 0.88);
  cursor: pointer;
  transition: background 0.2s ease, border-color 0.2s ease;
}

.atom-manifest__pagination button:hover:not(:disabled) {
  border-color: rgba(148, 163, 184, 0.5);
  background: rgba(59, 130, 246, 0.2);
}

.atom-manifest__pagination button:disabled {
  opacity: 0.45;
  cursor: not-allowed;
}

.atom-manifest__pagination span {
  font-size: 0.82rem;
  color: rgba(148, 163, 184, 0.75);
}

.atom-detail__table {
  width: 100%;
  border-collapse: collapse;
}

.atom-detail__table th,
.atom-detail__table td {
  padding: 10px 14px;
  text-align: left;
  border-bottom: 1px solid rgba(148, 163, 184, 0.16);
  font-size: 0.85rem;
}

.atom-detail__table th {
  font-size: 0.74rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.75);
}

.atom-detail__adaptive {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.atom-detail__adaptive h5 {
  margin: 0 0 8px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  font-size: 0.78rem;
  color: rgba(148, 163, 184, 0.75);
}

.atom-detail__adaptive ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 6px;
  font-size: 0.92rem;
  color: rgba(226, 232, 240, 0.82);
}

.atom-detail__adaptive-grid {
  display: grid;
  gap: 18px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.atom-detail__placeholder {
  margin: 0;
  font-size: 0.82rem;
  color: var(--text-muted);
}

.human-atom-profile {
  display: grid;
  gap: 24px;
}

.human-atom-profile__hero {
  display: grid;
  grid-template-columns: minmax(220px, 280px) minmax(0, 1fr);
  gap: 24px;
  border-radius: 20px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(15, 23, 42, 0.78);
  padding: 24px;
  align-items: center;
}

@media (max-width: 840px) {
  .human-atom-profile__hero {
    grid-template-columns: minmax(0, 1fr);
  }
}

.human-atom-profile__media figure {
  margin: 0;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: radial-gradient(circle at 40% 40%, rgba(59, 130, 246, 0.2), rgba(15, 23, 42, 0.8));
}

.human-atom-profile__media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.human-atom-profile__placeholder {
  display: grid;
  place-items: center;
  border-radius: 18px;
  background: radial-gradient(circle at 45% 45%, rgba(59, 130, 246, 0.22), rgba(15, 23, 42, 0.82));
  border: 1px dashed rgba(148, 163, 184, 0.3);
  min-height: 220px;
  color: rgba(226, 232, 240, 0.86);
  font-size: 2.8rem;
  font-weight: 600;
}

.human-atom-profile__hero-body h3 {
  margin: 0 0 8px;
  font-size: 1.8rem;
  letter-spacing: -0.01em;
}

.human-atom-profile__hero-body p {
  margin: 0;
  color: rgba(226, 232, 240, 0.86);
  line-height: 1.6;
}

.human-atom-profile__hero-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 12px 24px;
  margin-top: 16px;
  font-size: 0.9rem;
  color: rgba(203, 213, 225, 0.88);
}

.human-atom-profile__hero-meta strong {
  color: rgba(248, 250, 252, 0.94);
}

.human-atom-profile__contact {
  display: flex;
  flex-wrap: wrap;
  gap: 12px 18px;
  margin-top: 18px;
  font-size: 0.95rem;
  color: rgba(226, 232, 240, 0.9);
}

.human-atom-profile__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 18px;
}

.human-atom-profile__card {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.16);
  background: rgba(9, 14, 32, 0.82);
  padding: 20px 22px;
  display: grid;
  gap: 14px;
}

.human-atom-profile__card h4 {
  margin: 0;
  text-transform: uppercase;
  font-size: 0.84rem;
  letter-spacing: 0.12em;
  color: rgba(148, 163, 184, 0.9);
}

.human-atom-profile__card dl {
  margin: 0;
  display: grid;
  gap: 12px;
}

.human-atom-profile__card dl div {
  display: grid;
  gap: 4px;
}

.human-atom-profile__card dt {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.09em;
  color: rgba(148, 163, 184, 0.78);
}

.human-atom-profile__card dd {
  margin: 0;
  font-size: 0.98rem;
  color: rgba(226, 232, 240, 0.92);
}

.human-atom-profile__card--compact ul,
.human-atom-profile__card--compact dl {
  gap: 10px;
}

.human-atom-profile__list {
  margin: 0;
  padding-left: 0;
  list-style: none;
  display: grid;
  gap: 10px;
  color: rgba(226, 232, 240, 0.88);
  font-size: 0.95rem;
}

.human-atom-profile__list li {
  display: grid;
  gap: 4px;
}

.human-atom-profile__list strong {
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.75);
}

.human-atom-mobilization {
  display: grid;
  gap: 24px;
}

.human-atom-mobilization__kpis {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 18px;
}

.human-atom-kpi-card {
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(15, 23, 42, 0.8);
  padding: 18px 20px;
  display: grid;
  gap: 8px;
}

.human-atom-kpi-card span {
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: rgba(148, 163, 184, 0.78);
}

.human-atom-kpi-card strong {
  font-size: 1.5rem;
  font-weight: 600;
  letter-spacing: -0.015em;
  color: rgba(248, 250, 252, 0.95);
}

.human-atom-status {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 18px;
}

.human-atom-status > div {
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(10, 14, 32, 0.8);
  padding: 18px 20px;
  display: grid;
  gap: 14px;
}

.human-atom-status h4 {
  margin: 0;
  font-size: 0.84rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(148, 163, 184, 0.85);
}

.human-atom-status-list {
  margin: 0;
  padding-left: 0;
  list-style: none;
  display: grid;
  gap: 10px;
  font-size: 0.95rem;
  color: rgba(226, 232, 240, 0.9);
}

.human-atom-status-list strong {
  display: block;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.78);
}

.human-atom-assignments {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(9, 14, 32, 0.84);
  padding: 20px 22px;
  display: grid;
  gap: 16px;
}

.human-atom-assignments h4 {
  margin: 0;
  font-size: 0.84rem;
  letter-spacing: 0.11em;
  text-transform: uppercase;
  color: rgba(148, 163, 184, 0.85);
}

.human-atom-assignments table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.92rem;
}

.human-atom-assignments th,
.human-atom-assignments td {
  padding: 11px 12px;
  border-bottom: 1px solid rgba(51, 65, 85, 0.4);
  text-align: left;
}

.human-atom-assignments th {
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.72rem;
  color: rgba(148, 163, 184, 0.78);
}

.human-atom-trends {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 18px;
}

.human-atom-trend-card {
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(15, 23, 42, 0.8);
  padding: 16px 18px;
  display: grid;
  gap: 12px;
}

.human-atom-trend-card header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 12px;
}

.human-atom-trend-card h5 {
  margin: 0;
  font-size: 0.86rem;
  letter-spacing: 0.04em;
  color: rgba(226, 232, 240, 0.86);
}

.human-atom-trend-card span {
  font-size: 1.1rem;
  font-weight: 600;
  color: rgba(148, 163, 184, 0.92);
}

.human-atom-execution {
  display: grid;
  gap: 24px;
}

.human-atom-execution__header {
  display: grid;
  grid-template-columns: minmax(260px, 320px) minmax(0, 1fr);
  gap: 20px;
}

@media (max-width: 900px) {
  .human-atom-execution__header {
    grid-template-columns: minmax(0, 1fr);
  }
}

.human-atom-execution__profile {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(15, 23, 42, 0.82);
  padding: 20px 22px;
  display: grid;
  grid-template-columns: 84px minmax(0, 1fr);
  gap: 16px;
  align-items: start;
}

.human-atom-execution__avatar {
  width: 84px;
  height: 84px;
  border-radius: 18px;
  overflow: hidden;
  background: radial-gradient(circle at 45% 45%, rgba(59, 130, 246, 0.2), rgba(15, 23, 42, 0.85));
  border: 1px solid rgba(59, 130, 246, 0.28);
  display: grid;
  place-items: center;
  font-size: 1.8rem;
  color: rgba(226, 232, 240, 0.92);
  font-weight: 600;
}

.human-atom-execution__avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.human-atom-execution__profile h4 {
  margin: 0;
  font-size: 1.12rem;
  letter-spacing: -0.01em;
}

.human-atom-execution__profile p {
  margin: 4px 0;
  color: rgba(226, 232, 240, 0.86);
  font-size: 0.95rem;
}

.human-atom-execution__profile ul {
  margin: 12px 0 0;
  padding-left: 18px;
  color: rgba(203, 213, 225, 0.88);
  font-size: 0.9rem;
  display: grid;
  gap: 6px;
}

.human-atom-execution__map {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(9, 14, 32, 0.85);
  padding: 18px;
  display: grid;
  gap: 12px;
}

.human-atom-execution__map header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  font-size: 0.9rem;
  color: rgba(203, 213, 225, 0.9);
}

.human-atom-execution__map header strong {
  display: block;
  color: rgba(248, 250, 252, 0.94);
}

.human-atom-execution__map-viewport {
  height: 200px;
  border-radius: 14px;
  overflow: hidden;
  background: radial-gradient(circle at 45% 45%, rgba(59, 130, 246, 0.2), rgba(15, 23, 42, 0.85));
}

.human-atom-execution__leaflet {
  width: 100%;
  height: 100%;
}

.human-atom-execution__map-placeholder {
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at 40% 40%, rgba(59, 130, 246, 0.18), rgba(15, 23, 42, 0.82));
}

.human-atom-execution__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 18px;
}

.human-atom-execution__card {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(10, 14, 32, 0.82);
  padding: 20px 22px;
  display: grid;
  gap: 16px;
}

.human-atom-execution__card h4 {
  margin: 0;
  font-size: 0.84rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(148, 163, 184, 0.82);
}

.human-atom-hours__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 14px;
}

.human-atom-hours__grid span {
  display: block;
  font-size: 0.74rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.human-atom-hours__grid strong {
  font-size: 1.3rem;
  color: rgba(248, 250, 252, 0.94);
  letter-spacing: -0.01em;
}

.human-atom-allocations ul {
  margin: 0;
  padding-left: 0;
  list-style: none;
  display: grid;
  gap: 12px;
  font-size: 0.94rem;
  color: rgba(226, 232, 240, 0.9);
}

.human-atom-allocations li {
  display: grid;
  gap: 4px;
}

.human-atom-allocations li strong {
  color: rgba(248, 250, 252, 0.94);
  font-size: 1rem;
}

.human-atom-allocations li span {
  color: rgba(148, 163, 184, 0.82);
  font-size: 0.85rem;
}

.human-atom-worklog__lists {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
}

.human-atom-worklog__lists strong {
  display: block;
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.78);
  margin-bottom: 6px;
}

.human-atom-worklog__lists ul {
  margin: 0;
  padding-left: 18px;
  display: grid;
  gap: 6px;
  color: rgba(226, 232, 240, 0.88);
  font-size: 0.92rem;
}

.human-atom-performance__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
}

.human-atom-performance__metric {
  border-radius: 14px;
  border: 1px solid rgba(59, 130, 246, 0.18);
  background: rgba(15, 23, 42, 0.78);
  padding: 16px 18px;
  display: grid;
  gap: 12px;
}

.human-atom-performance__metric header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
}

.human-atom-performance__metric span {
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.78);
}

.human-atom-performance__metric strong {
  font-size: 1.35rem;
  color: rgba(248, 250, 252, 0.95);
  letter-spacing: -0.01em;
}

.human-atom-performance__metric--safety {
  border-color: rgba(74, 222, 128, 0.25);
  background: rgba(6, 78, 59, 0.35);
}

.human-atom-performance__metric--safety p {
  margin: 0;
  font-size: 0.9rem;
  color: rgba(203, 213, 225, 0.88);
}

@media (max-width: 1024px) {
  .atom-detail__info {
    flex-direction: column;
  }

  .atom-detail__info figure,
  .atom-detail__info-body {
    flex: none;
    width: 100%;
  }
}

.atom-detail--empty p {
  margin: 8px 0;
}

.atom-productivity {
  display: grid;
  gap: 20px;
  padding: 16px 0 0;
  border-top: 1px solid var(--border-subtle);
}

.atom-productivity__header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
}

.atom-productivity__header h3 {
  margin: 0;
  font-size: 1.05rem;
}

.atom-productivity__header p {
  margin: 6px 0 0;
  color: var(--text-muted);
  font-size: 0.85rem;
}

.atom-productivity__filters {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.atom-productivity__filters label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.atom-productivity__filters select {
  border-radius: 12px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  color: var(--text-primary);
  padding: 6px 12px;
  font-size: 0.85rem;
}

.atom-productivity__content {
  display: grid;
  gap: 18px;
}

.atom-productivity__metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 14px;
}

.atom-productivity__metric {
  padding: 16px;
  border-radius: 16px;
  background: rgba(79, 70, 229, 0.08);
  border: 1px solid rgba(79, 70, 229, 0.16);
  display: grid;
  gap: 6px;
}

.atom-productivity__metric span {
  font-size: 0.78rem;
  text-transform: uppercase;
  color: var(--text-muted);
  letter-spacing: 0.08em;
}

.atom-productivity__metric strong {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-primary);
}

.atom-productivity__metric em {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.atom-productivity__trend {
  border-radius: 18px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 18px 20px;
  display: grid;
  gap: 12px;
}

.atom-productivity__trend header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 12px;
}

.atom-productivity__trend h4 {
  margin: 0;
  font-size: 0.95rem;
}

.atom-productivity__trend span {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.atom-shift-chart {
  width: 100%;
  overflow-x: auto;
}

.atom-shift-chart svg {
  width: 100%;
  min-height: 160px;
}

.atom-shift-chart__legend {
  display: flex;
  justify-content: flex-end;
  gap: 16px;
  font-size: 0.78rem;
  color: var(--text-muted);
  margin-top: 8px;
}

.legend-swatch {
  display: inline-block;
  width: 12px;
  height: 12px;
  border-radius: 4px;
  margin-right: 6px;
}

.legend-swatch--productive {
  background: rgba(56, 189, 248, 0.8);
}

.legend-swatch--idle {
  background: rgba(248, 113, 113, 0.8);
}

.atom-shift-chart__date {
  font-size: 0.72rem;
  fill: var(--text-muted);
}

.atom-shift-chart__total {
  font-size: 0.68rem;
  fill: var(--text-muted);
}

.atom-productivity__logs {
  border-radius: 18px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 18px 20px;
  display: grid;
  gap: 12px;
}

.atom-productivity__logs header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 12px;
}

.atom-productivity__logs h4 {
  margin: 0;
  font-size: 0.95rem;
}

.atom-productivity__logs span {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.atom-productivity__logs table {
  width: 100%;
  border-collapse: collapse;
}

.atom-productivity__logs th {
  text-align: left;
  font-size: 0.82rem;
  color: var(--text-muted);
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.2);
}

.atom-productivity__logs td {
  padding: 10px 12px 10px 0;
  font-size: 0.85rem;
  vertical-align: top;
  border-bottom: 1px solid rgba(148, 163, 184, 0.14);
}

.atom-productivity__logs td:last-child,
.atom-productivity__logs th:last-child {
  padding-right: 0;
}

.atom-productivity__subtext {
  display: block;
  font-size: 0.72rem;
  color: var(--text-muted);
}

.atom-productivity__empty {
  padding: 18px;
  border-radius: 12px;
  background: rgba(148, 163, 184, 0.08);
  text-align: center;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.atom-progress {
  display: grid;
  gap: 12px;
  border-radius: 18px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 18px 20px;
}

.atom-progress header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.atom-progress h3 {
  margin: 0;
  font-size: 1rem;
}

.atom-progress header > div span {
  display: block;
  color: var(--text-muted);
  font-size: 0.78rem;
}

.atom-progress__actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.atom-refresh {
  border-radius: 999px;
  padding: 6px 12px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  cursor: pointer;
  font-size: 0.8rem;
}

.atom-refresh:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.atom-progress__metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 14px;
}

.atom-metric-card {
  border-radius: 14px;
  padding: 14px 16px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(148, 163, 184, 0.12);
  display: grid;
  gap: 6px;
}

.atom-metric-card span {
  font-size: 0.75rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-muted);
}

.atom-metric-card strong {
  font-size: 1.2rem;
  font-weight: 600;
}

.atom-metric-card em {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.atom-snapshots {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 16px;
}

.atom-schedule,
.atom-financial {
  border-radius: 18px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 16px 20px;
  display: grid;
  gap: 12px;
}

.atom-schedule header,
.atom-financial header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 12px;
}

.atom-schedule__grid,
.atom-financial__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
}

.atom-financial__table {
  margin-top: 12px;
  border-top: 1px solid var(--border-subtle);
  padding-top: 14px;
  display: grid;
  gap: 12px;
  overflow-x: auto;
}

.atom-financial__table h4 {
  margin: 0;
  font-size: 0.9rem;
  font-weight: 600;
}

.atom-financial__table table {
  min-width: 100%;
  border-collapse: collapse;
}

.atom-financial__table th,
.atom-financial__table td {
  padding: 8px 10px;
  text-align: left;
  border-bottom: 1px solid rgba(148, 163, 184, 0.2);
  font-size: 0.82rem;
}

.atom-financial__table th {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.atom-topbar-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.atom-topbar-actions__links {
  display: flex;
  gap: 8px;
}

.atom-topbar-button {
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  color: var(--text-muted);
  padding: 6px 14px;
  border-radius: 999px;
  font-size: 0.82rem;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
}

.atom-topbar-button:hover,
.atom-topbar-button:focus-visible {
  color: var(--text-primary);
  border-color: rgba(148, 163, 184, 0.4);
  background: var(--surface-2);
}

.atom-topbar-button.is-active {
  background: var(--accent);
  border-color: transparent;
  color: #fff;
  box-shadow: 0 12px 24px rgba(37, 99, 235, 0.25);
}

.atom-daily-schedule {
  border-radius: 20px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 20px 22px;
  display: grid;
  gap: 20px;
  box-shadow: 0 16px 40px rgba(15, 23, 42, 0.12);
}

.atom-daily-schedule__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 16px;
  flex-wrap: wrap;
}

.atom-daily-schedule__header h3 {
  margin: 0;
  font-size: 1.2rem;
  font-weight: 600;
}

.atom-daily-schedule__header span {
  display: block;
  font-size: 0.85rem;
  color: var(--text-muted);
  margin-top: 4px;
}

.atom-daily-schedule__actions {
  display: flex;
  gap: 12px;
  align-items: center;
}

.atom-daily-schedule__filters {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
}

.atom-daily-schedule__filters label {
  display: grid;
  gap: 6px;
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.atom-daily-schedule__filters select {
  border-radius: 10px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-2);
  color: var(--text-primary);
  padding: 6px 12px;
  min-width: 160px;
  font-size: 0.9rem;
}

.atom-daily-schedule__summary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
}

.atom-daily-timeline {
  display: grid;
  gap: 10px;
}

.atom-daily-timeline__scale {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  font-size: 0.75rem;
  color: var(--text-muted);
}

.atom-daily-timeline__track {
  display: flex;
  gap: 4px;
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.25);
  background: rgba(15, 23, 42, 0.85);
  overflow: hidden;
  min-height: 88px;
}

.atom-daily-slot {
  display: grid;
  gap: 6px;
  justify-items: flex-start;
  padding: 12px;
  color: rgba(248, 250, 252, 0.92);
  min-width: 120px;
  flex: 0 0 auto;
}

.atom-daily-slot--gap {
  opacity: 0.35;
}

.atom-daily-slot__label {
  font-size: 0.85rem;
  font-weight: 600;
}

.atom-daily-slot__time {
  font-size: 0.75rem;
  color: rgba(226, 232, 240, 0.76);
}

.atom-daily-slot--busy {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.25), rgba(37, 99, 235, 0.18));
}

.atom-daily-slot--monitoring {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.18), rgba(56, 189, 248, 0.12));
}

.atom-daily-slot--idle {
  background: rgba(30, 41, 59, 0.65);
}

.atom-daily-slot--completed {
  background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(21, 128, 61, 0.2));
}

.atom-daily-slot--extended {
  background: linear-gradient(135deg, rgba(250, 204, 21, 0.25), rgba(251, 146, 60, 0.18));
}

.atom-daily-slot--empty {
  padding: 16px;
  text-align: center;
  color: var(--text-muted);
  width: 100%;
}

.atom-daily-timeline__legend {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  font-size: 0.78rem;
  color: rgba(226, 232, 240, 0.88);
}

.atom-daily-timeline__legend span {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(15, 23, 42, 0.82);
}

.atom-daily-timeline__legend .atom-daily-slot--busy,
.atom-daily-timeline__legend .atom-daily-slot--monitoring,
.atom-daily-timeline__legend .atom-daily-slot--idle,
.atom-daily-timeline__legend .atom-daily-slot--completed,
.atom-daily-timeline__legend .atom-daily-slot--extended {
  border: none;
}

.atom-daily-schedule__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 18px;
}

.atom-daily-panel {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(15, 23, 42, 0.82);
  padding: 18px 20px;
  display: grid;
  gap: 12px;
}

.atom-daily-panel h4 {
  margin: 0;
  font-size: 0.92rem;
  font-weight: 600;
  color: rgba(226, 232, 240, 0.92);
}

.atom-daily-panel table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9rem;
}

.atom-daily-panel th,
.atom-daily-panel td {
  padding: 10px 12px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.15);
  text-align: left;
}

.atom-daily-panel th {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.75);
}

.atom-daily-sensors {
  margin: 0;
  padding-left: 0;
  list-style: none;
  display: grid;
  gap: 12px;
}

.atom-daily-sensors li {
  border-radius: 14px;
  border: 1px solid rgba(96, 165, 250, 0.25);
  background: rgba(30, 41, 59, 0.65);
  padding: 12px 14px;
  display: grid;
  gap: 4px;
  font-size: 0.9rem;
}

.atom-daily-sensors li strong {
  font-size: 0.95rem;
}

.atom-daily-sensors li small {
  font-size: 0.75rem;
  color: rgba(148, 163, 184, 0.8);
}

.atom-daily-sensor-status {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(59, 130, 246, 0.85);
}

.atom-daily-empty {
  margin: 0;
  color: var(--text-muted);
  font-size: 0.9rem;
}

.atom-daily-notes {
  margin: 0;
  padding: 12px 16px;
  border-radius: 14px;
  background: rgba(17, 24, 39, 0.78);
  border: 1px solid rgba(148, 163, 184, 0.18);
  font-size: 0.9rem;
  color: rgba(226, 232, 240, 0.88);
}

.atom-schedule-board,
.atom-payments-board {
  border-radius: 20px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 20px 22px;
  display: grid;
  gap: 20px;
  box-shadow: 0 16px 40px rgba(15, 23, 42, 0.15);
}

.atom-stage--full-schedule .atom-schedule-board,
.atom-stage--full-schedule .atom-daily-schedule {
  border-radius: 24px;
  border: 1px solid var(--schedule-card-border);
  background: linear-gradient(120deg, var(--schedule-card-accent), transparent 65%), var(--schedule-card-bg);
  padding: 28px 32px;
  box-shadow: var(--schedule-card-shadow);
}

.atom-stage--full-schedule .atom-daily-schedule {
  gap: 20px;
}

.atom-stage--full-schedule .atom-schedule-board__header h3 {
  font-size: 1.35rem;
}

.atom-schedule-board__header,
.atom-payments-board__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 16px;
  flex-wrap: wrap;
}

.atom-schedule-board__header h3,
.atom-payments-board__header h3 {
  margin: 0;
  font-size: 1.2rem;
  font-weight: 600;
}

.atom-schedule-board__header span,
.atom-payments-board__header span {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.atom-schedule-board__actions,
.atom-payments-board__actions {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}

.atom-schedule-board__actions .atom-search-field {
  flex: 0 1 280px;
}

.atom-schedule-board__summary,
.atom-payments-board__summary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
}

.atom-schedule-board__upcoming {
  display: grid;
  gap: 12px;
}

.atom-schedule-board__upcoming h4 {
  margin: 0;
  font-size: 0.92rem;
  font-weight: 600;
  color: var(--text-primary);
}

.atom-schedule-board__upcoming-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 12px;
}

.atom-upcoming-card {
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: linear-gradient(135deg, rgba(56, 189, 248, 0.08), rgba(56, 189, 248, 0));
  padding: 14px;
  display: grid;
  gap: 6px;
}

.atom-upcoming-card header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 10px;
}

.atom-upcoming-card header strong {
  font-size: 0.92rem;
}

.atom-upcoming-card header span {
  font-size: 0.78rem;
  color: var(--text-muted);
}

.atom-upcoming-card footer {
  font-size: 0.72rem;
  color: var(--text-muted);
}

.atom-board-filters {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.atom-chip-group {
  display: inline-flex;
  gap: 8px;
  flex-wrap: wrap;
}

.atom-board-filter-label {
  font-size: 0.78rem;
  color: var(--text-muted);
}

.atom-table-wrapper {
  width: 100%;
  overflow-x: auto;
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: var(--surface-1);
}

.atom-schedule-board__table,
.atom-payments-board__table {
  width: 100%;
  min-width: 720px;
  border-collapse: collapse;
}

.atom-schedule-board__table th,
.atom-schedule-board__table td,
.atom-payments-board__table th,
.atom-payments-board__table td {
  padding: 12px 16px;
  text-align: left;
  border-bottom: 1px solid rgba(148, 163, 184, 0.14);
  font-size: 0.84rem;
}

.atom-schedule-board__table th,
.atom-payments-board__table th {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
  background: rgba(148, 163, 184, 0.1);
}

.atom-empty-state {
  border: 1px dashed rgba(148, 163, 184, 0.4);
  border-radius: 18px;
  padding: 28px;
  text-align: center;
  background: rgba(15, 23, 42, 0.04);
}

.atom-empty-state h3 {
  margin: 0;
  font-size: 1rem;
  font-weight: 600;
}

.atom-empty-state p {
  margin: 6px 0 0;
  color: var(--text-muted);
  font-size: 0.85rem;
}

.atom-empty-row {
  padding: 24px;
  text-align: center;
  color: var(--text-muted);
  font-size: 0.85rem;
}

.atom-table-pagination {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.75rem;
  padding: 12px 16px;
  font-size: 0.8rem;
  color: var(--text-muted);
}

.atom-table-pagination button {
  border: 1px solid rgba(59, 130, 246, 0.35);
  background: rgba(37, 99, 235, 0.12);
  color: var(--text-primary);
  border-radius: 999px;
  padding: 0.35rem 0.85rem;
  font-size: 0.78rem;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
}

.atom-table-pagination button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  box-shadow: none;
  transform: none;
}

.atom-table-pagination button:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 10px 22px rgba(37, 99, 235, 0.25);
}

.atom-table-cell {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.atom-table-cell em {
  font-size: 0.72rem;
  color: var(--text-muted);
  font-style: normal;
}

.atom-conflict-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  margin-left: 0.4rem;
  font-size: 0.75rem;
  padding: 0.1rem 0.5rem;
  border-radius: 999px;
  background: var(--status-delayed-muted);
  color: var(--status-delayed);
}

.atom-schedule-workspace {
  width: 100%;
  margin-top: 0;
  padding: 2.4rem 2.8rem;
  border-radius: 28px;
  background: linear-gradient(135deg, var(--schedule-card-accent), transparent 60%), var(--schedule-card-bg);
  box-shadow: var(--schedule-card-shadow);
  display: flex;
  flex-direction: column;
  gap: 1.75rem;
  position: relative;
  overflow: hidden;
  border: 1px solid var(--schedule-card-border);
}

.atom-schedule-workspace::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 80% 15%, var(--schedule-card-glow), transparent 58%);
  opacity: 0.7;
}

[data-theme='light'] .atom-schedule-workspace::after {
  background: radial-gradient(circle at 78% 14%, var(--schedule-card-glow), transparent 55%);
  opacity: 0.55;
}

.atom-schedule-workspace > * {
  position: relative;
  z-index: 1;
}

.atom-schedule-workspace__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
}

.atom-schedule-workspace__header h3 {
  font-size: 1.6rem;
  margin: 0;
  color: var(--text-primary);
  font-weight: 700;
}

.atom-schedule-workspace__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  align-items: center;
}

.atom-schedule-filters {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  flex-wrap: wrap;
}

.atom-schedule-filters .atom-search-field {
  flex: 1 1 260px;
  justify-content: flex-end;
}

.atom-schedule-filters .atom-search-field input {
  width: 100%;
}

.atom-filter-row {
  display: flex;
  gap: 0.75rem;
  align-items: center;
}

.atom-filter-row label {
  font-size: 0.85rem;
  color: var(--text-muted);
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.atom-filter-row input[type='date'] {
  background: rgba(15, 23, 42, 0.04);
  border: 1px solid rgba(148, 163, 184, 0.3);
  border-radius: 8px;
  padding: 0.35rem 0.5rem;
  color: var(--text-primary);
}

.atom-toggle {
  display: flex;
  align-items: center;
  gap: 0.35rem;
  font-size: 0.9rem;
  color: var(--text-primary);
}

.atom-toggle input {
  width: 1.1rem;
  height: 1.1rem;
}

.atom-primary {
  background: var(--accent);
  color: #fff;
  border: none;
  border-radius: 999px;
  padding: 0.4rem 1rem;
  font-weight: 600;
  cursor: pointer;
}

.atom-primary:hover {
  background: var(--accent-strong);
}

.atom-gantt-container {
  background: rgba(15, 23, 42, 0.02);
  border-radius: 12px;
  overflow: auto;
  border: 1px solid rgba(148, 163, 184, 0.2);
  padding: 0;
}

.atom-schedule-workspace__grid {
  display: grid;
  grid-template-columns: minmax(260px, 320px) 1fr;
  gap: 1.25rem;
}

@media (max-width: 1080px) {
  .atom-schedule-workspace__grid {
    grid-template-columns: 1fr;
  }
}

.atom-schedule-sidebar,
.atom-schedule-conflicts {
  background: rgba(15, 23, 42, 0.04);
  border-radius: 12px;
  padding: 1rem;
  border: 1px solid rgba(148, 163, 184, 0.16);
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.atom-schedule-detail ul {
  list-style: none;
  padding: 0;
  margin: 0.75rem 0;
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  color: var(--text-muted);
  font-size: 0.9rem;
}

.atom-schedule-sidebar__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.atom-schedule-sidebar__actions button {
  border: 1px solid rgba(148, 163, 184, 0.4);
  background: var(--surface-1);
  border-radius: 8px;
  padding: 0.35rem 0.75rem;
  font-size: 0.85rem;
  cursor: pointer;
}

.atom-schedule-sidebar__actions button.danger {
  border-color: #fca5a5;
  color: #b91c1c;
  background: #fee2e2;
}

.atom-schedule-capacity ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.atom-schedule-capacity li {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.atom-schedule-capacity progress {
  width: 120px;
  height: 6px;
  border-radius: 999px;
  overflow: hidden;
  background: rgba(148, 163, 184, 0.15);
}

.atom-schedule-capacity progress::-webkit-progress-bar {
  background: rgba(148, 163, 184, 0.15);
}

.atom-schedule-capacity progress::-webkit-progress-value {
  background: var(--accent);
}

.atom-schedule-conflicts header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: var(--text-muted);
  font-size: 0.9rem;
  flex-wrap: wrap;
  gap: 0.75rem;
}

.atom-conflict-tools {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.atom-conflict-tools .atom-search-field {
  flex: 0 1 260px;
}

.atom-schedule-conflicts ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.atom-schedule-conflicts li {
  border: 1px dashed rgba(148, 163, 184, 0.3);
  border-radius: 10px;
  padding: 0.75rem;
  background: var(--surface-1);
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.atom-conflict-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
}

.atom-conflict-actions button {
  border: 1px solid rgba(59, 130, 246, 0.35);
  background: rgba(37, 99, 235, 0.12);
  border-radius: 999px;
  padding: 0.3rem 0.75rem;
  font-size: 0.75rem;
  cursor: pointer;
}

.atom-conflict-pagination {
  margin-top: 0.75rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  font-size: 0.8rem;
  color: var(--text-muted);
}

.atom-conflict-pagination button {
  border: 1px solid rgba(59, 130, 246, 0.35);
  background: rgba(37, 99, 235, 0.12);
  color: var(--text-primary);
  border-radius: 999px;
  padding: 0.35rem 0.85rem;
  font-size: 0.78rem;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
}

.atom-conflict-pagination button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  box-shadow: none;
  transform: none;
}

.atom-conflict-pagination button:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 10px 22px rgba(37, 99, 235, 0.25);
}

.atom-critical-tag {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  padding: 0.2rem 0.6rem;
  border-radius: 999px;
  margin-left: 0.5rem;
  background: var(--badge-critical-bg);
  color: var(--badge-critical-text);
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.atom-schedule-edit {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-top: 1rem;
}

.atom-schedule-edit label {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.atom-schedule-edit input,
.atom-schedule-edit select,
.atom-schedule-edit textarea {
  border: 1px solid rgba(148, 163, 184, 0.35);
  border-radius: 8px;
  padding: 0.4rem 0.6rem;
  background: var(--surface-1);
  color: var(--text-primary);
  font-size: 0.9rem;
}

.atom-schedule-edit textarea {
  min-height: 80px;
  resize: vertical;
}

.atom-schedule-edit input[type='range'] {
  accent-color: var(--accent);
  padding: 0;
}

.atom-schedule-edit .atom-primary {
  align-self: flex-start;
}

.atom-schedule-trends {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  margin-top: 1rem;
}

.atom-trend-card {
  flex: 1 1 220px;
  border-radius: 12px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: var(--surface-1);
  padding: 0.75rem 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.atom-trend-card header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.atom-trend-card header strong {
  color: var(--text-primary);
  font-size: 1rem;
}

.atom-trend {
  width: 100%;
  height: 60px;
}

.atom-gantt-container ._3_ygE,
.atom-gantt-container ._3ZbQT {
  border-color: var(--gantt-grid-line);
  background: var(--gantt-header-bg) !important;
  color: var(--gantt-header-text);
}

.atom-gantt-container ._34SS0,
.atom-gantt-container ._2dZTy {
  background: var(--gantt-grid-fill) !important;
  fill: var(--gantt-grid-fill) !important;
}

.atom-gantt-container ._2QjE6,
.atom-gantt-container ._2TfEi,
.atom-gantt-container ._9w8d5,
.atom-gantt-container ._2q1Kt {
  color: var(--gantt-label);
  fill: var(--gantt-label);
  font-size: 0.8rem;
  font-weight: 600;
}

.atom-gantt-container ._3w_5u,
.atom-gantt-container ._1rLuZ,
.atom-gantt-container ._3rUKi,
.atom-gantt-container ._RuwuK {
  stroke: var(--gantt-grid-line);
  fill: var(--gantt-grid-line);
}

.atom-gantt-container ._3T42e {
  background: var(--gantt-tooltip-bg);
  color: var(--gantt-tooltip-text);
  box-shadow: var(--shadow-soft);
}


.atom-gantt-container ._25P-K path {
  stroke: var(--status-critical);
  stroke-width: 3;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.atom-gantt-container ._3rUKi,
.atom-gantt-container ._RuwuK,
.atom-gantt-container ._1rLuZ {
  stroke-width: 1.4;
}

.atom-gantt-container ._35nLX {
  fill: var(--schedule-card-bg);
  stroke: var(--schedule-card-border);
  stroke-width: 1.2;
}

.atom-gantt-container ._3w_5u {
  fill: var(--status-critical-muted);
}

.atom-chip {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.atom-chip--high {
  background: rgba(248, 113, 113, 0.18);
  color: #f87171;
}

.atom-chip--critical {
  background: rgba(244, 63, 94, 0.2);
  color: #f43f5e;
}

.atom-chip--medium {
  background: rgba(251, 191, 36, 0.18);
  color: #fbbf24;
}

.atom-chip--low {
  background: rgba(34, 197, 94, 0.18);
  color: #22c55e;
}

.atom-payments-board__categories {
  display: grid;
  gap: 12px;
}

.atom-payments-board__categories h4 {
  margin: 0;
  font-size: 0.95rem;
  font-weight: 600;
}

.atom-payments-board__categories-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 12px;
}

.atom-category-card {
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: linear-gradient(145deg, rgba(59, 130, 246, 0.12), rgba(59, 130, 246, 0));
  padding: 16px;
  display: grid;
  gap: 8px;
}

.atom-category-card header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 8px;
}

.atom-category-card header strong {
  font-weight: 600;
}

.atom-category-card header span {
  font-size: 0.85rem;
  color: var(--text-primary);
}

.atom-category-card__metrics {
  display: grid;
  gap: 4px;
  font-size: 0.78rem;
  color: var(--text-muted);
}

.atom-category-card__metrics strong {
  color: var(--text-primary);
  font-weight: 600;
}

.atom-category-card__overdue {
  font-size: 0.72rem;
  color: rgba(248, 113, 113, 0.9);
  font-weight: 500;
}

.atom-right {
  border-radius: 24px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 20px 22px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  overflow-y: auto;
  min-height: 0;
  padding-bottom: 28px;
}

.atom-right__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 16px;
  flex-wrap: wrap;
}

.atom-right__summary {
  display: grid;
  grid-template-columns: repeat(3, minmax(110px, 1fr));
  gap: 8px 18px;
  padding: 10px 14px;
  border-radius: 16px;
  background: rgba(148, 163, 184, 0.12);
  border: 1px solid rgba(148, 163, 184, 0.16);
}

.atom-right__summary span {
  display: block;
  font-size: 0.68rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.atom-right__summary strong {
  display: block;
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-primary);
}

.atom-right__summary .is-mismatch {
  color: #fb7185;
}

.atom-status-tabs {
  display: inline-flex;
  gap: 8px;
  background: rgba(148, 163, 184, 0.12);
  padding: 4px;
  border-radius: 999px;
}

.atom-status-tab {
  border: none;
  background: none;
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 0.75rem;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  color: var(--text-muted);
  transition: background 0.2s ease, color 0.2s ease;
}

.atom-status-tab span {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 20px;
  padding: 2px 6px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.18);
  font-weight: 600;
  color: var(--text-primary);
}

.atom-status-tab.active {
  background: var(--surface-1);
  color: var(--text-primary);
  box-shadow: 0 8px 16px rgba(15, 23, 42, 0.15);
}

.atom-status-tab.active span {
  background: var(--accent);
  color: #fff;
}


.atom-deployments {
  display: block;
}

.atom-deployments__table {
  width: 100%;
  border-collapse: collapse;
  background: var(--surface-2);
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 12px 24px rgba(15, 23, 42, 0.18);
}

.atom-deployments__table th,
.atom-deployments__table td {
  padding: 12px 16px;
  text-align: left;
  font-size: 0.85rem;
  border-bottom: 1px solid rgba(148, 163, 184, 0.18);
}

.atom-deployments__table th {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
  background: rgba(148, 163, 184, 0.12);
}

.atom-deployments__row td {
  vertical-align: top;
}

.atom-deployments__cell {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

.atom-deployments__expander {
  border: none;
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: var(--surface-1);
  color: var(--text-primary);
  font-size: 1rem;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.2s ease;
}

.atom-deployments__expander:hover,
.atom-deployments__expander:focus-visible {
  background: var(--surface-2);
  transform: translateY(-1px);
}

.atom-deployments__cell-title {
  display: grid;
  gap: 4px;
}

.atom-deployments__cell-title strong {
  font-size: 0.95rem;
}

.atom-deployments__cell-title span {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.atom-deployments__chip-row {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.atom-deployments__chip {
  padding: 4px 8px;
  font-size: 0.68rem;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.14);
  color: var(--text-muted);
}

.atom-cr-btn {
  border: none;
  border-radius: 999px;
  padding: 6px 12px;
  font-size: 0.75rem;
  cursor: pointer;
  background: rgba(59, 130, 246, 0.18);
  color: var(--accent);
  transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease;
}

.atom-cr-btn:hover,
.atom-cr-btn:focus-visible {
  background: rgba(59, 130, 246, 0.28);
  color: #fff;
}

.atom-cr-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.atom-deployments__actions {
  text-align: right;
}

.atom-cr-btn--ghost {
  background: rgba(59, 130, 246, 0.12);
  color: var(--accent);
  border: 1px solid rgba(59, 130, 246, 0.18);
}

.atom-cr-btn--ghost:hover,
.atom-cr-btn--ghost:focus-visible {
  background: rgba(59, 130, 246, 0.22);
  color: #fff;
}

.atom-deployments__details {
  background: rgba(148, 163, 184, 0.08);
}

.atom-deployments__detail-grid {
  display: grid;
  gap: 12px;
  padding: 18px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.atom-deployments__detail-card {
  background: var(--surface-1);
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.16);
  padding: 14px;
  display: grid;
  gap: 10px;
}

.atom-deployments__detail-card h5 {
  margin: 0;
  font-size: 0.82rem;
  letter-spacing: 0.04em;
  color: var(--text-muted);
  text-transform: uppercase;
}

.atom-deployment__capacity {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  font-size: 0.72rem;
  color: var(--text-muted);
}

.atom-deployment__capacity span {
  background: rgba(148, 163, 184, 0.14);
  padding: 4px 8px;
  border-radius: 999px;
}

.atom-deployments__item-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
}

.atom-deployment__serial {
  font-weight: 600;
  font-size: 0.82rem;
}

.atom-deployments__detail-card dl {
  display: grid;
  gap: 6px;
  margin: 0;
}

.atom-deployments__detail-card dt {
  font-size: 0.68rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.atom-deployments__detail-card dd {
  margin: 0;
  font-size: 0.9rem;
  font-weight: 600;
}

.journey-badge {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 999px;
  background: var(--surface-2);
  color: var(--text-primary);
  font-size: 0.72rem;
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease;
}

.journey-badge:hover,
.journey-badge:focus-visible {
  background: var(--surface-1);
  outline: none;
}

.journey-badge__timeline {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  z-index: 10;
  min-width: 220px;
  padding: 12px 14px;
  border-radius: 12px;
  background: var(--surface-2);
  box-shadow: 0 18px 34px rgba(15, 23, 42, 0.22);
  display: grid;
  gap: 6px;
  font-size: 0.72rem;
  color: var(--text-muted);
}

.journey-badge__timeline span {
  white-space: nowrap;
}

.atom-deployment__links {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 8px;
}

.atom-deployment__link {
  font-size: 0.72rem;
  color: var(--accent);
  text-decoration: none;
  background: rgba(59, 130, 246, 0.12);
  padding: 4px 10px;
  border-radius: 999px;
  transition: background 0.2s ease, color 0.2s ease;
}

.atom-deployment__link:hover,
.atom-deployment__link:focus-visible {
  background: rgba(59, 130, 246, 0.22);
  color: #fff;
}

.atom-deployments__empty {
  border-radius: 16px;
  border: 1px dashed rgba(148, 163, 184, 0.4);
  padding: 20px;
  text-align: center;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.atom-pagination {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 12px 0;
  font-size: 0.82rem;
  color: var(--text-muted);
  flex-wrap: wrap;
  row-gap: 10px;
}

.atom-pagination--table {
  margin-bottom: 10px;
}

.atom-pagination--footer {
  justify-content: flex-end;
}

.atom-pagination__controls {
  display: flex;
  align-items: center;
  gap: 10px;
}

.atom-pagination__pages {
  display: flex;
  align-items: center;
  gap: 6px;
  list-style: none;
  margin: 0;
  padding: 0;
}

.atom-pagination__ellipsis {
  padding: 0 4px;
}

.atom-pagination button.is-active {
  background: var(--accent);
  color: var(--chip-active-text);
  border-color: transparent;
}

.atom-pagination button {
  border: 1px solid var(--border-subtle);
  border-radius: 8px;
  background: var(--surface-1);
  color: var(--text-primary);
  padding: 4px 10px;
  font-size: 0.78rem;
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease;
}

.atom-pagination button:hover:not(:disabled) {
  background: var(--surface-2);
}

.atom-pagination button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.status-pill {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 0.72rem;
  font-weight: 600;
  text-transform: capitalize;
  background: rgba(148, 163, 184, 0.22);
  color: var(--text-primary);
}

[data-theme='dark'] .status-pill {
  color: #ffffff;
}

.status-pill--active {
  background: rgba(16, 185, 129, 0.18);
  color: #047857;
}

[data-theme='dark'] .status-pill--active {
  color: #ffffff;
}

.status-pill--planned {
  background: rgba(59, 130, 246, 0.18);
  color: var(--accent);
}

[data-theme='dark'] .status-pill--planned {
  color: #ffffff;
}

.status-pill--completed {
  background: rgba(148, 163, 184, 0.26);
  color: var(--text-muted);
}

[data-theme='dark'] .status-pill--completed {
  color: #ffffff;
}

.atom-error {
  border-radius: 16px;
  border: 1px solid rgba(248, 113, 113, 0.4);
  padding: 12px 14px;
  background: rgba(248, 113, 113, 0.18);
  color: #b91c1c;
  font-size: 0.85rem;
}

.atom-error--inline {
  padding: 0;
  border: none;
  background: transparent;
}

.atom-success {
  border-radius: 12px;
  border: 1px solid rgba(34, 197, 94, 0.38);
  padding: 10px 12px;
  background: rgba(34, 197, 94, 0.16);
  color: #047857;
  font-size: 0.8rem;
}

.atom-loading {
  font-size: 0.85rem;
  color: var(--text-muted);
}

.atom-right__hint {
  font-size: 0.78rem;
  color: var(--text-muted);
}

.atom-next-activities {
  margin-top: 16px;
  border-radius: 16px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-2);
  padding: 12px;
  display: grid;
  gap: 10px;
}

.atom-modal {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.55);
  display: grid;
  place-items: center;
  z-index: 1200;
}

.atom-modal__content {
  background: var(--surface-2);
  color: var(--text-primary);
  border-radius: 20px;
  padding: 24px;
  min-width: 320px;
  max-width: 420px;
  display: grid;
  gap: 16px;
  box-shadow: var(--shadow-soft);
}

.atom-modal__content h3 {
  margin: 0;
}

.atom-modal__content label {
  display: grid;
  gap: 6px;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.atom-modal__content input,
.atom-modal__content textarea {
  border-radius: 12px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 10px 12px;
  color: var(--text-primary);
  font: inherit;
}

.atom-modal__content textarea {
  min-height: 80px;
  resize: vertical;
}

.atom-modal__actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

.atom-modal__actions button {
  border-radius: 999px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 8px 18px;
  font-size: 0.85rem;
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease;
}

.atom-modal__actions button:last-child {
  background: var(--accent);
  border-color: transparent;
  color: var(--chip-active-text);
}

.atom-modal__actions button:last-child:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

@media (max-width: 1280px) {
  .atom-stage {
    display: flex;
    flex-direction: column;
    gap: var(--col-gap);
    overflow-y: auto;
  }

  .atom-center {
    display: flex;
    flex-direction: column;
    gap: var(--col-gap);
    order: 1;
  }

  .atom-center__handle {
    display: none;
  }

  .atom-main {
    order: 1;
  }

  .atom-right {
    order: 2;
    width: 100%;
  }

  .atom-left {
    order: 3;
    width: 100%;
  }

  .atom-main {
    width: 100%;
  }
}

.financial-disabled {
  display: grid;
  place-items: center;
  min-height: 100vh;
  text-align: center;
  gap: 12px;
  color: var(--text-muted);
}

.financial-view {
  display: flex;
  height: 100vh;
  width: 100%;
  background: var(--app-bg);
  color: var(--text-primary);
}

.financial-stage {
  flex: 1;
  display: grid;
  grid-template-columns: var(--left-rail-w) minmax(0, 1.1fr) minmax(0, 0.9fr);
  gap: var(--col-gap);
  padding: 16px var(--page-gutter) 24px;
  box-sizing: border-box;
  overflow: hidden;
  min-height: 0;
  align-items: stretch;
}

.financial-left {
  background: var(--surface-2);
  border-radius: 24px;
  border: 1px solid var(--border-subtle);
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  overflow-y: auto;
}

.financial-left-header h2 {
  margin: 0;
  font-size: 1.1rem;
}

.financial-left-header p {
  margin: 4px 0 0;
  font-size: 0.82rem;
  color: var(--text-muted);
}

.financial-contract-nav {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.financial-contract-btn {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: center;
  gap: 6px;
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid transparent;
  background: rgba(148, 163, 184, 0.12);
  color: inherit;
  cursor: pointer;
  font: inherit;
  text-align: left;
  transition: border 0.2s ease, background 0.2s ease, transform 0.2s ease;
}

.financial-contract-btn:hover {
  border-color: rgba(59, 130, 246, 0.35);
  transform: translateY(-1px);
}

.financial-contract-btn.active {
  border-color: rgba(59, 130, 246, 0.85);
  background: rgba(59, 130, 246, 0.12);
  color: var(--text-primary);
  box-shadow: 0 12px 30px rgba(59, 130, 246, 0.15);
}

.financial-contract-name {
  font-weight: 600;
  font-size: 0.92rem;
}

.financial-contract-meta {
  font-size: 0.72rem;
  color: var(--text-muted);
  justify-self: end;
}

.financial-main {
  display: flex;
  flex-direction: column;
  gap: 18px;
  overflow-y: auto;
  background: var(--surface-2);
  border-radius: 24px;
  border: 1px solid var(--border-subtle);
  padding: 20px 22px 28px;
}

.financial-header {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.financial-header-controls {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 12px;
}

.financial-progress-meta {
  display: inline-flex;
  align-items: center;
  gap: 18px;
  padding: 6px 16px;
  border-radius: 999px;
  background: var(--surface-1);
  border: 1px solid var(--border-subtle);
}

.financial-progress-meta span {
  display: flex;
  flex-direction: column;
  gap: 2px;
  font-size: 0.75rem;
  color: var(--text-muted);
}

.financial-progress-meta strong {
  font-size: 1rem;
  color: var(--text-primary);
}

.financial-summary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 14px;
}

.financial-summary-card {
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 16px 18px;
  border-radius: 18px;
  background: linear-gradient(140deg, rgba(30, 100, 240, 0.18), rgba(255, 138, 61, 0.12));
  border: 1px solid rgba(30, 100, 240, 0.24);
  box-shadow: 0 18px 32px rgba(15, 23, 42, 0.2);
}

.financial-summary-card span {
  font-size: 0.75rem;
  color: var(--text-muted);
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.financial-summary-card strong {
  font-size: 1.2rem;
  color: #1f2937;
}

[data-theme='dark'] .financial-summary-card span,
[data-theme='dark'] .financial-summary-card strong {
  color: #f8fafc;
}

.financial-summary-card small {
  font-size: 0.72rem;
  color: var(--text-muted);
}

.financial-tabs {
  display: inline-flex;
  gap: 10px;
  background: rgba(148, 163, 184, 0.12);
  border-radius: 999px;
  padding: 6px;
  align-self: flex-start;
}

.financial-tab {
  border: none;
  background: none;
  padding: 8px 18px;
  border-radius: 999px;
  font-size: 0.85rem;
  cursor: pointer;
  color: var(--text-muted);
  transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease;
}

.financial-tab.active {
  background: var(--accent);
  color: #fff;
  transform: translateY(-1px);
}

.financial-error {
  padding: 12px 16px;
  border-radius: 12px;
  background: rgba(248, 113, 113, 0.16);
  border: 1px solid rgba(248, 113, 113, 0.4);
  color: #b91c1c;
  font-size: 0.85rem;
}

.financial-grid {
  display: grid;
  gap: 18px;
}

.financial-table-card {
  border: 1px solid var(--border-subtle);
  border-radius: 20px;
  background: rgba(148, 163, 184, 0.06);
  overflow: hidden;
  backdrop-filter: blur(6px);
}

.financial-card-header {
  padding: 16px 20px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.2);
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.financial-card-header h3 {
  margin: 0;
  font-size: 1rem;
}

.financial-card-header span {
  font-size: 0.82rem;
  color: var(--text-muted);
}

.financial-card-subheading {
  padding: 10px 20px;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.financial-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.88rem;
}

.financial-table thead th {
  text-align: left;
  padding: 12px 20px;
  background: rgba(148, 163, 184, 0.18);
  font-weight: 600;
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--text-muted);
}

.financial-table tbody td,
.financial-table tbody th {
  padding: 12px 20px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.18);
}

.financial-table-total {
  background: rgba(59, 130, 246, 0.16);
  font-weight: 600;
}

.financial-row-active {
  background: rgba(59, 130, 246, 0.18);
  box-shadow: inset 0 0 0 1px rgba(59, 130, 246, 0.25);
}

.financial-table tbody tr:last-child td,
.financial-table tbody tr:last-child th {
  border-bottom: none;
}

.financial-table .numeric {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

.financial-row-project {
  background: rgba(59, 130, 246, 0.12);
}

.financial-contract-row th {
  display: flex;
  align-items: center;
  gap: 12px;
}

.financial-expand-btn {
  width: 24px;
  height: 24px;
  border-radius: 8px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  background: rgba(148, 163, 184, 0.12);
  color: inherit;
  cursor: pointer;
  display: grid;
  place-items: center;
  transition: background 0.2s ease, border 0.2s ease;
}

.financial-expand-btn:hover {
  background: rgba(59, 130, 246, 0.18);
  border-color: rgba(59, 130, 246, 0.6);
}

.financial-sow-group {
  background: rgba(148, 163, 184, 0.08);
}

.financial-subtable {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.84rem;
}

.financial-subtable td,
.financial-subtable th {
  padding: 8px 16px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.18);
}

.financial-subtable tr:last-child td,
.financial-subtable tr:last-child th {
  border-bottom: none;
}

.financial-right {
  display: flex;
  flex-direction: column;
  gap: 18px;
  overflow-y: auto;
}

.financial-panel {
  border-radius: 24px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 16px 18px 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.financial-panel .financial-table {
  background: rgba(148, 163, 184, 0.06);
  border-radius: 16px;
  overflow: hidden;
}

.financial-panel .financial-table thead th {
  background: rgba(148, 163, 184, 0.18);
}

.financial-panel .financial-table tbody tr:nth-child(odd) {
  background: rgba(148, 163, 184, 0.08);
}

.financial-panel .financial-table .empty {
  text-align: center;
  color: var(--text-muted);
  font-size: 0.82rem;
}

.financial-contract-btn,
.financial-tab,
.financial-expand-btn {
  font-family: inherit;
}

@media (max-width: 1280px) {
  .financial-stage {
    grid-template-columns: minmax(0, 1fr);
    grid-template-rows: auto auto auto;
    overflow-y: auto;
    gap: 20px;
  }

  .financial-left,
  .financial-right {
    order: 2;
  }

  .financial-main {
    order: 1;
  }
}

.component-progress-item__title {
  font-weight: 600;
  color: var(--text-primary);
}

.component-progress-item__contract {
  font-size: 0.72rem;
  color: var(--text-muted);
}

.component-progress-item__bar {
  position: relative;
  background: rgba(148, 163, 184, 0.18);
  border-radius: 999px;
  height: 12px;
}

.component-progress-item__bar-fill {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  border-radius: inherit;
  background-image: var(--sidebar-active);
}

.component-progress-item__percent {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 0.7rem;
  font-weight: 600;
  color: #fff;
}

.component-progress-item__trend {
  height: 48px;
}

.component-progress-item__stats {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  font-size: 0.72rem;
  color: var(--text-muted);
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.component-progress-item__stats > div {
  flex: 1 1 auto;
  min-width: 0;
  max-width: 100%;
}

.component-progress-item__stats strong {
  display: block;
  color: var(--text-primary);
  font-size: 0.85rem;
}

.component-progress-item__stats .label {
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-weight: 600;
}

.component-progress-item__stats .delta {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 999px;
  font-weight: 600;
}

.delta--positive {
  background: rgba(34, 197, 94, 0.16);
  color: #15803d;
}

.delta--negative {
  background: rgba(248, 113, 113, 0.16);
  color: #b91c1c;
}

.status-chip {
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 0.68rem;
  font-weight: 600;
  text-transform: uppercase;
}

.status-chip--completed {
  background: rgba(34, 197, 94, 0.18);
  color: #16a34a;
}

.status-chip--progress {
  background: rgba(59, 130, 246, 0.18);
  color: #2563eb;
}

.status-chip--delayed {
  background: rgba(248, 113, 113, 0.18);
  color: #dc2626;
}

.quality-section {
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.quality-metrics {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  width: 100%;
}

.quality-card {
  background: rgba(148, 163, 184, 0.12);
  border-radius: 14px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  flex: 1 1 auto;
  min-width: 0;
  max-width: 100%;
  box-sizing: border-box;
  width: 100%;
}

.quality-card__label {
  font-weight: 600;
  color: var(--text-primary);
  font-size: 0.8rem;
}

.quality-card__values {
  display: flex;
  gap: 8px;
}

.badge {
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 0.68rem;
  background: rgba(148, 163, 184, 0.18);
  color: var(--text-primary);
}

.badge--open {
  background: rgba(248, 113, 113, 0.18);
  color: #dc2626;
}

.badge--closed {
  background: rgba(34, 197, 94, 0.18);
  color: #16a34a;
}

.badge--positive {
  background: rgba(34, 197, 94, 0.18);
  color: #166534;
}

.badge--negative {
  background: rgba(248, 113, 113, 0.18);
  color: #991b1b;
}

.donut-gauge {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.donut-gauge > div:first-child {
  flex-shrink: 0;
}

.donut-gauge__label {
  display: grid;
  gap: 4px;
  font-size: 0.74rem;
  color: var(--text-muted);
}

.donut-gauge__label strong {
  font-size: 1.1rem;
  color: var(--text-primary);
}

.spi-section {
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.spi-overview {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.spi-overview__kpi span {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.spi-overview__meta {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  justify-content: flex-end;
  max-width: 100%;
  box-sizing: border-box;
}

.spi-value {
  font-size: 1.35rem;
  font-weight: 700;
}

.spi-value--low {
  color: #dc2626;
}

.spi-value--mid {
  color: #f97316;
}

.spi-value--high {
  color: #16a34a;
}

.spi-reference {
  font-size: 0.7rem;
  color: var(--text-muted);
  text-align: right;
}

.insight-card h4 {
  margin: 0;
  font-size: 0.95rem;
}

.insight-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: rgba(56, 189, 248, 0.18);
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 0.8rem;
}

.insight-badge.muted {
  background: rgba(148, 163, 184, 0.12);
}

[data-theme='light'] .insight-badge {
  background: rgba(191, 219, 254, 0.85);
  color: #0f172a;
}

[data-theme='light'] .insight-badge.muted {
  background: rgba(226, 232, 240, 0.85);
}

.insight-pill {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 10px;
  border-radius: 12px;
  font-size: 0.8rem;
  background: rgba(148, 163, 184, 0.1);
}

[data-theme='light'] .insight-pill {
  background: rgba(226, 232, 240, 0.6);
}

.insight-pill.status-completed {
  background: rgba(34, 197, 94, 0.18);
}

.insight-pill.status-inprogress {
  background: rgba(56, 189, 248, 0.18);
}

.insight-pill.status-delayed {
  background: rgba(248, 113, 113, 0.18);
}

.insight-row {
  display: flex;
  justify-content: space-between;
  font-size: 0.8rem;
}

.status-tag {
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.18);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

[data-theme='light'] .status-tag {
  background: rgba(226, 232, 240, 0.8);
  color: #0f172a;
}

.status-tag.status-completed {
  background: rgba(34, 197, 94, 0.18);
}

.status-tag.status-inprogress {
  background: rgba(56, 189, 248, 0.18);
}

.status-tag.status-delayed {
  background: rgba(248, 113, 113, 0.22);
}

.quality-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.8rem;
  gap: 8px;
}

.quality-label {
  font-weight: 600;
}

.quality-target {
  font-size: 0.7rem;
  color: var(--text-muted);
}

.quality-metrics {
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.quality-metrics > * {
  min-width: 0;
  max-width: 100%;
  box-sizing: border-box;
}

.quality-metrics .closed {
  color: #34d399;
}

.quality-metrics .open {
  color: #f87171;
}

.progress-row {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: center;
}

.progress-label {
  font-weight: 600;
}

.progress-sub {
  font-size: 0.7rem;
  color: var(--text-muted);
}

.progress-bar.contract {
  position: relative;
  width: 140px;
  height: 8px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.2);
  overflow: hidden;
}

.progress-bar.contract span {
  display: block;
  height: 100%;
  background: linear-gradient(135deg, #38bdf8, #22d3ee);
}

.progress-value {
  font-size: 0.7rem;
  position: absolute;
  top: -18px;
  right: 0;
  color: var(--text-muted);
}

.insight-spi {
  display: grid;
  gap: 10px;
  font-size: 0.85rem;
}

.spi-value {
  padding: 6px 12px;
  border-radius: 12px;
  display: inline-flex;
  gap: 6px;
}

.spi-value.status-amber {
  background: rgba(249, 115, 22, 0.18);
}

.spi-value.status-green {
  background: rgba(34, 197, 94, 0.18);
}

.contract-loading {
  padding: 20px;
  text-align: center;
  color: var(--text-muted);
}

@media (max-width: 1200px) {
  .contract-body {
    grid-template-columns: minmax(0, 1fr);
    grid-template-rows: auto auto auto;
  }

  .contract-insights {
    max-height: 240px;
  }
}
.map-wrapper::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 20% 15%, rgba(56, 189, 248, 0.08), transparent 55%),
    radial-gradient(circle at 80% 85%, rgba(99, 102, 241, 0.09), transparent 60%);
  mix-blend-mode: screen;
  z-index: 1;
}

.map-wrapper .leaflet-container,
.map-wrapper canvas {
  position: relative;
  z-index: 0;
}

.map-gradient {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(15, 23, 42, 0.05), rgba(15, 23, 42, 0));
  mix-blend-mode: multiply;
  z-index: 2;
}
.pp-main {
  min-width: 0;
  overflow: visible;
  display: flex;
  flex-direction: column;
  gap: 16px;
  flex: 1 1 auto;
  height: 100%;
  min-height: 0;
}
/* .pp-leftRail {
  width: var(--left-rail-w);
} */
/* .pp-rightPanel { */
  /* width: var(--right-panel-w); */
  /* width: 300px;
} */
.pp-leftRail {
  /* width: var(--left-rail-w); */
  display: flex;
  flex-direction: column;
  gap: 16px;
  height: 100%;
}

/* .pp-leftRail .contract-list {
  flex: 1;
} */

.kpi-note {
  font-size: 0.85rem;
  color: var(--text-muted);
}

.kpi-bar {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.kpi-bar--loading,
.kpi-bar--empty,
.kpi-bar--error {
  font-size: 0.85rem;
  color: var(--text-muted);
  padding: 12px;
  border: 1px dashed rgba(148, 163, 184, 0.25);
  border-radius: 12px;
  background: rgba(148, 163, 184, 0.08);
}

.kpi-bar--error {
  color: #f97316;
  border-color: rgba(249, 115, 22, 0.35);
  background: rgba(249, 115, 22, 0.08);
}

.kpi-bar--error.tiny {
  border: none;
  background: transparent;
  padding: 0;
  font-size: 0.75rem;
}

.contract-right-panel {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.panel-grid {
  display: grid;
  gap: 18px;
  grid-template-columns: 1fr;
}

@media (min-width: 1024px) {
  .panel-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

.panel-card {
  border-radius: 20px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  min-height: 220px;
}

.panel-card--tall {
  min-height: 260px;
}

.panel-card--compact {
  gap: 16px;
}

.panel-card--stacked {
  gap: 18px;
}

.panel-card header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 12px;
}

.panel-card header h3 {
  margin: 0;
  font-size: 1rem;
}

.panel-card header .value {
  font-size: 1.1rem;
  font-weight: 600;
}

.panel-card header .value small {
  font-size: 0.75rem;
  margin-left: 4px;
  color: var(--text-muted);
}

.panel-note {
  font-size: 0.85rem;
  color: var(--text-muted);
}

.panel-kpi {
  display: grid;
  grid-template-columns: repeat(3, auto);
  gap: 6px 12px;
  align-items: end;
  font-size: 0.85rem;
}

.panel-kpi__label {
  color: var(--text-muted);
  font-size: 0.8rem;
}

.panel-kpi__value {
  font-weight: 600;
  color: var(--text-primary);
}

.panel-kpi__value.muted {
  color: var(--text-muted);
}

.panel-kpi__delta {
  font-size: 0.85rem;
  font-weight: 600;
  justify-self: end;
}

.panel-kpi__delta.positive {
  color: #16a34a;
}

.panel-kpi__delta.negative {
  color: #ef4444;
}

.chart-placeholder {
  flex: 1;
  display: grid;
  place-items: center;
  font-size: 0.85rem;
  color: var(--text-muted);
  border: 1px dashed rgba(148, 163, 184, 0.35);
  border-radius: 12px;
  padding: 12px;
}

.mini-grid {
  display: grid;
  gap: 12px;
  grid-template-columns: 1fr;
}

@media (min-width: 1024px) {
  .mini-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

.mini-card {
  border-radius: 14px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-2, var(--surface-1));
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.mini-card__title {
  font-size: 0.85rem;
  color: var(--text-muted);
}

.mini-card__delta {
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--text-muted);
}

.mini-card__value {
  font-size: 1.05rem;
  font-weight: 600;
  color: var(--text-primary);
}

.kpi-dial-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
}


.mini-card__delta.positive {
  color: #16a34a;
}

.mini-card__delta.negative {
  color: #ef4444;
}

.work-meter {
  display: grid;
  gap: 10px;
  width: 100%;
}

.work-meter__bars {
  display: grid;
  gap: 8px;
}

.work-meter__bar {
  display: grid;
  gap: 6px;
}

.work-meter__bar span {
  display: block;
  height: 12px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.24);
  position: relative;
}

.work-meter__bar span::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
}

.work-meter__bar.planned span::after {
  background: linear-gradient(135deg, rgba(249, 115, 22, 0.26), rgba(251, 191, 36, 0.42));
}

.work-meter__bar.actual span::after {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.4), rgba(14, 165, 233, 0.7));
}

.work-meter__bar small {
  font-size: 0.7rem;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.work-meter__legend {
  display: flex;
  justify-content: space-between;
  font-size: 0.78rem;
  color: var(--text-muted);
}

.work-meter__legend strong {
  font-size: 0.9rem;
  color: var(--text-primary);
}

.work-meter--inline .work-meter__bars {
  gap: 6px;
}

.work-output-grid {
  display: grid;
  gap: 18px;
}

.work-output-section {
  border: 1px solid var(--border-subtle);
  border-radius: 16px;
  padding: 16px;
  display: grid;
  gap: 14px;
  background: var(--surface-2, rgba(15, 23, 42, 0.08));
}

.work-output-section__heading {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.work-output-section__title {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--text-primary);
}

.work-output-label {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.work-output-select {
  border-radius: 12px;
  border: 1px solid var(--border-subtle);
  padding: 8px 12px;
  font-size: 0.85rem;
  background: var(--surface-1);
  color: var(--text-primary);
}

.work-output-note {
  margin: 0;
  font-size: 0.78rem;
  color: var(--text-muted);
}

.work-output-variance {
  font-size: 0.82rem;
  font-weight: 600;
}

.work-output-variance.positive {
  color: #16a34a;
}

.work-output-variance.negative {
  color: #ef4444;
}

.status-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 0.7rem;
  font-weight: 600;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.status-pill--completed {
  background: rgba(34, 197, 94, 0.15);
  color: #0f5132;
}

[data-theme='dark'] .status-pill--completed {
  color: #ffffff;
}

.status-pill--in-progress {
  background: rgba(59, 130, 246, 0.18);
  color: #1e3a8a;
}

[data-theme='dark'] .status-pill--in-progress {
  color: #ffffff;
}

.status-pill--not-started {
  background: rgba(148, 163, 184, 0.2);
  color: #475569;
}

[data-theme='dark'] .status-pill--not-started {
  color: #ffffff;
}

.status-pill--delayed {
  background: rgba(248, 113, 113, 0.2);
  color: #9f1239;
}

[data-theme='dark'] .status-pill--delayed {
  color: #ffffff;
}

.prep-output-list {
  display: grid;
  gap: 12px;
}

.prep-output-card {
  border: 1px solid var(--border-subtle);
  border-radius: 14px;
  padding: 12px;
  display: grid;
  gap: 10px;
  background: var(--surface-1);
}

.prep-output-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.prep-output-milestones {
  display: grid;
  gap: 6px;
}

.prep-output-milestones__summary {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.prep-output-milestones__chips {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.milestone-chip {
  padding: 3px 8px;
  border-radius: 999px;
  font-size: 0.68rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  background: rgba(148, 163, 184, 0.2);
  color: var(--text-muted);
}

.milestone-chip--completed {
  background: rgba(34, 197, 94, 0.18);
  color: #166534;
}

.milestone-chip--in-progress {
  background: rgba(59, 130, 246, 0.18);
  color: #1d4ed8;
}

.milestone-chip--not-started {
  background: rgba(148, 163, 184, 0.22);
  color: #475569;
}

.milestone-chip--delayed {
  background: rgba(248, 113, 113, 0.2);
  color: #b91c1c;
}

.construction-output-list {
  display: grid;
  gap: 12px;
}

.construction-output-card {
  border: 1px solid var(--border-subtle);
  border-radius: 14px;
  padding: 12px;
  display: grid;
  gap: 10px;
  background: var(--surface-1);
}

.construction-output-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.construction-output-progress {
  position: relative;
  height: 12px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.2);
  overflow: hidden;
}

.construction-output-progress__actual {
  position: absolute;
  inset: 0;
  width: 0;
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.7), rgba(5, 150, 105, 0.9));
}

.construction-output-progress__benchmark {
  position: absolute;
  top: -4px;
  width: 2px;
  height: 20px;
  background: rgba(248, 113, 113, 0.8);
}

.construction-output-meta {
  display: flex;
  justify-content: space-between;
  font-size: 0.78rem;
  color: var(--text-muted);
}

.construction-output-meta__label {
  display: block;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.68rem;
}

.construction-output-commentary {
  margin: 0;
  font-size: 0.75rem;
  color: var(--text-muted);
}

.quality-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
}

.schedule-card {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.schedule-insight {
  margin-top: 12px;
  margin-left: auto;
  padding: 14px 16px;
  border-radius: 16px;
  border: 1px solid var(--border-subtle);
  background: linear-gradient(135deg, rgba(148, 163, 184, 0.12), rgba(59, 130, 246, 0.08));
  box-shadow: 0 16px 32px rgba(15, 23, 42, 0.18);
  display: grid;
  gap: 4px;
  text-align: right;
  max-width: 260px;
}

.schedule-insight__label {
  font-size: 0.72rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-muted);
}

.schedule-insight__value {
  font-size: 1.45rem;
  font-weight: 600;
  letter-spacing: -0.01em;
}

.schedule-insight__hint {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.schedule-insight--positive {
  background: linear-gradient(135deg, rgba(34, 197, 94, 0.12), rgba(13, 148, 136, 0.08));
  border-color: rgba(34, 197, 94, 0.35);
}

.schedule-insight--positive .schedule-insight__value {
  color: #22c55e;
}

.schedule-insight--negative {
  background: linear-gradient(135deg, rgba(248, 113, 113, 0.12), rgba(185, 28, 28, 0.08));
  border-color: rgba(248, 113, 113, 0.35);
}

.schedule-insight--negative .schedule-insight__value {
  color: #f87171;
}

.quality-indicator {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.9rem;
  color: var(--text-muted);
}

.quality-indicator strong {
  font-size: 1.1rem;
  color: var(--text-primary);
}

.right-panel--empty,
.right-panel--error {
  border: 1px dashed rgba(148, 163, 184, 0.4);
  border-radius: 16px;
  padding: 20px;
  color: var(--text-muted);
}

.right-panel--error {
  color: #f97316;
  border-color: rgba(249, 115, 22, 0.35);
}

.schedule-panel {
  border-radius: 20px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 16px;
  overflow: auto;
  max-height: 70vh;
}

.schedule-panel--empty,
.schedule-panel--loading,
.schedule-panel--error {
  padding: 16px;
  font-size: 0.9rem;
  color: var(--text-muted);
}

.schedule-page {
  display: flex;
  flex-direction: column;
  gap: 20px;
  min-height: 100vh;
  padding: clamp(20px, 4vw, 32px);
  background: var(--app-bg);
  color: var(--text-primary);
}

.schedule-page--immersive {
  backdrop-filter: blur(20px);
}

.schedule-header {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.schedule-breadcrumb {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.schedule-breadcrumb .breadcrumb-link,
.schedule-breadcrumb .breadcrumb-text {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.schedule-breadcrumb .breadcrumb-link {
  border: none;
  background: none;
  color: var(--accent);
  padding: 0;
  cursor: pointer;
  font: inherit;
}

.schedule-breadcrumb .breadcrumb-link:hover {
  text-decoration: underline;
}

.schedule-breadcrumb .breadcrumb-text.current {
  color: var(--text-primary);
  font-weight: 600;
}

.breadcrumb-separator {
  color: var(--text-muted);
}

.schedule-title-row {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-end;
  justify-content: space-between;
  gap: 12px;
}

.schedule-title-row h1 {
  margin: 0;
  font-size: clamp(1.6rem, 2.4vw, 2.2rem);
  letter-spacing: -0.01em;
}

.schedule-title-meta {
  display: flex;
  gap: 18px;
  font-size: 0.92rem;
  color: var(--text-muted);
}

.schedule-summary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
}

.summary-card {
  border-radius: 18px;
  padding: 18px;
  background: var(--surface-1);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-soft);
  display: grid;
  gap: 8px;
}

.summary-card--accent {
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.18), rgba(56, 189, 248, 0.15));
  border-color: rgba(56, 189, 248, 0.35);
}

.summary-label {
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.summary-value {
  font-size: clamp(1.4rem, 2.6vw, 2rem);
  font-weight: 700;
}

.summary-footnote {
  font-size: 0.85rem;
  color: var(--text-muted);
}

.schedule-progress-controls {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 12px;
  margin-top: 4px;
}

.schedule-progress-error {
  color: #f97316;
  font-size: 0.85rem;
}

.schedule-progress-stamp {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.schedule-body-grid {
  display: grid;
  grid-template-columns: minmax(260px, 320px) minmax(0, 1fr) minmax(280px, 340px);
  gap: clamp(18px, 3vw, 28px);
  flex: 1;
  min-height: 0;
}

@media (max-width: 1240px) {
  .schedule-body-grid {
    grid-template-columns: minmax(0, 1fr);
  }
  .schedule-simulation,
  .schedule-insights {
    order: 2;
  }
}

.schedule-insights,
.schedule-gantt-panel,
.schedule-simulation {
  border-radius: 24px;
  padding: clamp(18px, 2.6vw, 24px);
  background: var(--surface-1);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-soft);
  display: flex;
  flex-direction: column;
  gap: 18px;
  min-height: 0;
}

.schedule-insights h2,
.schedule-gantt-panel h2,
.schedule-simulation h2 {
  margin: 0;
  font-size: 1.15rem;
  letter-spacing: -0.01em;
}

.insights-lead {
  margin: 0;
  color: var(--text-muted);
  font-size: 0.9rem;
}

.insights-radar {
  background: var(--surface-2);
  border-radius: 20px;
  padding: 18px;
  display: grid;
  gap: 18px;
  border: 1px solid rgba(148, 163, 184, 0.15);
}

.radar-ring {
  display: grid;
  place-items: center;
  position: relative;
  padding: 24px;
  border-radius: 18px;
  background: radial-gradient(circle at top, rgba(59, 130, 246, 0.18), rgba(15, 23, 42, 0.05));
}

.radar-ring::after {
  content: '';
  position: absolute;
  inset: 12%;
  border-radius: 16px;
  border: 1px dashed rgba(148, 163, 184, 0.16);
}

.radar-value {
  font-size: 2rem;
  font-weight: 700;
}

.radar-label {
  font-size: 0.85rem;
  color: var(--text-muted);
}

.radar-metrics {
  display: grid;
  gap: 12px;
  list-style: none;
  margin: 0;
  padding: 0;
}

.radar-metrics li {
  display: grid;
  gap: 4px;
  font-size: 0.85rem;
}

.radar-metrics strong {
  font-size: 1.2rem;
}

.insights-feed h3 {
  margin: 12px 0 6px;
  font-size: 0.95rem;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.insights-feed ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 12px;
}

.schedule-next-activities {
  background: var(--surface-2);
  border-radius: 18px;
  border: 1px solid var(--border-subtle);
  padding: 16px;
  display: grid;
  gap: 12px;
}

.schedule-next-activities h3 {
  margin: 0;
  font-size: 0.95rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.schedule-next-activities ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 10px;
}

.schedule-next-activities li {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.schedule-next-activities__empty {
  font-size: 0.85rem;
  color: var(--text-muted);
}

.feed-title {
  font-weight: 600;
  display: block;
}

.feed-meta {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.feed-empty {
  font-size: 0.85rem;
  color: var(--text-muted);
}

.schedule-gantt-panel {
  min-height: 0;
}

.schedule-gantt-toolbar {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}

.schedule-legend {
  display: flex;
  gap: 12px;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.legend-item {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.legend-success::before,
.legend-watch::before,
.legend-risk::before {
  content: '';
  width: 14px;
  height: 6px;
  border-radius: 999px;
  display: inline-block;
}

.legend-success::before {
  background: #34d399;
}

.legend-watch::before {
  background: #fbbf24;
}

.legend-risk::before {
  background: #f87171;
}

.schedule-gantt,
.schedule-gantt-shell {
  flex: 1;
  min-height: 0;
  overflow: auto;
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.15);
  background: var(--surface-2);
}

.schedule-gantt .gantt-container .gantt-table,
.schedule-gantt-shell .gantt-container .gantt-table {
  background: transparent;
}

.schedule-gantt .table .table-header,
.schedule-gantt .table .table-values,
.schedule-gantt-shell .table .table-header,
.schedule-gantt-shell .table .table-values {
  background: transparent !important;
}


.schedule-gantt .table .table-header .task-list-header,
.schedule-gantt-shell .table .table-header .task-list-header {
  background: transparent !important;
  color: var(--text-muted) !important;
  border-bottom: 1px solid var(--schedule-row-border) !important;
}

.schedule-gantt .table .table-values .task-list-row,
.schedule-gantt-shell .table .table-values .task-list-row {
  background: var(--schedule-row-bg) !important;
  color: var(--text-primary) !important;
  border-bottom: 1px solid var(--schedule-row-border) !important;
}

.schedule-gantt .table .table-values .task-list-row:nth-child(even),
.schedule-gantt-shell .table .table-values .task-list-row:nth-child(even) {
  background: var(--schedule-row-bg-alt) !important;
}

.schedule-gantt .table .task-list-item,
.schedule-gantt-shell .table .task-list-item {
  color: inherit !important;
}

.schedule-task-list {
  display: flex;
  flex-direction: column;
  min-width: 0;
  overflow-x: auto;
}

.schedule-task-list-row {
  display: grid;
  grid-template-columns: minmax(220px, 2.5fr) repeat(2, minmax(160px, 1.2fr));
  align-items: center;
  padding: 0 12px;
  background: var(--schedule-row-bg);
  border-bottom: 1px solid var(--schedule-row-border);
  transition: background 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease;
}

.schedule-task-list-row:nth-child(even) {
  background: var(--schedule-row-bg-alt);
}

.schedule-task-list-row.collapsed {
  background: var(--schedule-row-collapsed-bg);
  border-bottom-color: var(--schedule-row-collapsed-border);
  box-shadow: inset 0 0 0 1px rgba(37, 99, 235, 0.12);
}

.schedule-task-list-row.collapsed:nth-child(even) {
  background: var(--schedule-row-collapsed-bg);
}

.schedule-task-list-row.selected {
  border-left: 3px solid var(--accent);
}

.schedule-task-list-cell {
  color: var(--text-primary);
  padding: 0 8px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.schedule-task-list-cell.name {
  display: flex;
  align-items: center;
}

.schedule-task-list-name {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.schedule-task-list-expander {
  width: 18px;
  height: 18px;
  border: none;
  background: transparent;
  color: var(--text-muted);
  font-size: 0.8rem;
  cursor: pointer;
  display: grid;
  place-items: center;
  padding: 0;
  transition: color 0.2s ease, transform 0.2s ease;
}

.schedule-task-list-expander:hover {
  color: var(--text-primary);
  transform: translateY(-1px);
}

.schedule-task-list-expander.empty {
  cursor: default;
  color: transparent;
}

.schedule-task-list-cell.date {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.schedule-gantt .table .table-values .task-list-cell,
.schedule-gantt-shell .table .table-values .task-list-cell {
  color: var(--text-primary) !important;
  background: inherit !important;
}

.schedule-gantt .task-name,
.schedule-gantt-shell .task-name {
  color: inherit !important;
}

.schedule-gantt .gantt-container svg text,
.schedule-gantt-shell .gantt-container svg text {
  fill: var(--gantt-label);
}

.schedule-gantt .calendar-container,
.schedule-gantt-shell .calendar-container {
  background: var(--gantt-header-bg);
}

.schedule-gantt .calendar-container rect,
.schedule-gantt-shell .calendar-container rect {
  fill: var(--gantt-header-bg);
}

.schedule-gantt .calendar-container text,
.schedule-gantt-shell .calendar-container text {
  fill: var(--gantt-header-text);
}

.schedule-gantt .task-item,
.schedule-gantt-shell .task-item {
  background: transparent !important;
}

.schedule-gantt .task-content,
.schedule-gantt-shell .task-content {
  color: var(--text-primary) !important;
}

.schedule-gantt .gantt-container svg .today rect,
.schedule-gantt-shell .gantt-container svg .today rect {
  fill: var(--gantt-current-period);
}

.schedule-gantt .bar > g,
.schedule-gantt-shell .bar > g {
  transition: transform 0.18s ease;
}

.schedule-gantt .bar > g:focus-visible,
.schedule-gantt-shell .bar > g:focus-visible {
  outline: none;
}

.schedule-gantt .bar > g ._31ERP,
.schedule-gantt-shell .bar > g ._31ERP {
  transition: fill 0.2s ease, stroke 0.2s ease, filter 0.2s ease;
}

.schedule-gantt .bar > g rect + rect,
.schedule-gantt-shell .bar > g rect + rect {
  stroke: var(--gantt-progress-border);
  stroke-width: 1;
  vector-effect: non-scaling-stroke;
}

.schedule-gantt .bar > g[data-progress='0'] rect + rect,
.schedule-gantt-shell .bar > g[data-progress='0'] rect + rect {
  stroke-width: 0;
}

.schedule-gantt .bar > g text,
.schedule-gantt-shell .bar > g text {
  font-weight: 600;
  letter-spacing: 0.01em;
  paint-order: stroke fill;
  stroke-linejoin: round;
  stroke-linecap: round;
  stroke-width: 0.9px;
  transition: stroke 0.2s ease, fill 0.2s ease;
  text-shadow: 0 0 4px rgba(15, 23, 42, 0.18);
}

.schedule-gantt .bar > g text._3zRJQ,
.schedule-gantt-shell .bar > g text._3zRJQ {
  stroke-width: 1.05px;
}

.schedule-gantt .bar > g text._3KcaM,
.schedule-gantt-shell .bar > g text._3KcaM {
  stroke-width: 3.4px;
  letter-spacing: 0.025em;
}

.schedule-gantt .bar > g[data-label-tone='light'] text,
.schedule-gantt-shell .bar > g[data-label-tone='light'] text {
  fill: var(--gantt-label-light);
  stroke: var(--gantt-label-halo-for-light);
}

.schedule-gantt .bar > g[data-label-tone='dark'] text,
.schedule-gantt-shell .bar > g[data-label-tone='dark'] text {
  fill: var(--gantt-label-dark);
  stroke: var(--gantt-label-halo-for-dark);
}

.schedule-gantt .bar > g[data-label-tone='light'] text._3KcaM,
.schedule-gantt-shell .bar > g[data-label-tone='light'] text._3KcaM {
  stroke: var(--gantt-label-tag-bg-light);
  stroke-width: 3.8px;
  fill: var(--gantt-label-light);
}

.schedule-gantt .bar > g[data-label-tone='dark'] text._3KcaM,
.schedule-gantt-shell .bar > g[data-label-tone='dark'] text._3KcaM {
  stroke: var(--gantt-label-tag-bg-dark);
  fill: var(--gantt-label-dark);
}

.schedule-gantt .bar > g:hover ._31ERP,
.schedule-gantt .bar > g:focus-visible ._31ERP,
.schedule-gantt-shell .bar > g:hover ._31ERP,
.schedule-gantt-shell .bar > g:focus-visible ._31ERP {
  stroke: var(--gantt-link);
  stroke-width: 1.2;
}

.schedule-gantt .bar > g:hover text,
.schedule-gantt .bar > g:focus-visible text,
.schedule-gantt-shell .bar > g:hover text,
.schedule-gantt-shell .bar > g:focus-visible text {
  stroke-width: 1.15px;
}

.schedule-gantt .bar > g.dependency-hover ._31ERP,
.schedule-gantt-shell .bar > g.dependency-hover ._31ERP {
  stroke: var(--gantt-link-hover);
  stroke-width: 1.8;
  filter: drop-shadow(0 0 6px var(--gantt-link-hover));
}

.schedule-gantt .bar > g.dependency-hover rect + rect,
.schedule-gantt-shell .bar > g.dependency-hover rect + rect {
  stroke: var(--gantt-link-hover);
  stroke-width: 1.2;
}

.schedule-gantt .bar > g.dependency-hover text,
.schedule-gantt-shell .bar > g.dependency-hover text {
  stroke-width: 1.25px;
}

.schedule-gantt .arrows,
.schedule-gantt-shell .arrows {
  pointer-events: none;
}

.schedule-gantt .arrows .arrow,
.schedule-gantt-shell .arrows .arrow {
  pointer-events: all;
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.schedule-gantt .arrows .arrow path,
.schedule-gantt-shell .arrows .arrow path {
  stroke: var(--gantt-link);
  stroke-width: 1.8px;
  stroke-linecap: round;
  stroke-linejoin: round;
  fill: none;
  opacity: 0.85;
  vector-effect: non-scaling-stroke;
  transition: stroke 0.2s ease, opacity 0.2s ease;
}

.schedule-gantt .arrows .arrow polygon,
.schedule-gantt-shell .arrows .arrow polygon {
  fill: var(--gantt-link);
  stroke: var(--gantt-link);
  stroke-width: 0.6px;
  stroke-linejoin: round;
  opacity: 0.9;
  transition: stroke 0.2s ease, fill 0.2s ease, opacity 0.2s ease;
}

[data-theme='light'] .schedule-gantt-shell .arrows .arrow path {
  stroke-width: 1.6px;
}

[data-theme='light'] .schedule-gantt-shell .arrows .arrow polygon {
  stroke-width: 0.75px;
}

[data-theme='dark'] .schedule-gantt-shell .arrows .arrow path {
  stroke-width: 2.65px;
  opacity: 0.95;
}

[data-theme='dark'] .schedule-gantt-shell .arrows .arrow polygon {
  stroke-width: 1.1px;
  opacity: 1;
}

.schedule-gantt .arrows .arrow.is-hovered path,
.schedule-gantt .arrows .arrow.is-hovered polygon,
.schedule-gantt-shell .arrows .arrow.is-hovered path,
.schedule-gantt-shell .arrows .arrow.is-hovered polygon {
  stroke: var(--gantt-link-hover);
  fill: var(--gantt-link-hover);
  opacity: 1;
}

.schedule-gantt .gantt-container,
.schedule-gantt-shell .gantt-container {
  background: var(--gantt-bg);
  border-radius: 12px;
  border: 1px solid var(--schedule-row-border);
  box-shadow: var(--shadow-soft);
  min-width: 100%;
  min-height: 520px;
  transition: background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

.schedule-gantt .gantt-container svg .grid-background,
.schedule-gantt-shell .gantt-container svg .grid-background,
.gantt-container svg .grid-background {
  fill: var(--gantt-bg) !important;
}

.schedule-gantt .gantt-container svg .grid-row rect,
.schedule-gantt-shell .gantt-container svg .grid-row rect,
.gantt-container svg .grid-row rect {
  fill: var(--gantt-grid-fill) !important;
}

.schedule-gantt .gantt-container svg .grid-row rect,
.schedule-gantt-shell .gantt-container svg .grid-row rect,
.gantt-container svg .grid-row rect {
  stroke: var(--gantt-grid-line);
  stroke-width: 0.7;
  vector-effect: non-scaling-stroke;
}

.schedule-gantt .gantt-container svg .grid-line,
.schedule-gantt .gantt-container svg .grid-row line,
.schedule-gantt .gantt-container svg .tick line,
.schedule-gantt-shell .gantt-container svg .grid-line,
.schedule-gantt-shell .gantt-container svg .grid-row line,
.schedule-gantt-shell .gantt-container svg .tick line,
.gantt-container svg .grid-line,
.gantt-container svg .grid-row line,
.gantt-container svg .tick line {
  stroke: var(--gantt-grid-line);
  stroke-width: 0.7;
  vector-effect: non-scaling-stroke;
}

.schedule-gantt .gantt-container svg .tick text,
.schedule-gantt-shell .gantt-container svg .tick text {
  fill: var(--gantt-header-text);
  font-weight: 500;
}

.schedule-gantt .gantt-table,
.schedule-gantt-shell .gantt-table {
  min-width: 320px;
}

.schedule-state {
  display: grid;
  place-items: center;
  min-height: 460px;
  font-size: 0.95rem;
  color: var(--text-muted);
}

.schedule-state.error {
  color: #f97316;
}

.schedule-tooltip {
  display: grid;
  gap: 4px;
  font-size: 0.78rem;
}

/* Contract schedule layout enhancements */

.schedule-shell {
  display: grid;
  grid-template-columns: 84px minmax(0, 1fr);
  min-height: 100vh;
  background: var(--app-bg);
  color: var(--text-primary);
}

.schedule-main {
  padding: clamp(20px, 4vw, 32px);
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.schedule-header .header-leading {
  display: flex;
  flex-direction: column;
  gap: 6px;
  flex: 1 1 320px;
}

.schedule-header .header-leading h1 {
  margin: 0;
  font-size: clamp(1.6rem, 2.4vw, 2.2rem);
  display: flex;
  align-items: baseline;
  gap: 8px;
}

.schedule-header .header-leading h1 span {
  font-size: 0.95rem;
  color: var(--text-muted);
  font-weight: 500;
}

.schedule-header .header-bar {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: flex-start;
  gap: clamp(16px, 3vw, 28px);
}

.schedule-header .header-metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: clamp(14px, 2.6vw, 22px);
}

.schedule-metric-card {
  border-radius: 18px;
  padding: 18px 20px;
  background: var(--surface-1);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-soft);
  display: grid;
  gap: 8px;
  min-width: 0;
}

.schedule-metric-card .metric-label {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.schedule-metric-card strong {
  font-size: 1.6rem;
  font-weight: 600;
  letter-spacing: -0.01em;
  color: var(--text-primary);
}

.schedule-metric-card small {
  color: var(--text-muted);
  font-size: 0.78rem;
  line-height: 1.35;
}

.schedule-metric-card small + small {
  margin-top: -4px;
}

.schedule-metric-card--financial {
  padding-bottom: 16px;
}

.schedule-metric-card--financial .metric-split {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}

.schedule-metric-card--financial .metric-split div {
  display: grid;
  gap: 4px;
}

.schedule-metric-card--financial .metric-split span {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.schedule-metric-card--financial .metric-split strong {
  font-size: 1.05rem;
}

.value-glossary {
  margin-top: 12px;
  display: grid;
  gap: 4px;
}

.value-glossary small {
  font-size: 0.72rem;
  color: var(--text-muted);
  line-height: 1.35;
}

.value-glossary strong {
  font-weight: 600;
  margin-right: 4px;
  color: var(--text-primary);
}

.schedule-header .header-actions {
  display: flex;
  flex-direction: column;
  gap: 12px;
  flex: 1 1 320px;
}

.schedule-controls {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items: flex-end;
}

.schedule-controls .control-group {
  display: grid;
  gap: 6px;
}

.schedule-controls label {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.schedule-controls select,
.schedule-controls input[type='search'] {
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-2);
  color: var(--text-primary);
}

.chip-toggle {
  border: 1px solid var(--border-subtle);
  background: transparent;
  border-radius: 999px;
  padding: 6px 12px;
  font-size: 0.8rem;
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease, border 0.2s ease;
}

.chip-toggle.active {
  background: rgba(37, 99, 235, 0.18);
  border-color: rgba(37, 99, 235, 0.35);
  color: var(--text-primary);
}

.status-chips {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.status-chip {
  border-radius: 999px;
  padding: 6px 14px;
  font-size: 0.78rem;
  border: 1px solid transparent;
  background: rgba(148, 163, 184, 0.18);
  color: var(--text-primary);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border 0.2s ease;
}

.status-chip.active {
  transform: translateY(-1px);
  box-shadow: 0 8px 20px rgba(15, 23, 42, 0.24);
}

.status-chip.on-track.active {
  border-color: rgba(37, 99, 235, 0.4);
}

.status-chip.monitoring.active {
  border-color: rgba(245, 158, 11, 0.5);
}

.status-chip.risk.active {
  border-color: rgba(248, 113, 113, 0.5);
}

.schedule-body {
  display: grid;
  grid-template-columns: minmax(0, 1fr) 320px;
  gap: clamp(18px, 3vw, 28px);
  min-height: 0;
}

.schedule-center {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.gantt-container-card {
  border-radius: 20px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 18px;
  box-shadow: var(--shadow-soft);
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.gantt-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 18px;
  flex-wrap: wrap;
}

.gantt-header h2 {
  margin: 0;
  font-size: 1.1rem;
}

.gantt-header .subtitle {
  color: var(--text-muted);
  font-size: 0.85rem;
}

.whatif-slider {
  display: flex;
  align-items: center;
  gap: 12px;
}

.whatif-slider input[type='range'] {
  accent-color: var(--accent);
}

.schedule-sidebar {
  border-radius: 20px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-1);
  padding: 20px;
  box-shadow: var(--shadow-soft);
  display: flex;
  flex-direction: column;
  gap: 18px;
  max-height: calc(100vh - 120px);
  overflow-y: auto;
}

.resource-grid {
  display: grid;
  gap: 12px;
}

.sidebar-next-activities {
  border-radius: 16px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-2);
  padding: 12px;
  display: grid;
  gap: 10px;
}

.sidebar-next-activities h4 {
  margin: 0;
  font-size: 0.85rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-muted);
}

.sidebar-next-activities ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 8px;
}

.sidebar-next-activities__empty {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.resource-card {
  border-radius: 16px;
  padding: 12px;
  background: var(--surface-2);
  border: 1px solid rgba(148, 163, 184, 0.18);
  display: grid;
  gap: 6px;
}

.resource-heading {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
}

.resource-card p {
  margin: 0;
  font-size: 0.78rem;
  color: var(--text-muted);
}

.gauge-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

.gauge-card,
.sparkline-card {
  border-radius: 16px;
  padding: 12px;
  background: var(--surface-2);
  border: 1px solid rgba(148, 163, 184, 0.18);
}

.gauge-card header,
.sparkline-card header {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.kpi-meta {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}

.kpi-meta span {
  color: var(--text-muted);
  font-size: 0.75rem;
}

.kpi-meta strong {
  font-size: 0.95rem;
}

.whatif-info {
  display: grid;
  gap: 4px;
  font-size: 0.85rem;
}

.smart-insights {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: var(--surface-2);
  padding: 16px;
}

.smart-insights .insight-column header {
  display: flex;
  justify-content: space-between;
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.smart-insights .insight-column {
  display: grid;
  gap: 8px;
}

.smart-insights ul {
  list-style: none;
  margin: 10px 0 0;
  padding: 0;
  display: grid;
  gap: 6px;
  font-size: 0.85rem;
}

.smart-insights li {
  display: flex;
  justify-content: space-between;
  gap: 12px;
}

.insight-empty {
  color: var(--text-muted);
}

.text-warning {
  color: #f59e0b;
}

.text-positive {
  color: #22c55e;
}

.schedule-simulation p {
  margin: 0;
  color: var(--text-muted);
  font-size: 0.85rem;
}

.simulation-control {
  display: grid;
  gap: 8px;
}

.simulation-control label {
  font-size: 0.85rem;
  font-weight: 600;
  display: flex;
  justify-content: space-between;
  color: var(--text-primary);
}

.simulation-control select,
.simulation-control input[type='range'] {
  width: 100%;
  border-radius: 12px;
  border: 1px solid var(--border-subtle);
  background: var(--surface-2);
  color: var(--text-primary);
  padding: 10px 12px;
  font-size: 0.9rem;
}

.control-hint {
  font-size: 0.75rem;
  color: var(--text-muted);
  margin: 0;
}

.simulation-resource-grid {
  display: grid;
  gap: 12px;
}

.resource-card {
  border-radius: 16px;
  padding: 12px;
  background: var(--surface-2);
  border: 1px solid rgba(148, 163, 184, 0.14);
  display: grid;
  gap: 6px;
}

.resource-heading {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
}

.resource-counter {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: rgba(59, 130, 246, 0.12);
  border-radius: 999px;
  padding: 4px 10px;
  color: var(--accent);
  font-size: 0.85rem;
}

.resource-counter button {
  border: none;
  background: none;
  color: inherit;
  cursor: pointer;
  font-size: 1rem;
  width: 20px;
  height: 20px;
  display: grid;
  place-items: center;
}

.resource-counter button:hover {
  opacity: 0.8;
}

.simulation-outlook ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 10px;
  font-size: 0.9rem;
}

.simulation-outlook li {
  display: flex;
  justify-content: space-between;
  gap: 12px;
}

.simulation-outlook strong {
  font-weight: 600;
}

.simulation-outlook em {
  font-style: normal;
  color: var(--accent);
  font-size: 0.8rem;
  margin-left: 6px;
}

.outlook-footnote {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.simulation-actions {
  display: grid;
  gap: 10px;
}

.btn-secondary {
  border: 1px solid var(--border-subtle);
  background: transparent;
  color: var(--text-primary);
  border-radius: 14px;
  padding: 10px 14px;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.2s ease;
}

.btn-secondary:hover {
  background: rgba(148, 163, 184, 0.18);
  transform: translateY(-1px);
}

.scenario-note {
  font-size: 0.8rem;
  color: var(--text-muted);
  line-height: 1.4;
}

.contractor-dashboard {
  display: grid;
  gap: 24px;
}

.contractor-hero {
  border-radius: 20px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(15, 23, 42, 0.78);
  padding: 20px;
  display: grid;
  gap: 18px;
}

.contractor-hero__meta h3 {
  margin: 0 0 6px;
  font-size: 1.4rem;
}

.contractor-hero__meta p {
  margin: 0;
  color: rgba(148, 163, 184, 0.78);
  font-size: 0.92rem;
}

.contractor-hero__stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
}

.contractor-hero__stats div {
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(9, 14, 32, 0.88);
  padding: 12px 14px;
  display: grid;
  gap: 6px;
}

.contractor-hero__stats span {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.contractor-hero__stats strong {
  font-size: 1.35rem;
  font-weight: 600;
  letter-spacing: -0.01em;
}

.contractor-kpis {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
}

.contractor-kpi-card {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(15, 23, 42, 0.7);
  padding: 16px;
  display: grid;
  gap: 8px;
}

.contractor-kpi-card span {
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.contractor-kpi-card strong {
  font-size: 1.5rem;
  font-weight: 600;
}

.contractor-alerts {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 18px;
}

.contractor-alerts > div {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(9, 14, 32, 0.82);
  padding: 16px 18px;
  display: grid;
  gap: 10px;
}

.contractor-alerts h4 {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.82rem;
  color: rgba(148, 163, 184, 0.72);
}

.contractor-alerts ul {
  margin: 0;
  padding-left: 18px;
  display: grid;
  gap: 6px;
  font-size: 0.9rem;
  color: rgba(226, 232, 240, 0.85);
}

.contractor-mobilization {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(9, 14, 32, 0.82);
  padding: 18px 20px;
  display: grid;
  gap: 12px;
}

.contractor-mobilization header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
}

.contractor-mobilization header h4 {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.9rem;
}

.contractor-mobilization header span {
  font-size: 0.78rem;
  color: rgba(148, 163, 184, 0.72);
}

.contractor-mobilization table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.86rem;
}

.contractor-mobilization th,
.contractor-mobilization td {
  padding: 10px 12px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.18);
  text-align: left;
}

.actor-manifest {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 18px;
}

.actor-manifest section {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(15, 23, 42, 0.72);
  padding: 16px 18px;
  display: grid;
  gap: 10px;
}

.actor-manifest header h4 {
  margin: 0;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.75);
}

.actor-manifest dl {
  margin: 0;
  display: grid;
  gap: 10px;
}

.actor-manifest dt {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.actor-manifest dd {
  margin: 0;
  color: rgba(226, 232, 240, 0.88);
  font-weight: 500;
}

.actor-manifest ul {
  margin: 0;
  padding-left: 18px;
  display: grid;
  gap: 6px;
  font-size: 0.88rem;
  color: rgba(226, 232, 240, 0.82);
}

.sensor-dashboard {
  display: grid;
  gap: 24px;
}

.sensor-hero {
  border-radius: 20px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(15, 23, 42, 0.78);
  padding: 20px;
  display: grid;
  gap: 16px;
}

.sensor-hero__meta h3 {
  margin: 0 0 6px;
  font-size: 1.3rem;
}

.sensor-hero__meta p {
  margin: 0;
  color: rgba(148, 163, 184, 0.78);
  font-size: 0.9rem;
}

.sensor-hero__stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
}

.sensor-hero__stats div {
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.18);
  background: rgba(9, 14, 32, 0.88);
  padding: 12px 14px;
  display: grid;
  gap: 6px;
}

.sensor-hero__stats span {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.sensor-hero__stats strong {
  font-size: 1.25rem;
  font-weight: 600;
  letter-spacing: -0.01em;
}

.sensor-kpis {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
}

.sensor-kpi-card {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(15, 23, 42, 0.7);
  padding: 16px;
  display: grid;
  gap: 8px;
}

.sensor-kpi-card span {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.72);
}

.sensor-kpi-card strong {
  font-size: 1.4rem;
  font-weight: 600;
}

.sensor-highlights {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 18px;
}

.sensor-highlights > div {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(9, 14, 32, 0.82);
  padding: 16px 18px;
  display: grid;
  gap: 10px;
}

.sensor-highlights h4 {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.82rem;
  color: rgba(148, 163, 184, 0.72);
}

.sensor-highlights ul {
  margin: 0;
  padding-left: 18px;
  display: grid;
  gap: 6px;
  font-size: 0.9rem;
  color: rgba(226, 232, 240, 0.85);
}

.sensor-stream {
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(9, 14, 32, 0.82);
  padding: 18px 20px;
  display: grid;
  gap: 12px;
}

.sensor-stream header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
}

.sensor-stream header h4 {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.9rem;
}

.sensor-stream header span {
  font-size: 0.78rem;
  color: rgba(148, 163, 184, 0.72);
}

.sensor-stream table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.86rem;
}

.sensor-stream th,
.sensor-stream td {
  padding: 10px 12px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.18);
  text-align: left;
}
.atom-card__title {
  display: grid;
  gap: 4px;
}

/* -------------------------------------------------------------------------- */
/* SCM visual flow                                                            */
/* -------------------------------------------------------------------------- */

.scm-visual-layout {
  display: flex;
  min-height: 100vh;
  background:
    radial-gradient(circle at 20% 10%, rgba(59, 130, 246, 0.45), rgba(2, 6, 23, 0.94) 60%),
    radial-gradient(circle at 80% 0%, rgba(129, 140, 248, 0.35), transparent 50%),
    linear-gradient(180deg, #020617 0%, #030712 100%);
  color: #e2e8f0;
}

.scm-visual-main {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  padding: 36px 40px 56px;
  gap: 28px;
  position: relative;
}

.scm-visual-main::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 30% 20%, rgba(96, 165, 250, 0.18), transparent 45%);
  mix-blend-mode: screen;
  opacity: 0.8;
}

.scm-visual-content {
  flex: 1 1 auto;
  display: flex;
  position: relative;
  z-index: 1;
}

.scm-visual-experience {
  flex: 1 1 auto;
  display: grid;
  gap: 20px;
}

.scm-visual-toolbar {
  border-radius: 28px;
  border: 1px solid rgba(59, 130, 246, 0.35);
  background: linear-gradient(135deg, rgba(13, 20, 36, 0.9), rgba(5, 9, 20, 0.9));
  padding: 22px 28px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 18px;
  box-shadow:
    0 20px 60px rgba(2, 6, 23, 0.55),
    inset 0 0 0 1px rgba(148, 163, 184, 0.08);
  position: relative;
}

.scm-visual-toolbar::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: radial-gradient(circle at 25% 0%, rgba(59, 130, 246, 0.2), transparent 55%);
  opacity: 0.8;
}

.scm-visual-toolbar__primary {
  display: flex;
  gap: 12px;
  align-items: baseline;
  flex-wrap: wrap;
  font-weight: 500;
}

.scm-visual-process {
  font-size: 1.25rem;
  font-weight: 600;
  letter-spacing: 0.02em;
}

.scm-visual-status-pill {
  border-radius: 999px;
  padding: 4px 12px;
  font-size: 0.75rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  border: 1px solid rgba(148, 163, 184, 0.3);
  background: rgba(15, 23, 42, 0.65);
}

.scm-visual-badge {
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  background: linear-gradient(90deg, rgba(94, 234, 212, 0.25), rgba(59, 130, 246, 0.25));
  border: 1px solid rgba(94, 234, 212, 0.3);
  color: #ccfbf1;
}

.scm-visual-updated {
  font-size: 0.85rem;
  color: rgba(148, 163, 184, 0.9);
}

.scm-visual-toolbar__actions {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
}

.scm-visual-toolbar__actions button,
.scm-visual-toolbar__seed button {
  border-radius: 12px;
  border: 1px solid rgba(148, 163, 184, 0.35);
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 64, 175, 0.6));
  color: #e0f2fe;
  padding: 10px 16px;
  cursor: pointer;
  font-weight: 500;
  transition: transform 120ms ease, border-color 150ms ease, box-shadow 150ms ease;
  box-shadow: 0 10px 25px rgba(3, 7, 18, 0.45);
}

.scm-visual-toolbar__actions button:hover,
.scm-visual-toolbar__actions button:focus-visible,
.scm-visual-toolbar__seed button:hover,
.scm-visual-toolbar__seed button:focus-visible {
  transform: translateY(-1px);
  border-color: rgba(94, 234, 212, 0.6);
  box-shadow:
    0 15px 40px rgba(6, 182, 212, 0.25),
    inset 0 0 0 1px rgba(20, 184, 166, 0.25);
}

.scm-visual-toolbar__seed,
.scm-visual-toolbar__volatility {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.9);
}

.scm-visual-toolbar__seed input {
  border-radius: 12px;
  border: 1px solid rgba(59, 130, 246, 0.35);
  background: rgba(2, 6, 23, 0.8);
  color: #f8fafc;
  padding: 6px 10px;
  width: 96px;
}

.scm-visual-toolbar__seed label,
.scm-visual-toolbar__volatility label {
  font-size: 0.75rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(148, 163, 184, 0.85);
}

.scm-visual-toolbar__volatility input[type='range'] {
  width: 120px;
  accent-color: #60a5fa;
}

.scm-visual-toolbar__volatility span {
  min-width: 64px;
  text-transform: capitalize;
  color: rgba(226, 232, 240, 0.9);
}

.scm-visual-workspace {
  display: grid;
  grid-template-columns: minmax(0, 1fr);
  gap: 20px;
  border-radius: 32px;
  border: 1px solid rgba(59, 130, 246, 0.35);
  background: rgba(4, 7, 18, 0.95);
  padding: 26px;
  min-height: 640px;
  box-shadow: 0 30px 80px rgba(2, 6, 23, 0.65);
  position: relative;
}

.scm-visual-workspace::before {
  content: '';
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(236, 72, 153, 0.05));
  filter: blur(30px);
  opacity: 0.6;
}

.scm-visual-workspace.has-panel {
  grid-template-columns: minmax(0, 1fr) 360px;
}

.scm-visual-canvas {
  border-radius: 26px;
  border: 1px solid rgba(59, 130, 246, 0.25);
  background: radial-gradient(circle at 30% 30%, rgba(30, 64, 175, 0.2), rgba(2, 6, 23, 0.6));
  height: clamp(560px, 62vh, 720px);
  position: relative;
  overflow: hidden;
}

.scm-visual-canvas::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(2, 6, 23, 0), rgba(2, 6, 23, 0.35) 70%);
}

.scm-visual-canvas .react-flow {
  width: 100%;
  height: 100%;
}

.scm-visual-process-card {
  position: absolute;
  top: 24px;
  left: 24px;
  border-radius: 20px;
  padding: 18px 20px;
  background: rgba(2, 6, 23, 0.85);
  border: 1px solid rgba(94, 234, 212, 0.25);
  box-shadow: 0 15px 50px rgba(8, 145, 178, 0.25);
  color: #f8fafc;
  backdrop-filter: blur(12px);
  max-width: 320px;
  z-index: 5;
}

.scm-visual-process-card span {
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(148, 163, 184, 0.85);
}

.scm-visual-process-card strong {
  display: block;
  font-size: 1.1rem;
  margin-top: 4px;
}

.scm-visual-process-card ul {
  margin: 12px 0 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 10px;
}

.scm-visual-process-card li {
  display: flex;
  justify-content: space-between;
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.9);
}

.scm-visual-process-card li span {
  text-transform: none;
  color: rgba(148, 163, 184, 0.9);
  letter-spacing: 0;
}

.scm-visual-process-card li em {
  font-style: normal;
  color: #34d399;
}

.scm-visual-process-card li.more {
  color: rgba(148, 163, 184, 0.9);
  font-size: 0.8rem;
}

.scm-visual-controls {
  background: rgba(15, 23, 42, 0.85);
  border-radius: 12px;
  border: 1px solid rgba(59, 130, 246, 0.3);
  box-shadow: 0 10px 25px rgba(2, 6, 23, 0.5);
}

.scm-visual-controls button {
  color: #e2e8f0;
}

.scm-visual-node {
  --node-accent: #38bdf8;
  --node-accent-muted: rgba(56, 189, 248, 0.25);
  position: relative;
  border-radius: 24px;
  border: 1.5px solid rgba(255, 255, 255, 0.08);
  background: linear-gradient(180deg, rgba(7, 11, 25, 0.95), rgba(2, 6, 23, 0.9));
  padding: 18px 20px;
  box-shadow:
    0 18px 40px rgba(2, 6, 23, 0.7),
    inset 0 0 0 1px rgba(148, 163, 184, 0.08);
  color: rgba(226, 232, 240, 0.95);
  min-width: 200px;
  transition: border-color 160ms ease, box-shadow 160ms ease, transform 160ms ease;
}

.scm-visual-node::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: radial-gradient(circle, rgba(56, 189, 248, 0.35), transparent 60%);
  opacity: 0.2;
  filter: blur(10px);
  z-index: -1;
  transition: opacity 160ms ease;
}

.scm-visual-node header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.9rem;
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: rgba(148, 163, 184, 0.9);
}

.scm-visual-node footer {
  display: flex;
  justify-content: space-between;
  font-size: 0.85rem;
  color: rgba(148, 163, 184, 0.9);
  margin-top: 8px;
}

.scm-visual-node__metrics {
  margin: 12px 0;
  display: grid;
  gap: 8px;
  font-size: 0.85rem;
}

.scm-visual-node__metrics div {
  display: flex;
  justify-content: space-between;
  gap: 12px;
}

.scm-visual-node__metrics dt {
  color: rgba(148, 163, 184, 0.85);
}

.scm-visual-node__metrics dd {
  margin: 0;
  font-weight: 600;
}

.scm-visual-node__primary {
  font-size: 1.1rem;
  margin-bottom: 2px;
}

.scm-visual-node__primary.readiness {
  font-size: 2.25rem;
  font-weight: 600;
  display: flex;
  flex-direction: column;
  line-height: 1.1;
}

.scm-visual-node__primary.readiness span {
  font-size: 0.85rem;
  font-weight: 400;
  color: rgba(148, 163, 184, 0.85);
}

.scm-visual-node__primary span {
  font-size: 0.85rem;
  color: rgba(148, 163, 184, 0.85);
  font-weight: 400;
}

.scm-visual-node__secondary {
  font-size: 0.85rem;
  color: rgba(148, 163, 184, 0.85);
}

.scm-visual-node__progress {
  width: 100%;
  height: 6px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.9);
  margin: 12px 0 6px;
  overflow: hidden;
  border: 1px solid rgba(59, 130, 246, 0.35);
}

.scm-visual-node__progress .fill {
  height: 100%;
  background: linear-gradient(90deg, var(--node-accent), rgba(59, 130, 246, 0.5));
  border-radius: inherit;
}

.scm-visual-node__actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 12px;
}

.scm-visual-node__actions button {
  border-radius: 10px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  background: rgba(15, 23, 42, 0.85);
  color: #f8fafc;
  padding: 6px 12px;
  cursor: pointer;
  font-size: 0.85rem;
}

.scm-visual-node__actions button.link {
  background: transparent;
  border-color: transparent;
  color: rgba(94, 234, 212, 0.9);
  text-decoration: underline;
  text-underline-offset: 2px;
}

.scm-visual-node__hint {
  font-size: 0.8rem;
  color: rgba(94, 234, 212, 0.9);
  margin-top: 8px;
}

.scm-visual-node .delta {
  font-weight: 600;
}

.scm-visual-node .delta::before {
  content: '';
  margin-right: 2px;
  font-weight: 400;
  color: rgba(148, 163, 184, 0.9);
}

.scm-visual-node .is-negative {
  color: #fb7185;
}

.scm-visual-node.is-selected {
  border-color: rgba(94, 234, 212, 0.85);
  box-shadow:
    0 25px 60px rgba(6, 182, 212, 0.25),
    inset 0 0 0 1px rgba(94, 234, 212, 0.35);
  transform: translateY(-2px);
}

.scm-visual-node.is-hot::before {
  opacity: 0.6;
  animation: scmNodePulse 2.5s ease-in-out infinite;
}

@keyframes scmNodePulse {
  0% {
    opacity: 0.2;
    transform: scale(0.96);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.02);
  }
  100% {
    opacity: 0.2;
    transform: scale(0.96);
  }
}

.scm-visual-node--demand {
  background: linear-gradient(160deg, rgba(2, 132, 199, 0.2), rgba(15, 23, 42, 0.9));
}

.scm-visual-node--procurement {
  background: linear-gradient(160deg, rgba(236, 72, 153, 0.25), rgba(15, 23, 42, 0.9));
}

.scm-visual-node--logistics {
  background: linear-gradient(160deg, rgba(249, 115, 22, 0.25), rgba(15, 23, 42, 0.9));
}

.scm-visual-node--inventory {
  background: linear-gradient(160deg, rgba(244, 63, 94, 0.25), rgba(15, 23, 42, 0.9));
}

.scm-visual-node--readiness {
  background: linear-gradient(160deg, rgba(139, 92, 246, 0.25), rgba(15, 23, 42, 0.9));
}

.scm-visual-node--readiness::before {
  background: radial-gradient(circle, rgba(139, 92, 246, var(--readiness-glow, 0.4)), transparent 65%);
}

.scm-visual-status-chip {
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  border: 1px solid rgba(148, 163, 184, 0.25);
}

.scm-visual-node.status-ok {
  --node-accent: #34d399;
  --node-accent-muted: rgba(52, 211, 153, 0.2);
}

.scm-visual-node.status-risk {
  --node-accent: #f97316;
  --node-accent-muted: rgba(249, 115, 22, 0.2);
}

.scm-visual-node.status-blocked {
  --node-accent: #a855f7;
  --node-accent-muted: rgba(168, 85, 247, 0.25);
}

.scm-visual-node.status-delayed {
  --node-accent: #f87171;
  --node-accent-muted: rgba(248, 113, 113, 0.25);
}

.scm-visual-node.status-ok .scm-visual-status-chip {
  border-color: rgba(52, 211, 153, 0.6);
  color: #bbf7d0;
}

.scm-visual-node.status-risk .scm-visual-status-chip {
  border-color: rgba(249, 115, 22, 0.6);
  color: #fed7aa;
}

.scm-visual-node.status-blocked .scm-visual-status-chip {
  border-color: rgba(168, 85, 247, 0.6);
  color: #e9d5ff;
}

.scm-visual-node.status-delayed .scm-visual-status-chip {
  border-color: rgba(248, 113, 113, 0.6);
  color: #fecaca;
}

.scm-visual-sparkline,
.scm-visual-histogram {
  width: 100%;
  height: 70px;
}

.scm-visual-sparkline.--empty,
.scm-visual-histogram.--empty {
  background: rgba(15, 23, 42, 0.6);
  border-radius: 12px;
}

.scm-visual-histogram span {
  border-radius: 6px 6px 2px 2px;
}

.scm-visual-status-pill.status-ok {
  border-color: rgba(52, 211, 153, 0.5);
  color: #bbf7d0;
}

.scm-visual-status-pill.status-risk {
  border-color: rgba(249, 115, 22, 0.5);
  color: #fed7aa;
}

.scm-visual-status-pill.status-blocked {
  border-color: rgba(168, 85, 247, 0.5);
  color: #e9d5ff;
}

.scm-visual-status-pill.status-delayed {
  border-color: rgba(248, 113, 113, 0.5);
  color: #fecaca;
}

.scm-visual-handle {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: var(--node-accent, #38bdf8);
  border: 2px solid rgba(15, 23, 42, 0.9);
  box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.2);
}

.react-flow__minimap {
  background: rgba(2, 6, 23, 0.9);
  border-radius: 12px;
  border: 1px solid rgba(59, 130, 246, 0.35);
}

.react-flow__background svg {
  opacity: 0.7;
}

.react-flow__edge-path.scm-visual-edge {
  stroke-dasharray: 10 6;
  filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.4));
}

.scm-visual-panel {
  border-radius: 26px;
  border: 1px solid rgba(99, 102, 241, 0.35);
  background: linear-gradient(160deg, rgba(20, 22, 41, 0.9), rgba(5, 8, 20, 0.95));
  padding: 22px;
  display: flex;
  flex-direction: column;
  gap: 18px;
  color: rgba(226, 232, 240, 0.95);
  box-shadow: 0 20px 60px rgba(2, 6, 23, 0.7);
  backdrop-filter: blur(16px);
}

.scm-visual-panel header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
}

.scm-visual-panel header div h3 {
  margin: 0;
  font-size: 1.25rem;
}

.scm-visual-panel header p {
  margin: 4px 0 0;
  font-size: 0.9rem;
  color: rgba(148, 163, 184, 0.9);
}

.scm-visual-panel header button {
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  background: rgba(15, 23, 42, 0.85);
  color: #f8fafc;
  padding: 6px 14px;
  cursor: pointer;
  font-size: 0.85rem;
}

.scm-visual-panel section {
  border-radius: 16px;
  padding: 14px 16px;
  background: rgba(2, 6, 23, 0.65);
  border: 1px solid rgba(148, 163, 184, 0.12);
}

.scm-visual-panel section h4 {
  margin: 0 0 10px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.75rem;
  color: rgba(148, 163, 184, 0.85);
}

.scm-visual-panel__metrics {
  margin: 0;
  display: grid;
  gap: 10px;
}

.scm-visual-panel__metrics div {
  display: flex;
  justify-content: space-between;
  font-size: 0.9rem;
}

.scm-visual-panel__rationale {
  margin: 0;
  font-size: 0.9rem;
  color: rgba(226, 232, 240, 0.9);
  line-height: 1.5;
}

.scm-visual-panel__empty,
.scm-visual-panel__hint {
  margin: 0;
  font-size: 0.9rem;
  color: rgba(148, 163, 184, 0.9);
}

.scm-visual-panel__alarms {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-height: 230px;
  overflow-y: auto;
  padding-right: 6px;
}

.scm-visual-panel__alarms::-webkit-scrollbar {
  width: 6px;
}

.scm-visual-panel__alarms::-webkit-scrollbar-track {
  background: transparent;
}

.scm-visual-panel__alarms::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.35);
  border-radius: 999px;
}

.scm-visual-panel__alarms {
  scrollbar-width: thin;
  scrollbar-color: rgba(148, 163, 184, 0.35) transparent;
}

.scm-visual-panel__alarms li {
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(15, 23, 42, 0.75);
  padding: 12px;
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: center;
}

.scm-visual-panel__alarms li[data-severity='warn'] {
  border-color: rgba(249, 115, 22, 0.5);
  box-shadow: 0 0 16px rgba(249, 115, 22, 0.2);
}

.scm-visual-panel__alarms li[data-severity='critical'] {
  border-color: rgba(248, 113, 113, 0.6);
  box-shadow: 0 0 20px rgba(248, 113, 113, 0.25);
}

.scm-visual-panel__alarms strong {
  display: block;
  font-size: 0.95rem;
}

.scm-visual-panel__alarms span {
  font-size: 0.85rem;
  color: rgba(148, 163, 184, 0.8);
}

.scm-visual-panel__alarms button,
.scm-visual-panel__simulate button {
  border-radius: 10px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.7), rgba(59, 130, 246, 0.6));
  color: #f8fafc;
  padding: 6px 12px;
  cursor: pointer;
  font-weight: 500;
  min-width: 120px;
}

.scm-visual-panel__simulate {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
}

.scm-visual-panel__simulate button {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.45), rgba(14, 165, 233, 0.6));
}

.scm-visual-panel__simulate button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.scm-visual-panel__drivers {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.scm-visual-panel__drivers label {
  display: grid;
  gap: 6px;
  font-size: 0.85rem;
}

.scm-visual-panel__drivers input[type='range'] {
  width: 100%;
  accent-color: #a855f7;
}

.scm-visual-panel__drivers .value {
  font-size: 0.85rem;
  color: rgba(94, 234, 212, 0.9);
}

.scm-visual-panel__drivers-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}

.scm-visual-panel__drivers-header button {
  border: none;
  background: none;
  color: rgba(94, 234, 212, 0.9);
  text-decoration: underline;
  cursor: pointer;
  padding: 0;
}

.scm-visual-panel__drivers-header button.link {
  font-size: 0.85rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.scm-visual-panel__simulate button,
.scm-visual-panel__alarms button {
  transition: transform 120ms ease, box-shadow 150ms ease;
}

.scm-visual-panel__simulate button:hover,
.scm-visual-panel__simulate button:focus-visible,
.scm-visual-panel__alarms button:hover,
.scm-visual-panel__alarms button:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
}

.scm-visual-panel__simulate button:active,
.scm-visual-toolbar__actions button:active {
  transform: translateY(0);
}

.scm-visual-map-modal {
  position: fixed;
  inset: 0;
  background: rgba(2, 6, 23, 0.78);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 70;
}

/* -------------------------------------------------------------------------- */
/* Alarm center                                                               */
/* -------------------------------------------------------------------------- */

.alarm-center {
  --alarm-bg: radial-gradient(circle at 10% 0%, rgba(59, 130, 246, 0.3), transparent 55%), #01030a;
  --alarm-surface: rgba(8, 15, 32, 0.9);
  --alarm-panel: rgba(10, 18, 38, 0.95);
  --alarm-border: rgba(99, 102, 241, 0.35);
  --alarm-border-subtle: rgba(148, 163, 184, 0.18);
  --alarm-text: #e2e8f0;
  --alarm-muted: rgba(148, 163, 184, 0.85);
  --alarm-accent: #60a5fa;
  --alarm-accent-strong: #38bdf8;
  position: relative;
  min-height: 100vh;
  background: var(--alarm-bg);
  color: var(--alarm-text);
  display: flex;
  align-items: stretch;
  width: 100%;
}

.alarm-center::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 75% 0%, rgba(236, 72, 153, 0.18), transparent 60%);
  opacity: 0.8;
  z-index: -1;
}

[data-theme='light'] .alarm-center {
  --alarm-bg: radial-gradient(circle at 10% 0%, rgba(59, 130, 246, 0.15), transparent 55%), #f8fafc;
  --alarm-surface: rgba(255, 255, 255, 0.92);
  --alarm-panel: rgba(248, 250, 252, 0.98);
  --alarm-border: rgba(99, 102, 241, 0.2);
  --alarm-border-subtle: rgba(15, 23, 42, 0.08);
  --alarm-text: #0f172a;
  --alarm-muted: rgba(71, 85, 105, 0.9);
  --alarm-accent: #2563eb;
  --alarm-accent-strong: #0ea5e9;
}

.alarm-center__layout {
  display: grid;
  grid-template-columns: minmax(0, 1fr) 320px;
  gap: 32px;
  padding: 32px 32px 48px;
}

.alarm-center .app-shell {
  flex: 1 1 auto;
  min-height: 100vh;
}

.alarm-center__body {
  display: flex;
  flex-direction: column;
  gap: 32px;
}

.alarm-toolbar {
  border-radius: 28px;
  padding: 24px;
  border: 1px solid var(--alarm-border);
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.85), rgba(2, 6, 23, 0.8));
  box-shadow:
    0 24px 60px rgba(2, 6, 23, 0.65),
    inset 0 0 0 1px rgba(148, 163, 184, 0.08);
  position: relative;
  overflow: hidden;
}

[data-theme='light'] .alarm-toolbar {
  background: linear-gradient(135deg, rgba(248, 250, 252, 0.95), rgba(226, 232, 240, 0.8));
  box-shadow:
    0 16px 40px rgba(15, 23, 42, 0.15),
    inset 0 0 0 1px rgba(15, 23, 42, 0.05);
}

.scope-selector {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}

.scope-selector label {
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 0.85rem;
  color: var(--alarm-muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.scope-selector select {
  border-radius: 14px;
  border: 1px solid var(--alarm-border);
  background: rgba(2, 6, 23, 0.6);
  color: var(--alarm-text);
  padding: 10px 12px;
  font-size: 0.95rem;
}

[data-theme='light'] .scope-selector select {
  background: rgba(255, 255, 255, 0.9);
}

.scope-selector select:disabled {
  opacity: 0.4;
}

.alarm-view-tabs {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
}

.alarm-view-tabs__btn {
  flex: 1 1 240px;
  border-radius: 20px;
  padding: 18px 22px;
  border: 1px solid var(--alarm-border-subtle);
  background: var(--alarm-panel);
  color: var(--alarm-muted);
  text-align: left;
  cursor: pointer;
  transition: transform 140ms ease, border-color 140ms ease, box-shadow 140ms ease;
}

.alarm-view-tabs__btn strong {
  display: block;
  font-size: 1.05rem;
  color: var(--alarm-text);
}

.alarm-view-tabs__btn span {
  font-size: 0.85rem;
}

.alarm-view-tabs__btn.is-active {
  border-color: var(--alarm-accent);
  box-shadow: 0 18px 45px rgba(14, 165, 233, 0.25);
  transform: translateY(-2px);
}

.alarm-view {
  display: none;
  flex-direction: column;
  gap: 32px;
}

.alarm-view.is-active {
  display: flex;
  animation: alarmViewFade 320ms ease;
}

@keyframes alarmViewFade {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.alarm-error {
  border-radius: 18px;
  border: 1px solid rgba(248, 113, 113, 0.4);
  background: rgba(248, 113, 113, 0.08);
  padding: 16px 20px;
  color: #fecaca;
}

/* Analytics -------------------------------------------------------------- */

.alarm-analytics,
.alarm-hero,
.alarm-action-bar,
.alarm-tower-panel,
.alarm-logic-grid,
.alarm-severity-table,
.alarm-panels,
.alarm-timeline,
.alarm-detail__card,
.alarm-sop-card {
  border-radius: 28px;
  border: 1px solid var(--alarm-border);
  background: var(--alarm-panel);
  box-shadow: 0 20px 60px rgba(2, 6, 23, 0.55);
  padding: 24px 28px;
}

[data-theme='light'] .alarm-analytics,
[data-theme='light'] .alarm-hero,
[data-theme='light'] .alarm-action-bar,
[data-theme='light'] .alarm-tower-panel,
[data-theme='light'] .alarm-logic-grid,
[data-theme='light'] .alarm-severity-table,
[data-theme='light'] .alarm-panels,
[data-theme='light'] .alarm-timeline,
[data-theme='light'] .alarm-detail__card,
[data-theme='light'] .alarm-sop-card {
  box-shadow: 0 16px 40px rgba(15, 23, 42, 0.12);
}

.alarm-analytics header {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  margin-bottom: 18px;
}

.alarm-analytics h3 {
  margin: 0;
  font-size: 1.3rem;
}

.alarm-analytics p {
  margin: 4px 0 0;
  color: var(--alarm-muted);
}

.alarm-analytics__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 18px;
}

.alarm-analytics__card,
.alarm-analytics__gauges {
  border-radius: 20px;
  border: 1px solid var(--alarm-border-subtle);
  background: rgba(255, 255, 255, 0.02);
  padding: 12px;
}

[data-theme='light'] .alarm-analytics__card,
[data-theme='light'] .alarm-analytics__gauges {
  background: rgba(15, 23, 42, 0.02);
}

.alarm-analytics__card--wide {
  grid-column: span 2;
}

.alarm-analytics__gauges {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 12px;
}

/* Hero ------------------------------------------------------------------ */

.alarm-hero {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 24px;
  background: radial-gradient(circle at 20% 20%, rgba(96, 165, 250, 0.3), transparent 55%), var(--alarm-panel);
}

.alarm-hero h1 {
  margin: 0 0 4px;
  font-size: 2rem;
}

.alarm-hero__primary {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.alarm-hero__rings {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
}

.alarm-ring {
  border-radius: 18px;
  padding: 16px;
  background: rgba(15, 23, 42, 0.7);
  border: 1px solid transparent;
  text-align: left;
  cursor: pointer;
  transition: border-color 140ms ease, transform 140ms ease;
}

.alarm-ring strong {
  display: block;
  font-size: 1.6rem;
}

.alarm-ring small {
  color: var(--alarm-muted);
}

.alarm-ring.active {
  border-color: currentColor;
  transform: translateY(-3px);
  box-shadow: 0 12px 30px rgba(14, 165, 233, 0.25);
}

.alarm-hero__context {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
}

.alarm-hero__context span {
  display: flex;
  flex-direction: column;
  padding: 12px;
  border-radius: 16px;
  border: 1px solid var(--alarm-border-subtle);
  background: rgba(2, 6, 23, 0.5);
  gap: 4px;
}

.alarm-hero__context span strong {
  font-size: 1rem;
  color: var(--alarm-text);
}

.alarm-hero__meta {
  display: grid;
  gap: 8px;
  font-size: 0.9rem;
  color: var(--alarm-muted);
}

.alarm-hero__metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 16px;
}

.alarm-hero__metric {
  border-radius: 18px;
  padding: 16px;
  background: rgba(15, 23, 42, 0.6);
  border: 1px solid var(--alarm-border-subtle);
  display: grid;
  gap: 4px;
}

.alarm-hero__metric strong {
  font-size: 1.4rem;
}

.alarm-hero__metric--list ul {
  margin: 8px 0 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 6px;
  font-size: 0.85rem;
  color: var(--alarm-muted);
}

.alarm-hero__metric--list li {
  display: flex;
  justify-content: space-between;
}

/* Action bar ------------------------------------------------------------ */

.alarm-action-bar {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 18px;
  background: linear-gradient(120deg, rgba(79, 70, 229, 0.7), rgba(14, 165, 233, 0.6));
  border: none;
  color: #f8fafc;
}

.alarm-action-bar__info h4 {
  margin: 0;
  font-size: 1.2rem;
}

.alarm-action-bar__info p {
  margin: 4px 0 0;
  max-width: 420px;
}

.alarm-action-bar__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.alarm-action-bar__actions button {
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.6);
  background: rgba(2, 6, 23, 0.3);
  color: #f8fafc;
  padding: 10px 22px;
  cursor: pointer;
  font-weight: 600;
}

.alarm-action-bar__actions button.is-primary {
  background: rgba(248, 250, 252, 0.15);
}

/* Tower panel ----------------------------------------------------------- */

.alarm-tower-panel header h2 {
  margin: 0;
  font-size: 1.5rem;
}

.alarm-tower-panel header p {
  margin: 6px 0 18px;
  color: var(--alarm-muted);
}

.alarm-tower-panel__severity {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
  margin-bottom: 16px;
}

.tower-token {
  border-radius: 16px;
  padding: 12px 16px;
  border: 1px solid var(--alarm-border-subtle);
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
}

.tower-token.critical {
  background: rgba(248, 113, 113, 0.18);
  color: #fecaca;
}

.tower-token.warn {
  background: rgba(249, 115, 22, 0.18);
  color: #fed7aa;
}

.tower-token.info {
  background: rgba(14, 165, 233, 0.15);
  color: #bae6fd;
}

.alarm-tower-panel__scopes {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
  margin-bottom: 18px;
}

.tower-scope {
  border-radius: 16px;
  border: 1px dashed var(--alarm-border-subtle);
  padding: 12px;
  display: flex;
  justify-content: space-between;
  color: var(--alarm-muted);
}

.tower-scope strong {
  color: var(--alarm-text);
}

.tower-scope--empty {
  justify-content: center;
}

.alarm-tower-panel__feed {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.alarm-tower-panel__feed li {
  display: flex;
  justify-content: space-between;
  gap: 16px;
  padding: 16px;
  border-radius: 16px;
  border: 1px solid var(--alarm-border-subtle);
  background: rgba(2, 6, 23, 0.4);
}

.tower-feed__main {
  display: flex;
  gap: 14px;
  align-items: center;
}

.tower-pill {
  border-radius: 999px;
  padding: 6px 12px;
  font-size: 0.75rem;
  letter-spacing: 0.08em;
}

.tower-feed__detail strong {
  display: block;
  font-size: 1rem;
}

.tower-feed__detail small {
  color: var(--alarm-muted);
}

.tower-feed__actions {
  position: relative;
}

.tower-action-menu__trigger {
  border-radius: 10px;
  border: 1px solid var(--alarm-border);
  background: rgba(15, 23, 42, 0.8);
  color: var(--alarm-text);
  padding: 6px 12px;
  cursor: pointer;
}

.tower-action-menu__dropdown {
  position: absolute;
  right: 0;
  top: calc(100% + 8px);
  min-width: 220px;
  border-radius: 16px;
  border: 1px solid var(--alarm-border);
  background: var(--alarm-surface);
  box-shadow: 0 24px 60px rgba(2, 6, 23, 0.65);
  padding: 12px;
  display: grid;
  gap: 10px;
  z-index: 10;
}

.tower-action-menu__option {
  display: flex;
  gap: 10px;
  align-items: flex-start;
  font-size: 0.85rem;
}

.tower-action-menu__option strong {
  display: block;
}

.tower-collaboration-cta {
  margin-top: 20px;
  border-radius: 20px;
  padding: 18px;
  border: 1px solid var(--alarm-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  background: linear-gradient(120deg, rgba(37, 99, 235, 0.2), rgba(14, 165, 233, 0.2));
}

.tower-collaboration-cta button {
  border-radius: 999px;
  border: 1px solid rgba(59, 130, 246, 0.5);
  background: rgba(15, 23, 42, 0.7);
  color: var(--alarm-text);
  padding: 10px 20px;
  cursor: pointer;
}

.tower-pagination {
  margin-top: 16px;
  display: flex;
  justify-content: center;
  gap: 12px;
  align-items: center;
}

.tower-pagination button {
  border-radius: 999px;
  border: 1px solid var(--alarm-border);
  background: transparent;
  color: var(--alarm-text);
  padding: 6px 14px;
}

/* Logic grid ------------------------------------------------------------ */

.alarm-logic-grid header {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
}

.logic-grid {
  margin-top: 18px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
}

.logic-card {
  border-radius: 18px;
  border: 1px solid var(--alarm-border-subtle);
  padding: 16px;
  background: rgba(2, 6, 23, 0.5);
  text-align: left;
  display: grid;
  gap: 12px;
  cursor: pointer;
  transition: transform 140ms ease, border-color 140ms ease;
}

.logic-card.is-active {
  border-color: var(--alarm-accent);
  transform: translateY(-2px);
}

.logic-card__header span {
  font-size: 0.75rem;
  text-transform: uppercase;
  color: var(--alarm-muted);
}

.logic-card__status {
  border-radius: 999px;
  border: 1px solid currentColor;
  padding: 4px 10px;
  font-size: 0.75rem;
}

.logic-card.severity-critical {
  color: #fecaca;
}

.logic-card.severity-major,
.logic-card.severity-warn {
  color: #fed7aa;
}

.logic-card.severity-minor,
.logic-card.severity-info {
  color: #bae6fd;
}

/* Empty state ----------------------------------------------------------- */

.alarm-empty-state {
  border-radius: 22px;
  padding: 32px;
  border: 1px dashed var(--alarm-border);
  text-align: center;
  display: grid;
  gap: 12px;
  background: rgba(2, 6, 23, 0.45);
}

.alarm-empty-state button {
  justify-self: center;
  border-radius: 999px;
  border: 1px solid var(--alarm-accent);
  background: transparent;
  color: var(--alarm-text);
  padding: 10px 24px;
}

/* Severity table -------------------------------------------------------- */

.alarm-severity-table header {
  display: flex;
  justify-content: space-between;
  gap: 18px;
  flex-wrap: wrap;
  align-items: flex-end;
}

.alarm-severity-table__tabs {
  display: flex;
  gap: 10px;
}

.alarm-severity-table__tabs button {
  border-radius: 999px;
  border: 1px solid var(--alarm-border);
  background: transparent;
  color: var(--alarm-text);
  padding: 8px 16px;
  cursor: pointer;
  display: flex;
  gap: 6px;
  align-items: center;
}

.alarm-severity-table__tabs button.is-active {
  background: rgba(59, 130, 246, 0.2);
}

.alarm-severity-table__wrapper {
  margin-top: 16px;
  border-radius: 18px;
  border: 1px solid var(--alarm-border-subtle);
  overflow: hidden;
}

.alarm-severity-table table {
  width: 100%;
  border-collapse: collapse;
}

.alarm-severity-table th {
  text-align: left;
  padding: 12px;
  font-size: 0.85rem;
  color: var(--alarm-muted);
  text-transform: uppercase;
}

.alarm-severity-table td {
  padding: 12px;
  border-top: 1px solid var(--alarm-border-subtle);
}

.alarm-severity-table td button {
  border: none;
  background: none;
  color: var(--alarm-accent-strong);
  cursor: pointer;
  text-align: left;
}

.alarm-severity-table__pagination {
  margin-top: 16px;
  display: flex;
  justify-content: center;
  gap: 12px;
  align-items: center;
}

.alarm-severity-table__pagination button {
  border-radius: 999px;
  border: 1px solid var(--alarm-border);
  background: transparent;
  color: var(--alarm-text);
  padding: 6px 14px;
}

/* Panels & timeline ----------------------------------------------------- */

.alarm-panels {
  display: grid;
  grid-template-columns: minmax(0, 1fr) 380px;
  gap: 24px;
}

.alarm-panels__main {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.alarm-kanban {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 16px;
}

.alarm-lane {
  border-radius: 22px;
  border: 1px solid var(--alarm-border);
  padding: 18px;
  background: rgba(2, 6, 23, 0.5);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.alarm-lane header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}

.lane-header__title span {
  text-transform: uppercase;
  font-size: 0.78rem;
  color: var(--alarm-muted);
}

.lane-header__title strong {
  display: block;
  font-size: 1.4rem;
}

.lane-pagination {
  display: flex;
  gap: 6px;
  align-items: center;
}

.lane-pagination button {
  border-radius: 999px;
  border: 1px solid var(--alarm-border);
  background: transparent;
  color: var(--alarm-text);
  padding: 2px 8px;
}

.alarm-lane ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 12px;
}

.alarm-lane__card {
  border-radius: 16px;
  border: 1px solid var(--alarm-border-subtle);
  padding: 14px;
  background: rgba(2, 6, 23, 0.55);
  cursor: pointer;
  transition: border-color 140ms ease;
}

.alarm-lane__card h4 {
  margin: 0 0 4px;
}

.alarm-lane__card footer {
  margin-top: 8px;
  display: flex;
  justify-content: space-between;
  font-size: 0.85rem;
  color: var(--alarm-muted);
}

.alarm-lane__card:hover {
  border-color: var(--alarm-accent);
}

.alarm-lane__empty {
  text-align: center;
  color: var(--alarm-muted);
  padding: 16px;
}

.alarm-timeline {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.alarm-timeline header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.alarm-timeline ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 14px;
}

.alarm-timeline__item {
  display: grid;
  grid-template-columns: auto minmax(0, 1fr);
  gap: 14px;
  padding: 16px;
  border-radius: 18px;
  border: 1px solid var(--alarm-border-subtle);
  background: rgba(2, 6, 23, 0.5);
  cursor: pointer;
  transition: border-color 140ms ease;
}

.alarm-timeline__item.selected {
  border-color: var(--alarm-accent);
}

.alarm-timeline__marker {
  width: 8px;
  border-radius: 999px;
  background: linear-gradient(180deg, var(--alarm-accent), var(--alarm-accent-strong));
}

.alarm-timeline__header {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  align-items: center;
}

.alarm-timeline__actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 10px;
}

.alarm-collaborate-btn {
  border-radius: 999px;
  border: 1px solid var(--alarm-accent);
  background: transparent;
  color: var(--alarm-text);
  padding: 6px 16px;
  cursor: pointer;
}

.timeline-pagination {
  display: flex;
  gap: 12px;
  justify-content: center;
  align-items: center;
  margin-top: 8px;
}

.timeline-pagination button {
  border-radius: 999px;
  border: 1px solid var(--alarm-border);
  background: transparent;
  color: var(--alarm-text);
  padding: 6px 14px;
}

.alarm-timeline__empty {
  text-align: center;
  color: var(--alarm-muted);
}

/* Detail ---------------------------------------------------------------- */

.alarm-detail {
  display: flex;
  flex-direction: column;
}

.alarm-detail__card h2 {
  margin: 12px 0 6px;
  font-size: 1.6rem;
}

.alarm-detail__lead {
  margin: 0 0 16px;
  font-size: 1rem;
  color: var(--alarm-muted);
}

.alarm-detail__meta {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
  margin: 0 0 18px;
}

.alarm-detail__meta div {
  border-radius: 16px;
  border: 1px solid var(--alarm-border-subtle);
  padding: 12px;
}

.alarm-detail__panel {
  border-radius: 18px;
  border: 1px solid var(--alarm-border-subtle);
  padding: 16px;
  margin-bottom: 16px;
}

.alarm-detail__panel h3 {
  margin: 0 0 10px;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.alarm-detail__panel ul {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 10px;
}

.alarm-detail__panel li {
  display: flex;
  justify-content: space-between;
  gap: 12px;
}

.alarm-detail__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.alarm-detail__actions button {
  border-radius: 999px;
  border: 1px solid var(--alarm-border);
  background: transparent;
  color: var(--alarm-text);
  padding: 10px 24px;
  cursor: pointer;
}

.alarm-detail__actions button.secondary {
  border-color: var(--alarm-border-subtle);
  color: var(--alarm-muted);
}

.alarm-detail__empty {
  border-radius: 24px;
  border: 1px dashed var(--alarm-border);
  padding: 40px;
  text-align: center;
  color: var(--alarm-muted);
}

/* Right rail ------------------------------------------------------------ */

.alarm-right-rail {
  position: sticky;
  top: 32px;
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.alarm-sop-card header {
  display: flex;
  align-items: center;
  gap: 12px;
}

.alarm-sop-card header svg {
  width: 40px;
  height: 40px;
  color: var(--alarm-accent);
}

.alarm-sop-card__hint {
  display: block;
  margin-top: 8px;
  font-size: 0.85rem;
  color: var(--alarm-muted);
}

.alarm-sop-card__meta {
  margin: 16px 0;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
  align-items: center;
}

.alarm-sop-card__meta .badge {
  justify-self: start;
}

.alarm-sop-card__stats {
  margin: 16px 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 10px;
}

.alarm-sop-card ol {
  margin: 0;
  padding-left: 20px;
  display: grid;
  gap: 8px;
}

.alarm-sop-card__footer {
  margin-top: 16px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.alarm-sop-card__footer button {
  align-self: flex-start;
  border-radius: 999px;
  border: 1px solid var(--alarm-border);
  padding: 8px 18px;
  background: transparent;
  color: var(--alarm-text);
}

.alarm-right-rail__actions {
  display: grid;
  gap: 12px;
}

.alarm-right-rail__btn {
  border-radius: 18px;
  border: 1px solid var(--alarm-border);
  padding: 16px;
  background: rgba(2, 6, 23, 0.55);
  color: var(--alarm-text);
  text-align: left;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  transition: border-color 140ms ease;
}

.alarm-right-rail__btn:hover {
  border-color: var(--alarm-accent);
}

.alarm-right-rail__btn svg {
  width: 24px;
  height: 24px;
  color: var(--alarm-accent);
}

@media (max-width: 1200px) {
  .alarm-center__layout {
    grid-template-columns: 1fr;
  }

  .alarm-right-rail {
    position: static;
  }

  .alarm-panels {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .scope-selector {
    grid-template-columns: 1fr;
  }

  .alarm-action-bar {
    flex-direction: column;
    align-items: flex-start;
  }

  .alarm-panels {
    padding: 20px;
  }

  .alarm-timeline__item {
    grid-template-columns: 1fr;
  }

  .alarm-center__layout {
    padding: 24px 16px 40px;
  }

  .alarm-analytics__card--wide {
    grid-column: span 1;
  }
}

/* -------------------------------------------------------------------------- */
/* Collaboration workspace                                                    */
/* -------------------------------------------------------------------------- */

.collaboration-route {
  --collab-bg: radial-gradient(circle at 10% 0%, rgba(59, 130, 246, 0.25), transparent 60%), #050818;
  --collab-panel: rgba(10, 15, 32, 0.92);
  --collab-surface: rgba(13, 19, 40, 0.85);
  --collab-border: rgba(99, 102, 241, 0.35);
  --collab-border-subtle: rgba(148, 163, 184, 0.16);
  --collab-text: #e2e8f0;
  --collab-muted: rgba(148, 163, 184, 0.85);
  --collab-accent: #60a5fa;
  --collab-accent-strong: #38bdf8;
  display: flex;
  min-height: 100vh;
  background: var(--collab-bg);
  color: var(--collab-text);
}

[data-theme='light'].collaboration-route {
  --collab-bg: radial-gradient(circle at 20% 0%, rgba(37, 99, 235, 0.15), transparent 60%), #f1f5f9;
  --collab-panel: rgba(255, 255, 255, 0.92);
  --collab-surface: rgba(248, 250, 252, 0.9);
  --collab-border: rgba(99, 102, 241, 0.2);
  --collab-border-subtle: rgba(15, 23, 42, 0.08);
  --collab-text: #0f172a;
  --collab-muted: rgba(71, 85, 105, 0.9);
  --collab-accent: #2563eb;
  --collab-accent-strong: #0ea5e9;
}

.collaboration-route .app-shell {
  flex: 1 1 auto;
}

.collaboration-workspace {
  display: grid;
  grid-template-columns: minmax(0, 1fr) 360px;
  gap: 28px;
  padding: 32px 32px 48px;
}

.collaboration-main {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.collaboration-header {
  border-radius: 30px;
  padding: 28px 32px;
  border: 1px solid var(--collab-border);
  background: radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.2), transparent 60%), var(--collab-panel);
  display: flex;
  justify-content: space-between;
  gap: 28px;
  box-shadow: 0 30px 70px rgba(2, 6, 23, 0.6);
}

.collaboration-header p {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-size: 0.75rem;
  color: var(--collab-muted);
}

.collaboration-header h1 {
  margin: 4px 0 12px;
  font-size: 2rem;
}

.collaboration-chips {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.collaboration-chip {
  border-radius: 16px;
  border: 1px solid var(--collab-border-subtle);
  padding: 8px 12px;
  display: flex;
  gap: 6px;
  font-size: 0.85rem;
  align-items: center;
  background: rgba(15, 23, 42, 0.35);
}

.collaboration-chip strong {
  text-transform: uppercase;
  font-size: 0.72rem;
  letter-spacing: 0.08em;
  color: var(--collab-muted);
}

.collaboration-status {
  border-radius: 999px;
  padding: 6px 14px;
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  border: 1px solid currentColor;
}

.collaboration-status--open {
  color: #fbbf24;
}

.collaboration-status--in_review {
  color: #34d399;
}

.collaboration-status--resolved {
  color: #38bdf8;
}

.collaboration-header-actions {
  display: flex;
  flex-direction: column;
  gap: 18px;
  min-width: 320px;
}

.privacy-controls {
  display: flex;
  gap: 18px;
  flex-wrap: wrap;
  font-size: 0.85rem;
  color: var(--collab-muted);
}

.privacy-controls label {
  display: inline-flex;
  gap: 6px;
  align-items: center;
}

.privacy-controls input {
  accent-color: var(--collab-accent);
}

.header-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.header-buttons button,
.shortcut-buttons button,
.context-actions button,
.composer-actions button,
.collaboration-header .privacy-controls button {
  border-radius: 14px;
  border: 1px solid var(--collab-border);
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.85), rgba(30, 64, 175, 0.7));
  color: var(--collab-text);
  padding: 10px 18px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 150ms ease, box-shadow 150ms ease, border-color 150ms ease;
}

.header-buttons button.secondary,
.shortcut-buttons button.secondary,
.composer-actions button.secondary {
  background: rgba(15, 23, 42, 0.5);
  border-color: var(--collab-border-subtle);
  color: var(--collab-muted);
}

.header-buttons button:hover,
.shortcut-buttons button:hover,
.context-actions button:hover,
.composer-actions button:hover {
  transform: translateY(-1px);
  border-color: var(--collab-accent);
  box-shadow: 0 12px 30px rgba(14, 165, 233, 0.25);
}

.persona-ribbon {
  display: flex;
  gap: 14px;
  overflow-x: auto;
  padding: 4px 4px 8px;
}

.persona-chip {
  border-radius: 20px;
  border: 1px solid var(--collab-border-subtle);
  padding: 8px 14px;
  display: inline-flex;
  gap: 10px;
  align-items: center;
  background: var(--collab-surface);
  color: var(--collab-text);
  cursor: pointer;
  min-width: 220px;
  transition: border-color 150ms ease, transform 150ms ease;
}

.persona-chip.is-active {
  border-color: var(--collab-accent);
  transform: translateY(-2px);
  box-shadow: 0 16px 40px rgba(8, 145, 178, 0.3);
}

.persona-chip__initial {
  width: 42px;
  height: 42px;
  border-radius: 14px;
  display: grid;
  place-items: center;
  font-weight: 700;
  color: #020617;
}

.persona-chip__hierarchy {
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--collab-muted);
}

.persona-chip__label {
  font-weight: 600;
}

.invite-chip {
  min-width: auto;
  border-style: dashed;
  justify-content: center;
}

.collaboration-thread {
  border-radius: 30px;
  border: 1px solid var(--collab-border);
  background: var(--collab-panel);
  box-shadow: 0 25px 70px rgba(2, 6, 23, 0.65);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.collaboration-messages {
  max-height: 520px;
  overflow-y: auto;
  padding: 24px 28px;
  display: grid;
  gap: 16px;
}

.collaboration-message {
  border-radius: 20px;
  border: 1px solid var(--collab-border-subtle);
  padding: 18px;
  background: rgba(2, 6, 23, 0.35);
  display: grid;
  gap: 8px;
}

.collaboration-message--ai {
  border-color: rgba(168, 85, 247, 0.45);
  background: rgba(88, 28, 135, 0.2);
}

.collaboration-message header {
  display: flex;
  gap: 12px;
  align-items: baseline;
  flex-wrap: wrap;
}

.collaboration-message .role-pill {
  border-radius: 999px;
  padding: 2px 10px;
  font-size: 0.72rem;
  background: rgba(148, 163, 184, 0.2);
  border: 1px solid rgba(148, 163, 184, 0.3);
}

.message-audience {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--collab-muted);
}

.message-audience--ai {
  color: #c084fc;
}

.message-audience--private {
  color: #f87171;
}

.mention-chips {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.mention-chips span {
  border-radius: 999px;
  border: 1px solid var(--collab-border);
  padding: 4px 10px;
  font-size: 0.78rem;
}

.workspace-attachment {
  border-radius: 18px;
  border: 1px solid var(--collab-border-subtle);
  background: rgba(15, 23, 42, 0.4);
  padding: 12px;
}

.workspace-attachment pre {
  margin: 8px 0 0;
  background: rgba(2, 6, 23, 0.6);
  padding: 12px;
  border-radius: 12px;
  overflow: auto;
}

.message-reactions {
  display: flex;
  gap: 6px;
}

.message-reactions span {
  font-size: 1rem;
}

.context-indicator {
  font-size: 0.78rem;
  color: var(--collab-muted);
}

.collaboration-composer {
  border-top: 1px solid var(--collab-border);
  padding: 20px 28px;
  display: grid;
  gap: 16px;
  background: rgba(2, 6, 23, 0.55);
}

.collaboration-composer textarea {
  width: 100%;
  min-height: 130px;
  border-radius: 18px;
  border: 1px solid var(--collab-border);
  background: rgba(2, 6, 23, 0.7);
  color: var(--collab-text);
  padding: 14px;
  resize: vertical;
}

.composer-flags {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
  font-size: 0.9rem;
  color: var(--collab-muted);
}

.composer-flags input,
.composer-controls input {
  accent-color: var(--collab-accent);
}

.composer-flags select {
  border-radius: 12px;
  border: 1px solid var(--collab-border-subtle);
  background: rgba(15, 23, 42, 0.6);
  color: var(--collab-text);
  padding: 6px 10px;
}

.ai-status {
  border-radius: 14px;
  padding: 10px 14px;
  background: rgba(14, 165, 233, 0.12);
  border: 1px solid rgba(14, 165, 233, 0.35);
  font-size: 0.9rem;
}

.ai-status--error {
  background: rgba(248, 113, 113, 0.12);
  border-color: rgba(248, 113, 113, 0.4);
  color: #fecaca;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.composer-controls {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 12px;
  align-items: center;
  font-size: 0.85rem;
  color: var(--collab-muted);
}

.composer-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.composer-actions button {
  font-size: 0.85rem;
}

.activity-ribbon {
  padding: 14px 24px;
  background: rgba(2, 6, 23, 0.35);
  display: flex;
  justify-content: space-between;
  font-size: 0.85rem;
  color: var(--collab-muted);
  border-top: 1px solid var(--collab-border);
}

.collaboration-context {
  position: relative;
  border-radius: 30px;
  border: 1px solid var(--collab-border);
  background: var(--collab-panel);
  box-shadow: 0 25px 70px rgba(2, 6, 23, 0.6);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.collaboration-context .collapse-toggle {
  border: none;
  background: rgba(15, 23, 42, 0.6);
  color: var(--collab-text);
  padding: 12px 18px;
  border-bottom: 1px solid var(--collab-border);
  cursor: pointer;
  text-align: left;
}

.context-panel {
  padding: 20px 24px;
  border-bottom: 1px solid var(--collab-border-subtle);
}

.context-panel h3 {
  margin: 0 0 12px;
  font-size: 1rem;
}

.context-actions {
  display: flex;
  gap: 10px;
  margin-bottom: 12px;
}

.context-json {
  max-height: 220px;
  overflow: auto;
  background: rgba(2, 6, 23, 0.65);
  border-radius: 14px;
  padding: 12px;
  border: 1px solid var(--collab-border-subtle);
}

.kpi-grid {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
}

.kpi-grid li {
  border-radius: 16px;
  border: 1px solid var(--collab-border-subtle);
  padding: 12px;
  background: rgba(2, 6, 23, 0.5);
}

.kpi-grid span {
  font-size: 0.85rem;
  color: var(--collab-muted);
}

.kpi-grid strong {
  display: block;
  font-size: 1.3rem;
  margin-top: 6px;
}

.shortcut-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 16px;
}

.timeline-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 12px;
  font-size: 0.9rem;
  color: var(--collab-muted);
}

.timeline-list li {
  display: flex;
  justify-content: space-between;
  gap: 12px;
}

.invite-modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(2, 6, 23, 0.75);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 90;
}

.invite-modal {
  width: min(480px, calc(100% - 32px));
  border-radius: 24px;
  border: 1px solid var(--collab-border);
  background: var(--collab-panel);
  padding: 24px;
  box-shadow: 0 30px 80px rgba(2, 6, 23, 0.7);
}

.invite-modal header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.invite-modal form {
  display: grid;
  gap: 14px;
}

.invite-modal label {
  display: grid;
  gap: 6px;
  font-size: 0.85rem;
  color: var(--collab-muted);
}

.invite-modal input,
.invite-modal select {
  border-radius: 12px;
  border: 1px solid var(--collab-border);
  background: rgba(2, 6, 23, 0.6);
  color: var(--collab-text);
  padding: 10px 12px;
}

.invite-modal fieldset {
  border: 1px solid var(--collab-border-subtle);
  border-radius: 16px;
  padding: 12px;
  display: grid;
  gap: 8px;
}

.invite-modal legend {
  padding: 0 6px;
  font-size: 0.85rem;
  color: var(--collab-muted);
}

.invite-modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.invite-modal-actions button {
  border-radius: 12px;
  border: 1px solid var(--collab-border);
  background: linear-gradient(135deg, rgba(14, 165, 233, 0.8), rgba(37, 99, 235, 0.7));
  color: var(--collab-text);
  padding: 10px 16px;
  cursor: pointer;
  font-weight: 600;
}

.invite-modal-actions button.secondary {
  background: transparent;
  color: var(--collab-muted);
}

@media (max-width: 1200px) {
  .collaboration-workspace {
    grid-template-columns: 1fr;
  }

  .collaboration-context {
    order: -1;
  }

  .collaboration-header {
    flex-direction: column;
  }

  .collaboration-header-actions {
    width: 100%;
  }
}

@media (max-width: 768px) {
  .collaboration-workspace {
    padding: 24px 16px 40px;
  }

  .header-buttons {
    flex-direction: column;
    align-items: stretch;
  }

  .persona-chip {
    min-width: 180px;
  }

  .activity-ribbon {
    flex-direction: column;
    gap: 6px;
  }
}

/* -------------------------------------------------------------------------- */
/* Change management                                                          */
/* -------------------------------------------------------------------------- */

.change-management {
  --change-bg: radial-gradient(circle at 15% 0%, rgba(59, 130, 246, 0.25), transparent 60%), #030513;
  --change-panel: rgba(8, 13, 30, 0.92);
  --change-surface: rgba(13, 17, 32, 0.85);
  --change-border: rgba(99, 102, 241, 0.35);
  --change-border-subtle: rgba(148, 163, 184, 0.18);
  --change-text: #e2e8f0;
  --change-muted: rgba(148, 163, 184, 0.85);
  --change-accent: #60a5fa;
  --change-positive: #34d399;
  display: flex;
  min-height: 100vh;
  background: var(--change-bg);
  color: var(--change-text);
}

.change-management[data-theme='light'],
[data-theme='light'] .change-management {
  --change-bg: radial-gradient(circle at 15% 0%, rgba(59, 130, 246, 0.12), transparent 60%), #f4f7fb;
  --change-panel: rgba(255, 255, 255, 0.95);
  --change-surface: rgba(248, 250, 252, 0.9);
  --change-border: rgba(99, 102, 241, 0.18);
  --change-border-subtle: rgba(15, 23, 42, 0.08);
  --change-text: #0f172a;
  --change-muted: rgba(71, 85, 105, 0.9);
  --change-accent: #2563eb;
}

.change-management .app-shell {
  flex: 1 1 auto;
}

.change-hub {
  display: flex;
  flex-direction: column;
  gap: 28px;
  padding: 32px 32px 48px;
}

.change-hero {
  border-radius: 32px;
  border: 1px solid var(--change-border);
  background: radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.25), transparent 65%), var(--change-panel);
  padding: 28px 32px;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 24px;
  box-shadow: 0 30px 70px rgba(2, 6, 23, 0.55);
}

.change-hero__titles p {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  font-size: 0.78rem;
  color: var(--change-muted);
}

.change-hero__titles h1 {
  margin: 6px 0 4px;
  font-size: 2rem;
}

.change-hero__titles span {
  font-size: 0.95rem;
  color: var(--change-muted);
}

.change-hero__metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 16px;
  flex: 1 1 auto;
}

.change-analytics {
  border-radius: 32px;
  border: 1px solid var(--change-border);
  background: var(--change-panel);
  padding: 24px 28px;
  box-shadow: 0 30px 70px rgba(2, 6, 23, 0.55);
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.change-analytics header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 12px;
}

.change-analytics__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 16px;
}

.change-analytics__card {
  border-radius: 24px;
  border: 1px solid var(--change-border-subtle);
  background: rgba(2, 6, 23, 0.4);
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.change-analytics__card h4 {
  margin: 0;
  font-size: 0.95rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--change-muted);
}

.change-analytics__card--wide {
  grid-column: span 2;
}

.change-metric-card {
  border-radius: 20px;
  padding: 16px;
  border: 1px solid var(--change-border-subtle);
  background: rgba(2, 6, 23, 0.35);
  display: grid;
  gap: 6px;
}

.change-metric-card span {
  font-size: 0.85rem;
  color: var(--change-muted);
}

.change-metric-card strong {
  font-size: 1.8rem;
}

.change-metric-card small {
  font-size: 0.8rem;
  color: var(--change-muted);
}

.change-body-grid {
  display: grid;
  grid-template-columns: minmax(0, 1fr) 320px;
  gap: 24px;
}

.change-form-stack {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.change-form-panel {
  border-radius: 32px;
  border: 1px solid var(--change-border);
  background: var(--change-panel);
  box-shadow: 0 30px 70px rgba(2, 6, 23, 0.55);
  padding: 28px 32px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.change-form-panel__header {
  display: flex;
  justify-content: space-between;
  gap: 18px;
  align-items: flex-start;
}

.change-form-panel__header p {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.78rem;
  color: var(--change-muted);
}

.change-form-panel__header h2 {
  margin: 4px 0;
}

.change-form-panel__header span {
  color: var(--change-muted);
  font-size: 0.9rem;
}

.change-form-panel__status {
  border-radius: 18px;
  border: 1px solid var(--change-border-subtle);
  padding: 10px 16px;
  background: rgba(2, 6, 23, 0.4);
  display: grid;
  gap: 4px;
  text-align: right;
}

.change-form-panel__status span {
  font-size: 0.78rem;
  color: var(--change-muted);
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.change-form-panel__status strong {
  font-size: 1.6rem;
}

.change-form {
  display: grid;
  gap: 18px;
}

.change-form fieldset {
  border: 1px solid var(--change-border-subtle);
  border-radius: 24px;
  padding: 18px;
  display: grid;
  gap: 16px;
  background: rgba(2, 6, 23, 0.35);
}

.change-form legend {
  text-transform: uppercase;
  letter-spacing: 0.1em;
  font-size: 0.75rem;
  color: var(--change-muted);
  padding: 0 6px;
}

.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
}

.form-grid label {
  display: grid;
  gap: 6px;
  font-size: 0.85rem;
}

.form-grid label span {
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--change-muted);
  font-size: 0.72rem;
}

.form-grid input,
.form-grid select,
.form-grid textarea {
  border-radius: 14px;
  border: 1px solid var(--change-border);
  background: rgba(2, 6, 23, 0.6);
  color: var(--change-text);
  padding: 10px 12px;
}

.form-grid textarea {
  resize: vertical;
}

.input-with-addon {
  display: flex;
  gap: 8px;
}

.input-with-addon select {
  width: 110px;
}

.chip-group {
  display: inline-flex;
  gap: 10px;
}

.chip-group .chip {
  border-radius: 999px;
  border: 1px solid var(--change-border-subtle);
  padding: 8px 18px;
  text-transform: uppercase;
  font-size: 0.75rem;
  cursor: pointer;
  background: transparent;
  color: var(--change-text);
}

.chip-group .chip.active {
  border-color: var(--change-accent);
  background: rgba(96, 165, 250, 0.2);
}

.change-form__footer {
  display: grid;
  gap: 12px;
}

.btn-group {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.btn-primary,
.btn-secondary {
  border-radius: 14px;
  border: 1px solid var(--change-border);
  padding: 12px 20px;
  cursor: pointer;
  font-weight: 600;
}

.btn-primary {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.85), rgba(14, 165, 233, 0.75));
  color: #fff;
  box-shadow: 0 16px 40px rgba(14, 165, 233, 0.35);
}

.btn-secondary {
  background: transparent;
  color: var(--change-muted);
}

.change-form__status {
  font-size: 0.9rem;
}

.change-form__status--success {
  color: var(--change-positive);
}

.change-form__status--error {
  color: #f87171;
}

.change-form__note {
  font-size: 0.8rem;
  color: var(--change-muted);
}

.change-side-panel {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.change-card {
  border-radius: 24px;
  border: 1px solid var(--change-border);
  background: var(--change-panel);
  padding: 20px;
  box-shadow: 0 18px 40px rgba(2, 6, 23, 0.5);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.change-card__header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 12px;
}

.change-card__header span {
  font-size: 0.85rem;
  color: var(--change-muted);
}

.change-card__error {
  color: #fecaca;
  font-size: 0.9rem;
}

.change-card__placeholder {
  font-size: 0.9rem;
  color: var(--change-muted);
}

.change-card__timestamp {
  margin: 0;
  font-size: 0.8rem;
  color: var(--change-muted);
}

.change-card dl {
  margin: 0;
  display: grid;
  gap: 8px;
}

.change-card dl div {
  display: flex;
  justify-content: space-between;
  font-size: 0.9rem;
}

.change-card__list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 8px;
  font-size: 0.9rem;
}

.change-card__note {
  border-top: 1px solid var(--change-border-subtle);
  padding-top: 8px;
  display: grid;
  gap: 4px;
}

.change-card__note span {
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.72rem;
  color: var(--change-muted);
}

.change-card__note p {
  margin: 0;
}

.change-card__note-meta {
  font-size: 0.8rem;
  color: var(--change-muted);
}

.change-card--queue {
  gap: 0;
}

.change-queue {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 12px;
}

.change-queue li {
  border: 1px solid var(--change-border-subtle);
  border-radius: 16px;
  padding: 12px;
  background: rgba(2, 6, 23, 0.35);
}

.change-queue__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.change-queue__timestamp {
  margin: 6px 0;
  font-size: 0.85rem;
  color: var(--change-muted);
}

.change-queue__meta {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  font-size: 0.8rem;
  color: var(--change-muted);
}

.change-queue__pagination {
  margin-top: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}

.change-queue__pagination button {
  border-radius: 12px;
  border: 1px solid var(--change-border);
  padding: 6px 12px;
  background: transparent;
  color: var(--change-text);
  cursor: pointer;
}

.change-ledger {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.change-table-card,
.change-stage-card {
  border-radius: 32px;
  border: 1px solid var(--change-border);
  background: var(--change-panel);
  padding: 24px 28px;
  box-shadow: 0 30px 70px rgba(2, 6, 23, 0.55);
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.change-table-card header,
.change-stage-card header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 12px;
}

.change-table-wrapper {
  border-radius: 24px;
  border: 1px solid var(--change-border-subtle);
  overflow: hidden;
  background: var(--change-surface);
}

.change-table {
  width: 100%;
  border-collapse: collapse;
}

.change-table th {
  text-align: left;
  padding: 14px;
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--change-muted);
}

.change-table td {
  padding: 14px;
  border-top: 1px solid var(--change-border-subtle);
  font-size: 0.92rem;
}

.change-table td span,
.change-table td small {
  display: block;
  color: var(--change-muted);
  font-size: 0.8rem;
}

.change-table tr {
  cursor: pointer;
  transition: background 0.2s ease;
}

.change-table tr.is-active {
  background: rgba(14, 165, 233, 0.08);
}

.change-table__empty {
  padding: 32px;
  text-align: center;
  color: var(--change-muted);
}

.change-table__pagination {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.change-table__pagination button {
  border-radius: 12px;
  border: 1px solid var(--change-border);
  padding: 8px 16px;
  background: transparent;
  color: var(--change-text);
  cursor: pointer;
}

.change-stage-flow {
  display: flex;
  align-items: center;
  gap: 18px;
  flex-wrap: wrap;
  justify-content: space-between;
}

.change-stage-node {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 2px solid var(--change-border-subtle);
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background: rgba(2, 6, 23, 0.4);
  box-shadow: inset 0 0 40px rgba(14, 165, 233, 0.05);
}

.change-stage-node span {
  font-weight: 600;
  font-size: 0.95rem;
}

.change-stage-node small {
  font-size: 0.72rem;
  color: var(--change-muted);
}

.change-stage-node::after {
  content: '';
  position: absolute;
  inset: -6px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(96, 165, 250, 0.35), transparent 60%);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
}

.change-stage-node.is-complete {
  border-color: var(--change-positive);
  box-shadow: 0 0 25px rgba(52, 211, 153, 0.3), inset 0 0 30px rgba(52, 211, 153, 0.1);
}

.change-stage-node.is-active {
  border-color: var(--change-accent);
  box-shadow: 0 0 30px rgba(96, 165, 250, 0.5), inset 0 0 40px rgba(96, 165, 250, 0.2);
}

.change-stage-node.is-active::after {
  opacity: 0.8;
}

.change-stage-connector {
  flex: 1 1 40px;
  height: 2px;
  background: linear-gradient(90deg, rgba(96, 165, 250, 0.15), rgba(14, 165, 233, 0.4));
}

.change-stage-connector.is-complete {
  background: var(--change-positive);
}

.change-stage-meta {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 12px;
}

.change-stage-meta li {
  border-radius: 18px;
  border: 1px solid var(--change-border-subtle);
  padding: 12px;
  background: rgba(2, 6, 23, 0.4);
  display: grid;
  gap: 4px;
}

.change-stage-meta span {
  font-size: 0.78rem;
  color: var(--change-muted);
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.change-stage-meta__note p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--change-text);
}

.change-stage-meta__note {
  grid-column: 1 / -1;
}

.change-stage-actions {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.change-stage-actions button {
  border-radius: 12px;
  border: 1px solid var(--change-border);
  padding: 10px 16px;
  background: rgba(2, 6, 23, 0.45);
  color: var(--change-text);
  cursor: pointer;
}

.change-stage-placeholder {
  color: var(--change-muted);
}

@media (max-width: 1200px) {
  .change-body-grid {
    grid-template-columns: 1fr;
  }

  .change-form-panel__header {
    flex-direction: column;
  }

  .change-hero {
    flex-direction: column;
  }

  .change-analytics__card--wide {
    grid-column: span 1;
  }
}

@media (max-width: 768px) {
  .change-hub {
    padding: 24px 16px 40px;
  }

  .change-hero__metrics {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  }

  .change-table__pagination {
    flex-direction: column;
    align-items: flex-start;
  }
}
.rcc-bottom-scroll {
  display: flex;
  flex-direction: column;
  gap: 20px;
  flex: 1;
  min-height: 0;
  max-height: min(520px, 60vh);
  overflow: hidden;
}

.rcc-bottom-columns {
  flex: 1;
  min-height: 0;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
}

.rcc-bottom-column {
  display: flex;
  flex-direction: column;
  gap: 16px;
  min-width: 0;
  min-height: 0;
  overflow-y: auto;
  padding-right: 8px;
  scrollbar-width: thin;
  scrollbar-color: rgba(148, 163, 184, 0.4) transparent;
}

.rcc-bottom-column::-webkit-scrollbar {
  width: 6px;
}

.rcc-bottom-column::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.4);
  border-radius: 999px;
}
